var tE=Object.defineProperty,nE=Object.defineProperties;var rE=Object.getOwnPropertyDescriptors;var Gp=Object.getOwnPropertySymbols;var iE=Object.prototype.hasOwnProperty,oE=Object.prototype.propertyIsEnumerable;var Wp=(t,e,n)=>e in t?tE(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,fe=(t,e)=>{for(var n in e||={})iE.call(e,n)&&Wp(t,n,e[n]);if(Gp)for(var n of Gp(e))oE.call(e,n)&&Wp(t,n,e[n]);return t},ct=(t,e)=>nE(t,rE(e));function Zp(t,e){return Object.is(t,e)}var wt=null,Vs=!1,Ac=1,Vi=Symbol("SIGNAL");function Le(t){let e=wt;return wt=t,e}function Yp(){return wt}var $s={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Kp(t){if(Vs)throw new Error("");if(wt===null)return;wt.consumerOnSignalRead(t);let e=wt.nextProducerIndex++;if(Hs(wt),e<wt.producerNode.length&&wt.producerNode[e]!==t&&aa(wt)){let n=wt.producerNode[e];js(n,wt.producerIndexOfThis[e])}wt.producerNode[e]!==t&&(wt.producerNode[e]=t,wt.producerIndexOfThis[e]=aa(wt)?eg(t,wt,e):0),wt.producerLastReadVersion[e]=t.version}function aE(){Ac++}function Qp(t){if(!(aa(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Ac)){if(!t.producerMustRecompute(t)&&!Rc(t)){Mc(t);return}t.producerRecomputeValue(t),Mc(t)}}function Xp(t){if(t.liveConsumerNode===void 0)return;let e=Vs;Vs=!0;try{for(let n of t.liveConsumerNode)n.dirty||uE(n)}finally{Vs=e}}function sE(){return wt?.consumerAllowSignalWrites!==!1}function uE(t){t.dirty=!0,Xp(t),t.consumerMarkedDirty?.(t)}function Mc(t){t.dirty=!1,t.lastCleanEpoch=Ac}function Nc(t){return t&&(t.nextProducerIndex=0),Le(t)}function Jp(t,e){if(Le(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(aa(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)js(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Rc(t){Hs(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(Qp(n),r!==n.version))return!0}return!1}function _c(t){if(Hs(t),aa(t))for(let e=0;e<t.producerNode.length;e++)js(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function eg(t,e,n){if(tg(t),t.liveConsumerNode.length===0&&ng(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=eg(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function js(t,e){if(tg(t),t.liveConsumerNode.length===1&&ng(t))for(let r=0;r<t.producerNode.length;r++)js(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Hs(i),i.producerIndexOfThis[r]=e}}function aa(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Hs(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function tg(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function ng(t){return t.producerNode!==void 0}function lE(){throw new Error}var rg=lE;function cE(){rg()}function ig(t){rg=t}var dE=null;function og(t,e){sE()||cE(),t.equal(t.value,e)||(t.value=e,fE(t))}var ag=ct(fe({},$s),{equal:Zp,value:void 0});function fE(t){t.version++,aE(),Xp(t),dE?.()}function xe(t){return typeof t=="function"}function $i(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var zs=$i(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function sa(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var vt=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(xe(r))try{r()}catch(o){e=o instanceof zs?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{sg(o)}catch(a){e=e??[],a instanceof zs?e=[...e,...a.errors]:e.push(a)}}if(e)throw new zs(e)}}add(e){var n;if(e&&e!==this)if(this.closed)sg(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&sa(n,e)}remove(e){let{_finalizers:n}=this;n&&sa(n,e),e instanceof t&&e._removeParent(this)}};vt.EMPTY=(()=>{let t=new vt;return t.closed=!0,t})();var kc=vt.EMPTY;function Us(t){return t instanceof vt||t&&"closed"in t&&xe(t.remove)&&xe(t.add)&&xe(t.unsubscribe)}function sg(t){xe(t)?t():t.unsubscribe()}var Mn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var ji={setTimeout(t,e,...n){let{delegate:r}=ji;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=ji;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function qs(t){ji.setTimeout(()=>{let{onUnhandledError:e}=Mn;if(e)e(t);else throw t})}function ua(){}var ug=Oc("C",void 0,void 0);function lg(t){return Oc("E",void 0,t)}function cg(t){return Oc("N",t,void 0)}function Oc(t,e,n){return{kind:t,value:e,error:n}}var Xr=null;function Hi(t){if(Mn.useDeprecatedSynchronousErrorHandling){let e=!Xr;if(e&&(Xr={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Xr;if(Xr=null,n)throw r}}else t()}function dg(t){Mn.useDeprecatedSynchronousErrorHandling&&Xr&&(Xr.errorThrown=!0,Xr.error=t)}var Jr=class extends vt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Us(e)&&e.add(this)):this.destination=gE}static create(e,n,r){return new zi(e,n,r)}next(e){this.isStopped?Lc(cg(e),this):this._next(e)}error(e){this.isStopped?Lc(lg(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Lc(ug,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},hE=Function.prototype.bind;function Pc(t,e){return hE.call(t,e)}var Fc=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Gs(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Gs(r)}else Gs(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Gs(n)}}},zi=class extends Jr{constructor(e,n,r){super();let i;if(xe(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&Mn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Pc(e.next,o),error:e.error&&Pc(e.error,o),complete:e.complete&&Pc(e.complete,o)}):i=e}this.destination=new Fc(i)}};function Gs(t){Mn.useDeprecatedSynchronousErrorHandling?dg(t):qs(t)}function pE(t){throw t}function Lc(t,e){let{onStoppedNotification:n}=Mn;n&&ji.setTimeout(()=>n(t,e))}var gE={closed:!0,next:ua,error:pE,complete:ua};var Ui=typeof Symbol=="function"&&Symbol.observable||"@@observable";function sn(t){return t}function Bc(...t){return Vc(t)}function Vc(t){return t.length===0?sn:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var tt=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=mE(n)?n:new zi(n,r,i);return Hi(()=>{let{operator:a,source:s}=this;o.add(a?a.call(o,s):s?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=fg(r),new r((i,o)=>{let a=new zi({next:s=>{try{n(s)}catch(u){o(u),a.unsubscribe()}},error:o,complete:i});this.subscribe(a)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Ui](){return this}pipe(...n){return Vc(n)(this)}toPromise(n){return n=fg(n),new n((r,i)=>{let o;this.subscribe(a=>o=a,a=>i(a),()=>r(o))})}}return t.create=e=>new t(e),t})();function fg(t){var e;return(e=t??Mn.Promise)!==null&&e!==void 0?e:Promise}function vE(t){return t&&xe(t.next)&&xe(t.error)&&xe(t.complete)}function mE(t){return t&&t instanceof Jr||vE(t)&&Us(t)}function $c(t){return xe(t?.lift)}function Ve(t){return e=>{if($c(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function $e(t,e,n,r,i){return new jc(t,e,n,r,i)}var jc=class extends Jr{constructor(e,n,r,i,o,a){super(e),this.onFinalize=o,this.shouldUnsubscribe=a,this._next=n?function(s){try{n(s)}catch(u){e.error(u)}}:super._next,this._error=i?function(s){try{i(s)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(s){e.error(s)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function qi(){return Ve((t,e)=>{let n=null;t._refCount++;let r=$e(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var Gi=class extends tt{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,$c(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new vt;let n=this.getSubject();e.add(this.source.subscribe($e(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=vt.EMPTY)}return e}refCount(){return qi()(this)}};var hg=$i(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var _t=(()=>{class t extends tt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Ws(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new hg}next(n){Hi(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Hi(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Hi(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?kc:(this.currentObservers=null,o.push(n),new vt(()=>{this.currentObservers=null,sa(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new tt;return n.source=this,n}}return t.create=(e,n)=>new Ws(e,n),t})(),Ws=class extends _t{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:kc}};var kt=class extends _t{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var un=new tt(t=>t.complete());function pg(t){return t&&xe(t.schedule)}function gg(t){return t[t.length-1]}function vg(t){return xe(gg(t))?t.pop():void 0}function xr(t){return pg(gg(t))?t.pop():void 0}function yg(t,e,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function s(c){try{l(r.next(c))}catch(d){a(d)}}function u(c){try{l(r.throw(c))}catch(d){a(d)}}function l(c){c.done?o(c.value):i(c.value).then(s,u)}l((r=r.apply(t,e||[])).next())})}function mg(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ei(t){return this instanceof ei?(this.v=t,this):new ei(t)}function wg(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",a),i[Symbol.asyncIterator]=function(){return this},i;function a(h){return function(p){return Promise.resolve(p).then(h,d)}}function s(h,p){r[h]&&(i[h]=function(m){return new Promise(function(v,g){o.push([h,m,v,g])>1||u(h,m)})},p&&(i[h]=p(i[h])))}function u(h,p){try{l(r[h](p))}catch(m){f(o[0][3],m)}}function l(h){h.value instanceof ei?Promise.resolve(h.value.v).then(c,d):f(o[0][2],h)}function c(h){u("next",h)}function d(h){u("throw",h)}function f(h,p){h(p),o.shift(),o.length&&u(o[0][0],o[0][1])}}function bg(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof mg=="function"?mg(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(a){return new Promise(function(s,u){a=t[o](a),i(s,u,a.done,a.value)})}}function i(o,a,s,u){Promise.resolve(u).then(function(l){o({value:l,done:s})},a)}}var Zs=t=>t&&typeof t.length=="number"&&typeof t!="function";function Ys(t){return xe(t?.then)}function Ks(t){return xe(t[Ui])}function Qs(t){return Symbol.asyncIterator&&xe(t?.[Symbol.asyncIterator])}function Xs(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function yE(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Js=yE();function eu(t){return xe(t?.[Js])}function tu(t){return wg(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield ei(n.read());if(i)return yield ei(void 0);yield yield ei(r)}}finally{n.releaseLock()}})}function nu(t){return xe(t?.getReader)}function Nt(t){if(t instanceof tt)return t;if(t!=null){if(Ks(t))return wE(t);if(Zs(t))return bE(t);if(Ys(t))return DE(t);if(Qs(t))return Dg(t);if(eu(t))return EE(t);if(nu(t))return CE(t)}throw Xs(t)}function wE(t){return new tt(e=>{let n=t[Ui]();if(xe(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function bE(t){return new tt(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function DE(t){return new tt(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,qs)})}function EE(t){return new tt(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function Dg(t){return new tt(e=>{IE(t,e).catch(n=>e.error(n))})}function CE(t){return Dg(tu(t))}function IE(t,e){var n,r,i,o;return yg(this,void 0,void 0,function*(){try{for(n=bg(t);r=yield n.next(),!r.done;){let a=r.value;if(e.next(a),e.closed)return}}catch(a){i={error:a}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function tn(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function ru(t,e=0){return Ve((n,r)=>{n.subscribe($e(r,i=>tn(r,t,()=>r.next(i),e),()=>tn(r,t,()=>r.complete(),e),i=>tn(r,t,()=>r.error(i),e)))})}function iu(t,e=0){return Ve((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function Eg(t,e){return Nt(t).pipe(iu(e),ru(e))}function Cg(t,e){return Nt(t).pipe(iu(e),ru(e))}function Ig(t,e){return new tt(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function Sg(t,e){return new tt(n=>{let r;return tn(n,e,()=>{r=t[Js](),tn(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(a){n.error(a);return}o?n.complete():n.next(i)},0,!0)}),()=>xe(r?.return)&&r.return()})}function ou(t,e){if(!t)throw new Error("Iterable cannot be null");return new tt(n=>{tn(n,e,()=>{let r=t[Symbol.asyncIterator]();tn(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function xg(t,e){return ou(tu(t),e)}function Tg(t,e){if(t!=null){if(Ks(t))return Eg(t,e);if(Zs(t))return Ig(t,e);if(Ys(t))return Cg(t,e);if(Qs(t))return ou(t,e);if(eu(t))return Sg(t,e);if(nu(t))return xg(t,e)}throw Xs(t)}function bt(t,e){return e?Tg(t,e):Nt(t)}function Ae(...t){let e=xr(t);return bt(t,e)}function Wi(t,e){let n=xe(t)?t:()=>t,r=i=>i.error(n());return new tt(e?i=>e.schedule(r,0,i):r)}function Hc(t){return!!t&&(t instanceof tt||xe(t.lift)&&xe(t.subscribe))}var sr=$i(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function Fe(t,e){return Ve((n,r)=>{let i=0;n.subscribe($e(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:SE}=Array;function xE(t,e){return SE(e)?t(...e):t(e)}function Mg(t){return Fe(e=>xE(t,e))}var{isArray:TE}=Array,{getPrototypeOf:ME,prototype:AE,keys:NE}=Object;function Ag(t){if(t.length===1){let e=t[0];if(TE(e))return{args:e,keys:null};if(RE(e)){let n=NE(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function RE(t){return t&&typeof t=="object"&&ME(t)===AE}function Ng(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function au(...t){let e=xr(t),n=vg(t),{args:r,keys:i}=Ag(t);if(r.length===0)return bt([],e);let o=new tt(_E(r,e,i?a=>Ng(i,a):sn));return n?o.pipe(Mg(n)):o}function _E(t,e,n=sn){return r=>{Rg(e,()=>{let{length:i}=t,o=new Array(i),a=i,s=i;for(let u=0;u<i;u++)Rg(e,()=>{let l=bt(t[u],e),c=!1;l.subscribe($e(r,d=>{o[u]=d,c||(c=!0,s--),s||r.next(n(o.slice()))},()=>{--a||r.complete()}))},r)},r)}}function Rg(t,e,n){t?tn(n,t,e):e()}function _g(t,e,n,r,i,o,a,s){let u=[],l=0,c=0,d=!1,f=()=>{d&&!u.length&&!l&&e.complete()},h=m=>l<r?p(m):u.push(m),p=m=>{o&&e.next(m),l++;let v=!1;Nt(n(m,c++)).subscribe($e(e,g=>{i?.(g),o?h(g):e.next(g)},()=>{v=!0},void 0,()=>{if(v)try{for(l--;u.length&&l<r;){let g=u.shift();a?tn(e,a,()=>p(g)):p(g)}f()}catch(g){e.error(g)}}))};return t.subscribe($e(e,h,()=>{d=!0,f()})),()=>{s?.()}}function Dt(t,e,n=1/0){return xe(e)?Dt((r,i)=>Fe((o,a)=>e(r,o,i,a))(Nt(t(r,i))),n):(typeof e=="number"&&(n=e),Ve((r,i)=>_g(r,i,t,n)))}function zc(t=1/0){return Dt(sn,t)}function kg(){return zc(1)}function Zi(...t){return kg()(bt(t,xr(t)))}function su(t){return new tt(e=>{Nt(t()).subscribe(e)})}function An(t,e){return Ve((n,r)=>{let i=0;n.subscribe($e(r,o=>t.call(e,o,i++)&&r.next(o)))})}function Tr(t){return Ve((e,n)=>{let r=null,i=!1,o;r=e.subscribe($e(n,void 0,void 0,a=>{o=Nt(t(a,Tr(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function Og(t,e,n,r,i){return(o,a)=>{let s=n,u=e,l=0;o.subscribe($e(a,c=>{let d=l++;u=s?t(u,c,d):(s=!0,c),r&&a.next(u)},i&&(()=>{s&&a.next(u),a.complete()})))}}function Yi(t,e){return xe(e)?Dt(t,e,1):Dt(t,1)}function Mr(t){return Ve((e,n)=>{let r=!1;e.subscribe($e(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function ur(t){return t<=0?()=>un:Ve((e,n)=>{let r=0;e.subscribe($e(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Uc(t){return Fe(()=>t)}function uu(t=kE){return Ve((e,n)=>{let r=!1;e.subscribe($e(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function kE(){return new sr}function la(t){return Ve((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function lr(t,e){let n=arguments.length>=2;return r=>r.pipe(t?An((i,o)=>t(i,o,r)):sn,ur(1),n?Mr(e):uu(()=>new sr))}function Ki(t){return t<=0?()=>un:Ve((e,n)=>{let r=[];e.subscribe($e(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function qc(t,e){let n=arguments.length>=2;return r=>r.pipe(t?An((i,o)=>t(i,o,r)):sn,Ki(1),n?Mr(e):uu(()=>new sr))}function Gc(t,e){return Ve(Og(t,e,arguments.length>=2,!0))}function Wc(...t){let e=xr(t);return Ve((n,r)=>{(e?Zi(t,n,e):Zi(t,n)).subscribe(r)})}function Nn(t,e){return Ve((n,r)=>{let i=null,o=0,a=!1,s=()=>a&&!i&&r.complete();n.subscribe($e(r,u=>{i?.unsubscribe();let l=0,c=o++;Nt(t(u,c)).subscribe(i=$e(r,d=>r.next(e?e(u,d,c,l++):d),()=>{i=null,s()}))},()=>{a=!0,s()}))})}function Zc(t){return Ve((e,n)=>{Nt(t).subscribe($e(n,()=>n.complete(),ua)),!n.closed&&e.subscribe(n)})}function Ot(t,e,n){let r=xe(t)||e||n?{next:t,error:e,complete:n}:t;return r?Ve((i,o)=>{var a;(a=r.subscribe)===null||a===void 0||a.call(r);let s=!0;i.subscribe($e(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;s=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;s=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;s&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):sn}var De=class extends Error{code;constructor(e,n){super(Qd(e,n)),this.code=e}};function Qd(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}var mv=Symbol("InputSignalNode#UNSET"),PE=ct(fe({},ag),{transformFn:void 0,applyValueToInputSignal(t,e){og(t,e)}});function yv(t,e){let n=Object.create(PE);n.value=t,n.transformFn=e?.transform;function r(){if(Kp(n),n.value===mv)throw new De(-950,!1);return n.value}return r[Vi]=n,r}function Xd(t){return{toString:t}.toString()}function it(t){for(let e in t)if(t[e]===it)return e;throw Error("Could not find renamed property on target object.")}function cn(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(cn).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function Pg(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var LE=it({__forward_ref__:it});function wv(t){return t.__forward_ref__=wv,t.toString=function(){return cn(this())},t}function wn(t){return bv(t)?t():t}function bv(t){return typeof t=="function"&&t.hasOwnProperty(LE)&&t.__forward_ref__===wv}function Me(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Lu(t){return Lg(t,Ev)||Lg(t,Cv)}function Dv(t){return Lu(t)!==null}function Lg(t,e){return t.hasOwnProperty(e)?t[e]:null}function FE(t){let e=t&&(t[Ev]||t[Cv]);return e||null}function Fg(t){return t&&(t.hasOwnProperty(Bg)||t.hasOwnProperty(BE))?t[Bg]:null}var Ev=it({\u0275prov:it}),Bg=it({\u0275inj:it}),Cv=it({ngInjectableDef:it}),BE=it({ngInjectorDef:it}),Ne=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,n){this._desc=e,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=Me({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Iv(t){return t&&!!t.\u0275providers}var VE=it({\u0275cmp:it}),$E=it({\u0275dir:it}),jE=it({\u0275pipe:it}),HE=it({\u0275mod:it}),vu=it({\u0275fac:it}),fa=it({__NG_ELEMENT_ID__:it}),Vg=it({__NG_ENV_ID__:it});function Sv(t){return typeof t=="string"?t:t==null?"":String(t)}function zE(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Sv(t)}function UE(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new De(-200,t)}function Jd(t,e){throw new De(-201,!1)}var ke=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(ke||{}),rd;function xv(){return rd}function yn(t){let e=rd;return rd=t,e}function Tv(t,e,n){let r=Lu(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&ke.Optional)return null;if(e!==void 0)return e;Jd(t,"Injector")}var qE={},ha=qE,GE="__NG_DI_FLAG__",mu="ngTempTokenPath",WE="ngTokenPath",ZE=/\n/gm,YE="\u0275",$g="__source",eo;function KE(){return eo}function Ar(t){let e=eo;return eo=t,e}function QE(t,e=ke.Default){if(eo===void 0)throw new De(-203,!1);return eo===null?Tv(t,void 0,e):eo.get(t,e&ke.Optional?null:void 0,e)}function Be(t,e=ke.Default){return(xv()||QE)(wn(t),e)}function ue(t,e=ke.Default){return Be(t,Fu(e))}function Fu(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function id(t){let e=[];for(let n=0;n<t.length;n++){let r=wn(t[n]);if(Array.isArray(r)){if(r.length===0)throw new De(900,!1);let i,o=ke.Default;for(let a=0;a<r.length;a++){let s=r[a],u=XE(s);typeof u=="number"?u===-1?i=s.token:o|=u:i=s}e.push(Be(i,o))}else e.push(Be(r))}return e}function XE(t){return t[GE]}function JE(t,e,n,r){let i=t[mu];throw e[$g]&&i.unshift(e[$g]),t.message=eC(`
`+t.message,i,n,r),t[WE]=i,t[mu]=null,t}function eC(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==YE?t.slice(2):t;let i=cn(e);if(Array.isArray(e))i=e.map(cn).join(" -> ");else if(typeof e=="object"){let o=[];for(let a in e)if(e.hasOwnProperty(a)){let s=e[a];o.push(a+":"+(typeof s=="string"?JSON.stringify(s):cn(s)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(ZE,`
  `)}`}function no(t,e){let n=t.hasOwnProperty(vu);return n?t[vu]:null}function tC(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}function nC(t){return t.flat(Number.POSITIVE_INFINITY)}function ef(t,e){t.forEach(n=>Array.isArray(n)?ef(n,e):e(n))}function Mv(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function yu(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}var pa={},ro=[],io=new Ne(""),Av=new Ne("",-1),Nv=new Ne(""),wu=class{get(e,n=ha){if(n===ha){let r=new Error(`NullInjectorError: No provider for ${cn(e)}!`);throw r.name="NullInjectorError",r}return n}};function Rv(t,e){let n=t[HE]||null;if(!n&&e===!0)throw new Error(`Type ${cn(t)} does not have '\u0275mod' property.`);return n}function ri(t){return t[VE]||null}function _v(t){return t[$E]||null}function kv(t){return t[jE]||null}function Ov(t){let e=ri(t)||_v(t)||kv(t);return e!==null?e.standalone:!1}function Bu(t){return{\u0275providers:t}}function rC(...t){return{\u0275providers:Pv(!0,t),\u0275fromNgModule:!0}}function Pv(t,...e){let n=[],r=new Set,i,o=a=>{n.push(a)};return ef(e,a=>{let s=a;od(s,o,[],r)&&(i||=[],i.push(s))}),i!==void 0&&Lv(i,o),n}function Lv(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];tf(i,o=>{e(o,r)})}}function od(t,e,n,r){if(t=wn(t),!t)return!1;let i=null,o=Fg(t),a=!o&&ri(t);if(!o&&!a){let u=t.ngModule;if(o=Fg(u),o)i=u;else return!1}else{if(a&&!a.standalone)return!1;i=t}let s=r.has(i);if(a){if(s)return!1;if(r.add(i),a.dependencies){let u=typeof a.dependencies=="function"?a.dependencies():a.dependencies;for(let l of u)od(l,e,n,r)}}else if(o){if(o.imports!=null&&!s){r.add(i);let l;try{ef(o.imports,c=>{od(c,e,n,r)&&(l||=[],l.push(c))})}finally{}l!==void 0&&Lv(l,e)}if(!s){let l=no(i)||(()=>new i);e({provide:i,useFactory:l,deps:ro},i),e({provide:Nv,useValue:i,multi:!0},i),e({provide:io,useValue:()=>Be(i),multi:!0},i)}let u=o.providers;if(u!=null&&!s){let l=t;tf(u,c=>{e(c,l)})}}else return!1;return i!==t&&t.providers!==void 0}function tf(t,e){for(let n of t)Iv(n)&&(n=n.\u0275providers),Array.isArray(n)?tf(n,e):e(n)}var iC=it({provide:String,useValue:it});function Fv(t){return t!==null&&typeof t=="object"&&iC in t}function oC(t){return!!(t&&t.useExisting)}function aC(t){return!!(t&&t.useFactory)}function ad(t){return typeof t=="function"}var Vu=new Ne(""),cu={},sC={},Yc;function nf(){return Yc===void 0&&(Yc=new wu),Yc}var bn=class{},ga=class extends bn{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,ud(e,a=>this.processProvider(a)),this.records.set(Av,Qi(void 0,this)),i.has("environment")&&this.records.set(bn,Qi(void 0,this));let o=this.records.get(Vu);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Nv,ro,ke.Self))}destroy(){ca(this),this._destroyed=!0;let e=Le(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Le(e)}}onDestroy(e){return ca(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){ca(this);let n=Ar(this),r=yn(void 0),i;try{return e()}finally{Ar(n),yn(r)}}get(e,n=ha,r=ke.Default){if(ca(this),e.hasOwnProperty(Vg))return e[Vg](this);r=Fu(r);let i,o=Ar(this),a=yn(void 0);try{if(!(r&ke.SkipSelf)){let u=this.records.get(e);if(u===void 0){let l=hC(e)&&Lu(e);l&&this.injectableDefInScope(l)?u=Qi(sd(e),cu):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let s=r&ke.Self?nf():this.parent;return n=r&ke.Optional&&n===ha?null:n,s.get(e,n)}catch(s){if(s.name==="NullInjectorError"){if((s[mu]=s[mu]||[]).unshift(cn(e)),o)throw s;return JE(s,e,"R3InjectorError",this.source)}else throw s}finally{yn(a),Ar(o)}}resolveInjectorInitializers(){let e=Le(null),n=Ar(this),r=yn(void 0),i;try{let o=this.get(io,ro,ke.Self);for(let a of o)a()}finally{Ar(n),yn(r),Le(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(cn(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=wn(e);let n=ad(e)?e:wn(e&&e.provide),r=lC(e);if(!ad(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Qi(void 0,cu,!0),i.factory=()=>id(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=Le(null);try{return n.value===cu&&(n.value=sC,n.value=n.factory()),typeof n.value=="object"&&n.value&&fC(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{Le(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=wn(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function sd(t){let e=Lu(t),n=e!==null?e.factory:no(t);if(n!==null)return n;if(t instanceof Ne)throw new De(204,!1);if(t instanceof Function)return uC(t);throw new De(204,!1)}function uC(t){if(t.length>0)throw new De(204,!1);let n=FE(t);return n!==null?()=>n.factory(t):()=>new t}function lC(t){if(Fv(t))return Qi(void 0,t.useValue);{let e=cC(t);return Qi(e,cu)}}function cC(t,e,n){let r;if(ad(t)){let i=wn(t);return no(i)||sd(i)}else if(Fv(t))r=()=>wn(t.useValue);else if(aC(t))r=()=>t.useFactory(...id(t.deps||[]));else if(oC(t))r=()=>Be(wn(t.useExisting));else{let i=wn(t&&(t.useClass||t.provide));if(dC(t))r=()=>new i(...id(t.deps));else return no(i)||sd(i)}return r}function ca(t){if(t.destroyed)throw new De(205,!1)}function Qi(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function dC(t){return!!t.deps}function fC(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function hC(t){return typeof t=="function"||typeof t=="object"&&t instanceof Ne}function ud(t,e){for(let n of t)Array.isArray(n)?ud(n,e):n&&Iv(n)?ud(n.\u0275providers,e):e(n)}function Pn(t,e){t instanceof ga&&ca(t);let n,r=Ar(t),i=yn(void 0);try{return e()}finally{Ar(r),yn(i)}}function pC(){return xv()!==void 0||KE()!=null}function gC(t){return typeof t=="function"}var dr=0,Te=1,Ce=2,Ut=3,_n=4,Ln=5,va=6,bu=7,Ht=8,oo=9,Rr=10,fn=11,ma=12,jg=13,fo=14,kn=15,ii=16,Xi=17,cr=18,$u=19,Bv=20,Nr=21,Kc=22,Du=23,dn=24,On=25,Vv=1;var oi=7,Eu=8,ao=9,zt=10,Cu=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Cu||{});function ti(t){return Array.isArray(t)&&typeof t[Vv]=="object"}function fr(t){return Array.isArray(t)&&t[Vv]===!0}function $v(t){return(t.flags&4)!==0}function rf(t){return t.componentOffset>-1}function of(t){return(t.flags&1)===1}function xa(t){return!!t.template}function ld(t){return(t[Ce]&512)!==0}var cd=class{previousValue;currentValue;firstChange;constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function jv(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}var af=(()=>{let t=()=>Hv;return t.ngInherit=!0,t})();function Hv(t){return t.type.prototype.ngOnChanges&&(t.setInput=mC),vC}function vC(){let t=Uv(this),e=t?.current;if(e){let n=t.previous;if(n===pa)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function mC(t,e,n,r,i){let o=this.declaredInputs[r],a=Uv(t)||yC(t,{previous:pa,current:null}),s=a.current||(a.current={}),u=a.previous,l=u[o];s[o]=new cd(l&&l.currentValue,n,u===pa),jv(t,e,i,n)}var zv="__ngSimpleChanges__";function Uv(t){return t[zv]||null}function yC(t,e){return t[zv]=e}var Hg=null;var Gn=function(t,e,n){Hg?.(t,e,n)},wC="svg",bC="math";function Zn(t){for(;Array.isArray(t);)t=t[dr];return t}function DC(t,e){return Zn(e[t])}function Kn(t,e){return Zn(e[t.index])}function qv(t,e){return t.data[e]}function ho(t,e){let n=e[t];return ti(n)?n:n[dr]}function EC(t){return(t[Ce]&4)===4}function sf(t){return(t[Ce]&128)===128}function CC(t){return fr(t[Ut])}function so(t,e){return e==null?null:t[e]}function Gv(t){t[Xi]=0}function uf(t){t[Ce]&1024||(t[Ce]|=1024,sf(t)&&Hu(t))}function IC(t,e){for(;t>0;)e=e[fo],t--;return e}function ju(t){return!!(t[Ce]&9216||t[dn]?.dirty)}function dd(t){t[Rr].changeDetectionScheduler?.notify(9),t[Ce]&64&&(t[Ce]|=1024),ju(t)&&Hu(t)}function Hu(t){t[Rr].changeDetectionScheduler?.notify(0);let e=ai(t);for(;e!==null&&!(e[Ce]&8192||(e[Ce]|=8192,!sf(e)));)e=ai(e)}function Wv(t,e){if((t[Ce]&256)===256)throw new De(911,!1);t[Nr]===null&&(t[Nr]=[]),t[Nr].push(e)}function SC(t,e){if(t[Nr]===null)return;let n=t[Nr].indexOf(e);n!==-1&&t[Nr].splice(n,1)}function ai(t){let e=t[Ut];return fr(e)?e[Ut]:e}var je={lFrame:tm(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var fd=!1;function xC(){return je.lFrame.elementDepthCount}function TC(){je.lFrame.elementDepthCount++}function MC(){je.lFrame.elementDepthCount--}function Zv(){return je.bindingsEnabled}function AC(){return je.skipHydrationRootTNode!==null}function NC(t){return je.skipHydrationRootTNode===t}function RC(){je.skipHydrationRootTNode=null}function dt(){return je.lFrame.lView}function hr(){return je.lFrame.tView}function Ta(t){return je.lFrame.contextLView=t,t[Ht]}function Ma(t){return je.lFrame.contextLView=null,t}function Fn(){let t=Yv();for(;t!==null&&t.type===64;)t=t.parent;return t}function Yv(){return je.lFrame.currentTNode}function _C(){let t=je.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Aa(t,e){let n=je.lFrame;n.currentTNode=t,n.isParent=e}function Kv(){return je.lFrame.isParent}function kC(){je.lFrame.isParent=!1}function Qv(){return fd}function zg(t){let e=fd;return fd=t,e}function OC(t){return je.lFrame.bindingIndex=t}function lf(){return je.lFrame.bindingIndex++}function PC(){return je.lFrame.inI18n}function LC(t,e){let n=je.lFrame;n.bindingIndex=n.bindingRootIndex=t,hd(e)}function FC(){return je.lFrame.currentDirectiveIndex}function hd(t){je.lFrame.currentDirectiveIndex=t}function Xv(){return je.lFrame.currentQueryIndex}function cf(t){je.lFrame.currentQueryIndex=t}function BC(t){let e=t[Te];return e.type===2?e.declTNode:e.type===1?t[Ln]:null}function Jv(t,e,n){if(n&ke.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(n&ke.Host);)if(i=BC(o),i===null||(o=o[fo],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=je.lFrame=em();return r.currentTNode=e,r.lView=t,!0}function df(t){let e=em(),n=t[Te];je.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function em(){let t=je.lFrame,e=t===null?null:t.child;return e===null?tm(t):e}function tm(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function nm(){let t=je.lFrame;return je.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var rm=nm;function ff(){let t=nm();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function VC(t){return(je.lFrame.contextLView=IC(t,je.lFrame.contextLView))[Ht]}function zu(){return je.lFrame.selectedIndex}function si(t){je.lFrame.selectedIndex=t}function $C(){return je.lFrame.currentNamespace}var im=!0;function hf(){return im}function pf(t){im=t}function jC(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let a=Hv(e);(n.preOrderHooks??=[]).push(t,a),(n.preOrderCheckHooks??=[]).push(t,a)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function gf(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:a,ngAfterContentChecked:s,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:c}=o;a&&(t.contentHooks??=[]).push(-n,a),s&&((t.contentHooks??=[]).push(n,s),(t.contentCheckHooks??=[]).push(n,s)),u&&(t.viewHooks??=[]).push(-n,u),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),c!=null&&(t.destroyHooks??=[]).push(n,c)}}function du(t,e,n){om(t,e,3,n)}function fu(t,e,n,r){(t[Ce]&3)===n&&om(t,e,n,r)}function Qc(t,e){let n=t[Ce];(n&3)===e&&(n&=16383,n+=1,t[Ce]=n)}function om(t,e,n,r){let i=r!==void 0?t[Xi]&65535:0,o=r??-1,a=e.length-1,s=0;for(let u=i;u<a;u++)if(typeof e[u+1]=="number"){if(s=e[u],r!=null&&s>=r)break}else e[u]<0&&(t[Xi]+=65536),(s<o||o==-1)&&(HC(t,n,e,u),t[Xi]=(t[Xi]&4294901760)+u+2),u++}function Ug(t,e){Gn(4,t,e);let n=Le(null);try{e.call(t)}finally{Le(n),Gn(5,t,e)}}function HC(t,e,n,r){let i=n[r]<0,o=n[r+1],a=i?-n[r]:n[r],s=t[a];i?t[Ce]>>14<t[Xi]>>16&&(t[Ce]&3)===e&&(t[Ce]+=16384,Ug(s,o)):Ug(s,o)}var to=-1,ya=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,n,r){this.factory=e,this.canSeeViewProviders=n,this.injectImpl=r}};function zC(t){return t instanceof ya}function UC(t){return(t.flags&8)!==0}function qC(t){return(t.flags&16)!==0}function pd(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],a=n[r++],s=n[r++];t.setAttribute(e,a,s,o)}else{let o=i,a=n[++r];WC(o)?t.setProperty(e,o,a):t.setAttribute(e,o,a),r++}}return r}function GC(t){return t===3||t===4||t===6}function WC(t){return t.charCodeAt(0)===64}function vf(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?qg(t,n,i,null,e[++r]):qg(t,n,i,null,null))}}return t}function qg(t,e,n,r,i){let o=0,a=t.length;if(e===-1)a=-1;else for(;o<t.length;){let s=t[o++];if(typeof s=="number"){if(s===e){a=-1;break}else if(s>e){a=o-1;break}}}for(;o<t.length;){let s=t[o];if(typeof s=="number")break;if(s===n){if(r===null){i!==null&&(t[o+1]=i);return}else if(r===t[o+1]){t[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}a!==-1&&(t.splice(a,0,e),o=a+1),t.splice(o++,0,n),r!==null&&t.splice(o++,0,r),i!==null&&t.splice(o++,0,i)}var Xc={},gd=class{injector;parentInjector;constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Fu(r);let i=this.injector.get(e,Xc,r);return i!==Xc||n===Xc?i:this.parentInjector.get(e,n,r)}};function am(t){return t!==to}function Iu(t){return t&32767}function ZC(t){return t>>16}function Su(t,e){let n=ZC(t),r=e;for(;n>0;)r=r[fo],n--;return r}var vd=!0;function Gg(t){let e=vd;return vd=t,e}var YC=256,sm=YC-1,um=5,KC=0,Wn={};function QC(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(fa)&&(r=n[fa]),r==null&&(r=n[fa]=KC++);let i=r&sm,o=1<<i;e.data[t+(i>>um)]|=o}function lm(t,e){let n=cm(t,e);if(n!==-1)return n;let r=e[Te];r.firstCreatePass&&(t.injectorIndex=e.length,Jc(r.data,t),Jc(e,null),Jc(r.blueprint,null));let i=mf(t,e),o=t.injectorIndex;if(am(i)){let a=Iu(i),s=Su(i,e),u=s[Te].data;for(let l=0;l<8;l++)e[o+l]=s[a+l]|u[a+l]}return e[o+8]=i,o}function Jc(t,e){t.push(0,0,0,0,0,0,0,0,e)}function cm(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function mf(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=gm(i),r===null)return to;if(n++,i=i[fo],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return to}function XC(t,e,n){QC(t,e,n)}function dm(t,e,n){if(n&ke.Optional||t!==void 0)return t;Jd(e,"NodeInjector")}function fm(t,e,n,r){if(n&ke.Optional&&r===void 0&&(r=null),!(n&(ke.Self|ke.Host))){let i=t[oo],o=yn(void 0);try{return i?i.get(e,r,n&ke.Optional):Tv(e,r,n&ke.Optional)}finally{yn(o)}}return dm(r,e,n)}function hm(t,e,n,r=ke.Default,i){if(t!==null){if(e[Ce]&2048&&!(r&ke.Self)){let a=nI(t,e,n,r,Wn);if(a!==Wn)return a}let o=pm(t,e,n,r,Wn);if(o!==Wn)return o}return fm(e,n,r,i)}function pm(t,e,n,r,i){let o=eI(n);if(typeof o=="function"){if(!Jv(e,t,r))return r&ke.Host?dm(i,n,r):fm(e,n,r,i);try{let a;if(a=o(r),a==null&&!(r&ke.Optional))Jd(n);else return a}finally{rm()}}else if(typeof o=="number"){let a=null,s=cm(t,e),u=to,l=r&ke.Host?e[kn][Ln]:null;for((s===-1||r&ke.SkipSelf)&&(u=s===-1?mf(t,e):e[s+8],u===to||!Zg(r,!1)?s=-1:(a=e[Te],s=Iu(u),e=Su(u,e)));s!==-1;){let c=e[Te];if(Wg(o,s,c.data)){let d=JC(s,e,n,a,r,l);if(d!==Wn)return d}u=e[s+8],u!==to&&Zg(r,e[Te].data[s+8]===l)&&Wg(o,s,e)?(a=c,s=Iu(u),e=Su(u,e)):s=-1}}return i}function JC(t,e,n,r,i,o){let a=e[Te],s=a.data[t+8],u=r==null?rf(s)&&vd:r!=a&&(s.type&3)!==0,l=i&ke.Host&&o===s,c=hu(s,a,n,u,l);return c!==null?uo(e,a,c,s):Wn}function hu(t,e,n,r,i){let o=t.providerIndexes,a=e.data,s=o&1048575,u=t.directiveStart,l=t.directiveEnd,c=o>>20,d=r?s:s+c,f=i?s+c:l;for(let h=d;h<f;h++){let p=a[h];if(h<u&&n===p||h>=u&&p.type===n)return h}if(i){let h=a[u];if(h&&xa(h)&&h.type===n)return u}return null}function uo(t,e,n,r){let i=t[n],o=e.data;if(zC(i)){let a=i;a.resolving&&UE(zE(o[n]));let s=Gg(a.canSeeViewProviders);a.resolving=!0;let u,l=a.injectImpl?yn(a.injectImpl):null,c=Jv(t,r,ke.Default);try{i=t[n]=a.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&jC(n,o[n],e)}finally{l!==null&&yn(l),Gg(s),a.resolving=!1,rm()}}return i}function eI(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(fa)?t[fa]:void 0;return typeof e=="number"?e>=0?e&sm:tI:e}function Wg(t,e,n){let r=1<<t;return!!(n[e+(t>>um)]&r)}function Zg(t,e){return!(t&ke.Self)&&!(t&ke.Host&&e)}var ni=class{_tNode;_lView;constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return hm(this._tNode,this._lView,e,Fu(r),n)}};function tI(){return new ni(Fn(),dt())}function yf(t){return Xd(()=>{let e=t.prototype.constructor,n=e[vu]||md(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[vu]||md(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function md(t){return bv(t)?()=>{let e=md(wn(t));return e&&e()}:no(t)}function nI(t,e,n,r,i){let o=t,a=e;for(;o!==null&&a!==null&&a[Ce]&2048&&!(a[Ce]&512);){let s=pm(o,a,n,r|ke.Self,Wn);if(s!==Wn)return s;let u=o.parent;if(!u){let l=a[Bv];if(l){let c=l.get(n,Wn,r);if(c!==Wn)return c}u=gm(a),a=a[fo]}o=u}return i}function gm(t){let e=t[Te],n=e.type;return n===2?e.declTNode:n===1?t[Ln]:null}function Yg(t,e=null,n=null,r){let i=vm(t,e,n,r);return i.resolveInjectorInitializers(),i}function vm(t,e=null,n=null,r,i=new Set){let o=[n||ro,rC(t)];return r=r||(typeof t=="object"?void 0:cn(t)),new ga(o,e||nf(),r||null,i)}var _r=class t{static THROW_IF_NOT_FOUND=ha;static NULL=new wu;static create(e,n){if(Array.isArray(e))return Yg({name:""},n,e,"");{let r=e.name??"";return Yg({name:r},e.parent,e.providers,r)}}static \u0275prov=Me({token:t,providedIn:"any",factory:()=>Be(Av)});static __NG_ELEMENT_ID__=-1};var rI=new Ne("");rI.__NG_ELEMENT_ID__=t=>{let e=Fn();if(e===null)throw new De(204,!1);if(e.type&2)return e.value;if(t&ke.Optional)return null;throw new De(204,!1)};var mm=!1,ym=(()=>{class t{static __NG_ELEMENT_ID__=iI;static __NG_ENV_ID__=n=>n}return t})(),yd=class extends ym{_lView;constructor(e){super(),this._lView=e}onDestroy(e){return Wv(this._lView,e),()=>SC(this._lView,e)}};function iI(){return new yd(dt())}var wa=class{},Uu=new Ne("",{providedIn:"root",factory:()=>!1});var wm=new Ne(""),bm=new Ne(""),po=(()=>{class t{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new kt(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=Me({token:t,providedIn:"root",factory:()=>new t})}return t})();var wd=class extends _t{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,pC()&&(this.destroyRef=ue(ym,{optional:!0})??void 0,this.pendingTasks=ue(po,{optional:!0})??void 0)}emit(e){let n=Le(null);try{super.next(e)}finally{Le(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),a=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),a=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),a&&(a=this.wrapInTimeout(a)));let s=super.subscribe({next:i,error:o,complete:a});return e instanceof vt&&e.add(s),s}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(n),r!==void 0&&this.pendingTasks?.remove(r)})}}},ln=wd;function xu(...t){}function Dm(t){let e,n;function r(){t=xu;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function Kg(t){return queueMicrotask(()=>t()),()=>{t=xu}}var wf="isAngularZone",Tu=wf+"_ID",oI=0,Et=class t{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new ln(!1);onMicrotaskEmpty=new ln(!1);onStable=new ln(!1);onError=new ln(!1);constructor(e){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=mm}=e;if(typeof Zone>"u")throw new De(908,!1);Zone.assertZonePatched();let a=this;a._nesting=0,a._outer=a._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(a._inner=a._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(a._inner=a._inner.fork(Zone.longStackTraceZoneSpec)),a.shouldCoalesceEventChangeDetection=!i&&r,a.shouldCoalesceRunChangeDetection=i,a.callbackScheduled=!1,a.scheduleInRootZone=o,uI(a)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(wf)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new De(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new De(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,a=o.scheduleEventTask("NgZoneEvent: "+i,e,aI,xu,xu);try{return o.runTask(a,n,r)}finally{o.cancelTask(a)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},aI={};function bf(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function sI(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){Dm(()=>{t.callbackScheduled=!1,bd(t),t.isCheckStableRunning=!0,bf(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),bd(t)}function uI(t){let e=()=>{sI(t)},n=oI++;t._inner=t._inner.fork({name:"angular",properties:{[wf]:!0,[Tu]:n,[Tu+n]:!0},onInvokeTask:(r,i,o,a,s,u)=>{if(lI(u))return r.invokeTask(o,a,s,u);try{return Qg(t),r.invokeTask(o,a,s,u)}finally{(t.shouldCoalesceEventChangeDetection&&a.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),Xg(t)}},onInvoke:(r,i,o,a,s,u,l)=>{try{return Qg(t),r.invoke(o,a,s,u,l)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!cI(u)&&e(),Xg(t)}},onHasTask:(r,i,o,a)=>{r.hasTask(o,a),i===o&&(a.change=="microTask"?(t._hasPendingMicrotasks=a.microTask,bd(t),bf(t)):a.change=="macroTask"&&(t.hasPendingMacrotasks=a.macroTask))},onHandleError:(r,i,o,a)=>(r.handleError(o,a),t.runOutsideAngular(()=>t.onError.emit(a)),!1)})}function bd(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function Qg(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Xg(t){t._nesting--,bf(t)}var Dd=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new ln;onMicrotaskEmpty=new ln;onStable=new ln;onError=new ln;run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function lI(t){return Em(t,"__ignore_ng_zone__")}function cI(t){return Em(t,"__scheduler_tick__")}function Em(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var kr=class{_console=console;handleError(e){this._console.error("ERROR",e)}},dI=new Ne("",{providedIn:"root",factory:()=>{let t=ue(Et),e=ue(kr);return n=>t.runOutsideAngular(()=>e.handleError(n))}});function Jg(t,e){return yv(t,e)}function fI(t){return yv(mv,t)}var Cm=(Jg.required=fI,Jg);function hI(){return go(Fn(),dt())}function go(t,e){return new ci(Kn(t,e))}var ci=(()=>{class t{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=hI}return t})();function pI(t){return t instanceof ci?t.nativeElement:t}function gI(){return this._results[Symbol.iterator]()}var Ed=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new _t}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=nC(e);(this._changesDetected=!tC(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=gI};function Im(t){return(t.flags&128)===128}var Sm=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Sm||{}),xm=new Map,vI=0;function mI(){return vI++}function yI(t){xm.set(t[$u],t)}function Cd(t){xm.delete(t[$u])}var ev="__ngContext__";function ui(t,e){ti(e)?(t[ev]=e[$u],yI(e)):t[ev]=e}function Tm(t){return Am(t[ma])}function Mm(t){return Am(t[_n])}function Am(t){for(;t!==null&&!fr(t);)t=t[_n];return t}var Id;function Nm(t){Id=t}function wI(){if(Id!==void 0)return Id;if(typeof document<"u")return document;throw new De(210,!1)}var Df=new Ne("",{providedIn:"root",factory:()=>bI}),bI="ng",Ef=new Ne(""),vo=new Ne("",{providedIn:"platform",factory:()=>"unknown"});var Cf=new Ne("",{providedIn:"root",factory:()=>wI().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var DI="h",EI="b";var Rm=!1,CI=new Ne("",{providedIn:"root",factory:()=>Rm});var _m=function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t}(_m||{}),km=new Ne(""),tv=new Set;function Na(t){tv.has(t)||(tv.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var II=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=Me({token:t,providedIn:"root",factory:()=>new t})}return t})();var SI=()=>null;function If(t,e,n=!1){return SI(t,e,n)}var Yn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Yn||{});function Om(t){return t instanceof Function?t():t}var Or=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Or||{}),di=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(di||{}),xI;function Sf(t,e){return xI(t,e)}function Ji(t,e,n,r,i){if(r!=null){let o,a=!1;fr(r)?o=r:ti(r)&&(a=!0,r=r[dr]);let s=Zn(r);t===0&&n!==null?i==null?Bm(e,n,s):Mu(e,n,s,i||null,!0):t===1&&n!==null?Mu(e,n,s,i||null,!0):t===2?jI(e,s,a):t===3&&e.destroyNode(s),o!=null&&zI(e,t,o,n,i)}}function TI(t,e){return t.createText(e)}function MI(t,e,n){t.setValue(e,n)}function Pm(t,e,n){return t.createElement(e,n)}function AI(t,e){Lm(t,e),e[dr]=null,e[Ln]=null}function NI(t,e,n,r,i,o){r[dr]=i,r[Ln]=e,Gu(t,r,n,1,i,o)}function Lm(t,e){e[Rr].changeDetectionScheduler?.notify(10),Gu(t,e,e[fn],2,null,null)}function RI(t){let e=t[ma];if(!e)return ed(t[Te],t);for(;e;){let n=null;if(ti(e))n=e[ma];else{let r=e[zt];r&&(n=r)}if(!n){for(;e&&!e[_n]&&e!==t;)ti(e)&&ed(e[Te],e),e=e[Ut];e===null&&(e=t),ti(e)&&ed(e[Te],e),n=e&&e[_n]}e=n}}function _I(t,e,n,r){let i=zt+r,o=n.length;r>0&&(n[i-1][_n]=e),r<o-zt?(e[_n]=n[i],Mv(n,zt+r,e)):(n.push(e),e[_n]=null),e[Ut]=n;let a=e[ii];a!==null&&n!==a&&Fm(a,e);let s=e[cr];s!==null&&s.insertView(t),dd(e),e[Ce]|=128}function Fm(t,e){let n=t[ao],r=e[Ut];if(ti(r))t[Ce]|=Cu.HasTransplantedViews;else{let i=r[Ut][kn];e[kn]!==i&&(t[Ce]|=Cu.HasTransplantedViews)}n===null?t[ao]=[e]:n.push(e)}function xf(t,e){let n=t[ao],r=n.indexOf(e);n.splice(r,1)}function ba(t,e){if(t.length<=zt)return;let n=zt+e,r=t[n];if(r){let i=r[ii];i!==null&&i!==t&&xf(i,r),e>0&&(t[n-1][_n]=r[_n]);let o=yu(t,zt+e);AI(r[Te],r);let a=o[cr];a!==null&&a.detachView(o[Te]),r[Ut]=null,r[_n]=null,r[Ce]&=-129}return r}function qu(t,e){if(!(e[Ce]&256)){let n=e[fn];n.destroyNode&&Gu(t,e,n,3,null,null),RI(e)}}function ed(t,e){if(e[Ce]&256)return;let n=Le(null);try{e[Ce]&=-129,e[Ce]|=256,e[dn]&&_c(e[dn]),OI(t,e),kI(t,e),e[Te].type===1&&e[fn].destroy();let r=e[ii];if(r!==null&&fr(e[Ut])){r!==e[Ut]&&xf(r,e);let i=e[cr];i!==null&&i.detachView(t)}Cd(e)}finally{Le(n)}}function kI(t,e){let n=t.cleanup,r=e[bu];if(n!==null)for(let a=0;a<n.length-1;a+=2)if(typeof n[a]=="string"){let s=n[a+3];s>=0?r[s]():r[-s].unsubscribe(),a+=2}else{let s=r[n[a+1]];n[a].call(s)}r!==null&&(e[bu]=null);let i=e[Nr];if(i!==null){e[Nr]=null;for(let a=0;a<i.length;a++){let s=i[a];s()}}let o=e[Du];if(o!==null){e[Du]=null;for(let a of o)a.destroy()}}function OI(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof ya)){let o=n[r+1];if(Array.isArray(o))for(let a=0;a<o.length;a+=2){let s=i[o[a]],u=o[a+1];Gn(4,s,u);try{u.call(s)}finally{Gn(5,s,u)}}else{Gn(4,i,o);try{o.call(i)}finally{Gn(5,i,o)}}}}}function PI(t,e,n){return LI(t,e.parent,n)}function LI(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[dr];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=t.data[r.directiveStart+i];if(o===Yn.None||o===Yn.Emulated)return null}return Kn(r,n)}}function Mu(t,e,n,r,i){t.insertBefore(e,n,r,i)}function Bm(t,e,n){t.appendChild(e,n)}function nv(t,e,n,r,i){r!==null?Mu(t,e,n,r,i):Bm(t,e,n)}function Vm(t,e){return t.parentNode(e)}function FI(t,e){return t.nextSibling(e)}function BI(t,e,n){return $I(t,e,n)}function VI(t,e,n){return t.type&40?Kn(t,n):null}var $I=VI,rv;function Tf(t,e,n,r){let i=PI(t,r,e),o=e[fn],a=r.parent||e[Ln],s=BI(a,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)nv(o,i,n[u],s,!1);else nv(o,i,n,s,!1);rv!==void 0&&rv(o,r,e,n,i)}function da(t,e){if(e!==null){let n=e.type;if(n&3)return Kn(e,t);if(n&4)return Sd(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return da(t,r);{let i=t[e.index];return fr(i)?Sd(-1,i):Zn(i)}}else{if(n&128)return da(t,e.next);if(n&32)return Sf(e,t)()||Zn(t[e.index]);{let r=$m(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=ai(t[kn]);return da(i,r)}else return da(t,e.next)}}}return null}function $m(t,e){if(e!==null){let r=t[kn][Ln],i=e.projection;return r.projection[i]}return null}function Sd(t,e){let n=zt+t+1;if(n<e.length){let r=e[n],i=r[Te].firstChild;if(i!==null)return da(r,i)}return e[oi]}function jI(t,e,n){t.removeChild(null,e,n)}function Mf(t,e,n,r,i,o,a){for(;n!=null;){if(n.type===128){n=n.next;continue}let s=r[n.index],u=n.type;if(a&&e===0&&(s&&ui(Zn(s),r),n.flags|=2),(n.flags&32)!==32)if(u&8)Mf(t,e,n.child,r,i,o,!1),Ji(e,t,i,s,o);else if(u&32){let l=Sf(n,r),c;for(;c=l();)Ji(e,t,i,c,o);Ji(e,t,i,s,o)}else u&16?HI(t,e,r,n,i,o):Ji(e,t,i,s,o);n=a?n.projectionNext:n.next}}function Gu(t,e,n,r,i,o){Mf(n,r,t.firstChild,e,i,o,!1)}function HI(t,e,n,r,i,o){let a=n[kn],u=a[Ln].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let c=u[l];Ji(e,t,i,c,o)}else{let l=u,c=a[Ut];Im(r)&&(l.flags|=128),Mf(t,e,l,c,i,o,!0)}}function zI(t,e,n,r,i){let o=n[oi],a=Zn(n);o!==a&&Ji(e,t,r,o,i);for(let s=zt;s<n.length;s++){let u=n[s];Gu(u[Te],u,t,e,r,o)}}function UI(t,e,n){t.setAttribute(e,"style",n)}function jm(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function Hm(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&pd(t,e,r),i!==null&&jm(t,e,i),o!==null&&UI(t,e,o)}function qI(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}var zm="ng-template";function GI(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&qI(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(Af(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function Af(t){return t.type===4&&t.value!==zm}function WI(t,e,n){let r=t.type===4&&!n?zm:t.value;return e===r}function ZI(t,e,n){let r=4,i=t.attrs,o=i!==null?QI(i):0,a=!1;for(let s=0;s<e.length;s++){let u=e[s];if(typeof u=="number"){if(!a&&!Rn(r)&&!Rn(u))return!1;if(a&&Rn(u))continue;a=!1,r=u|r&1;continue}if(!a)if(r&4){if(r=2|r&1,u!==""&&!WI(t,u,n)||u===""&&e.length===1){if(Rn(r))return!1;a=!0}}else if(r&8){if(i===null||!GI(t,i,u,n)){if(Rn(r))return!1;a=!0}}else{let l=e[++s],c=YI(u,i,Af(t),n);if(c===-1){if(Rn(r))return!1;a=!0;continue}if(l!==""){let d;if(c>o?d="":d=i[c+1].toLowerCase(),r&2&&l!==d){if(Rn(r))return!1;a=!0}}}}return Rn(r)||a}function Rn(t){return(t&1)===0}function YI(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let a=e[i];if(a===t)return i;if(a===3||a===6)o=!0;else if(a===1||a===2){let s=e[++i];for(;typeof s=="string";)s=e[++i];continue}else{if(a===4)break;if(a===0){i+=4;continue}}i+=o?1:2}return-1}else return XI(e,t)}function KI(t,e,n=!1){for(let r=0;r<e.length;r++)if(ZI(t,e[r],n))return!0;return!1}function QI(t){for(let e=0;e<t.length;e++){let n=t[e];if(GC(n))return e}return t.length}function XI(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function iv(t,e){return t?":not("+e.trim()+")":e}function JI(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let a=t[n];if(typeof a=="string")if(r&2){let s=t[++n];i+="["+a+(s.length>0?'="'+s+'"':"")+"]"}else r&8?i+="."+a:r&4&&(i+=" "+a);else i!==""&&!Rn(a)&&(e+=iv(o,i),i=""),r=a,o=o||!Rn(r);n++}return i!==""&&(e+=iv(o,i)),e}function eS(t){return t.map(JI).join(",")}function tS(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!Rn(i))break;i=o}r++}return{attrs:e,classes:n}}var Ra={};function Nf(t=1){Um(hr(),dt(),zu()+t,!1)}function Um(t,e,n,r){if(!r)if((e[Ce]&3)===3){let o=t.preOrderCheckHooks;o!==null&&du(e,o,n)}else{let o=t.preOrderHooks;o!==null&&fu(e,o,0,n)}si(n)}function Rf(t,e=ke.Default){let n=dt();if(n===null)return Be(t,e);let r=Fn();return hm(r,n,wn(t),e)}function qm(t,e,n,r,i,o){let a=Le(null);try{let s=null;i&Or.SignalBased&&(s=e[r][Vi]),s!==null&&s.transformFn!==void 0&&(o=s.transformFn(o)),i&Or.HasDecoratorInputTransform&&(o=t.inputTransforms[r].call(e,o)),t.setInput!==null?t.setInput(e,s,o,n,r):jv(e,s,r,o)}finally{Le(a)}}function nS(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)si(~i);else{let o=i,a=n[++r],s=n[++r];LC(a,o);let u=e[o];s(2,u)}}}finally{si(-1)}}function Wu(t,e,n,r,i,o,a,s,u,l,c){let d=e.blueprint.slice();return d[dr]=i,d[Ce]=r|4|128|8|64|1024,(l!==null||t&&t[Ce]&2048)&&(d[Ce]|=2048),Gv(d),d[Ut]=d[fo]=t,d[Ht]=n,d[Rr]=a||t&&t[Rr],d[fn]=s||t&&t[fn],d[oo]=u||t&&t[oo]||null,d[Ln]=o,d[$u]=mI(),d[va]=c,d[Bv]=l,d[kn]=e.type==2?t[kn]:d,d}function Zu(t,e,n,r,i){let o=t.data[e];if(o===null)o=rS(t,e,n,r,i),PC()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let a=_C();o.injectorIndex=a===null?-1:a.injectorIndex}return Aa(o,!0),o}function rS(t,e,n,r,i){let o=Yv(),a=Kv(),s=a?o:o&&o.parent,u=t.data[e]=lS(t,s,n,e,r,i);return t.firstChild===null&&(t.firstChild=u),o!==null&&(a?o.child==null&&u.parent!==null&&(o.child=u):o.next===null&&(o.next=u,u.prev=o)),u}function Gm(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Wm(t,e,n,r,i){let o=zu(),a=r&2;try{si(-1),a&&e.length>On&&Um(t,e,On,!1),Gn(a?2:0,i),n(r,i)}finally{si(o),Gn(a?3:1,i)}}function Zm(t,e,n){if($v(e)){let r=Le(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let a=i;a<o;a++){let s=t.data[a];if(s.contentQueries){let u=n[a];s.contentQueries(1,u,a)}}}finally{Le(r)}}}function Ym(t,e,n){Zv()&&(hS(t,e,n,Kn(n,e)),(n.flags&64)===64&&ey(t,e,n))}function Km(t,e,n=Kn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let a=r[o+1],s=a===-1?n(e,t):t[a];t[i++]=s}}}function Qm(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=_f(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function _f(t,e,n,r,i,o,a,s,u,l,c){let d=On+r,f=d+i,h=iS(d,f),p=typeof l=="function"?l():l;return h[Te]={type:t,blueprint:h,template:n,queries:null,viewQuery:s,declTNode:e,data:h.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof a=="function"?a():a,firstChild:null,schemas:u,consts:p,incompleteFirstPass:!1,ssrId:c}}function iS(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:Ra);return n}function oS(t,e,n,r){let o=r.get(CI,Rm)||n===Yn.ShadowDom,a=t.selectRootElement(e,o);return aS(a),a}function aS(t){sS(t)}var sS=()=>null;function uS(t,e,n,r){let i=iy(e);i.push(n),t.firstCreatePass&&oy(t).push(r,i.length-1)}function lS(t,e,n,r,i,o){let a=e?e.injectorIndex:-1,s=0;return AC()&&(s|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:a,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:s,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function ov(t,e,n,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let a=e[o];if(a===void 0)continue;r??={};let s,u=Or.None;Array.isArray(a)?(s=a[0],u=a[1]):s=a;let l=o;if(i!==null){if(!i.hasOwnProperty(o))continue;l=i[o]}t===0?av(r,n,l,s,u):av(r,n,l,s)}return r}function av(t,e,n,r,i){let o;t.hasOwnProperty(n)?(o=t[n]).push(e,r):o=t[n]=[e,r],i!==void 0&&o.push(i)}function cS(t,e,n){let r=e.directiveStart,i=e.directiveEnd,o=t.data,a=e.attrs,s=[],u=null,l=null;for(let c=r;c<i;c++){let d=o[c],f=n?n.get(d):null,h=f?f.inputs:null,p=f?f.outputs:null;u=ov(0,d.inputs,c,u,h),l=ov(1,d.outputs,c,l,p);let m=u!==null&&a!==null&&!Af(e)?ES(u,c,a):null;s.push(m)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=s,e.inputs=u,e.outputs=l}function Xm(t,e,n,r){if(Zv()){let i=r===null?null:{"":-1},o=gS(t,n),a,s;o===null?a=s=null:[a,s]=o,a!==null&&Jm(t,e,n,a,i,s),i&&vS(n,r,i)}n.mergedAttrs=vf(n.mergedAttrs,n.attrs)}function Jm(t,e,n,r,i,o){for(let l=0;l<r.length;l++)XC(lm(n,e),t,r[l].type);yS(n,t.data.length,r.length);for(let l=0;l<r.length;l++){let c=r[l];c.providersResolver&&c.providersResolver(c)}let a=!1,s=!1,u=Gm(t,e,r.length,null);for(let l=0;l<r.length;l++){let c=r[l];n.mergedAttrs=vf(n.mergedAttrs,c.hostAttrs),wS(t,n,e,u,c),mS(u,c,i),c.contentQueries!==null&&(n.flags|=4),(c.hostBindings!==null||c.hostAttrs!==null||c.hostVars!==0)&&(n.flags|=64);let d=c.type.prototype;!a&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),a=!0),!s&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),s=!0),u++}cS(t,n,o)}function dS(t,e,n,r,i){let o=i.hostBindings;if(o){let a=t.hostBindingOpCodes;a===null&&(a=t.hostBindingOpCodes=[]);let s=~e.index;fS(a)!=s&&a.push(s),a.push(n,r,o)}}function fS(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function hS(t,e,n,r){let i=n.directiveStart,o=n.directiveEnd;rf(n)&&bS(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||lm(n,e),ui(r,e);let a=n.initialInputs;for(let s=i;s<o;s++){let u=t.data[s],l=uo(e,t,s,n);if(ui(l,e),a!==null&&DS(e,s-i,l,u,n,a),xa(u)){let c=ho(n.index,e);c[Ht]=uo(e,t,s,n)}}}function ey(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,a=FC();try{si(o);for(let s=r;s<i;s++){let u=t.data[s],l=e[s];hd(s),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&pS(u,l)}}finally{si(-1),hd(a)}}function pS(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function gS(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let o=0;o<n.length;o++){let a=n[o];if(KI(e,a.selectors,!1))if(r||(r=[]),xa(a))if(a.findHostDirectiveDefs!==null){let s=[];i=i||new Map,a.findHostDirectiveDefs(a,s,i),r.unshift(...s,a);let u=s.length;xd(t,e,u)}else r.unshift(a),xd(t,e,0);else i=i||new Map,a.findHostDirectiveDefs?.(a,r,i),r.push(a)}return r===null?null:[r,i]}function xd(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function vS(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new De(-301,!1);r.push(e[i],o)}}}function mS(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;xa(e)&&(n[""]=t)}}function yS(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function wS(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=no(i.type,!0)),a=new ya(o,xa(i),Rf);t.blueprint[r]=a,n[r]=a,dS(t,e,r,Gm(t,n,i.hostVars,Ra),i)}function ty(t){let e=16;return t.signals?e=4096:t.onPush&&(e=64),e}function bS(t,e,n){let r=Kn(e,t),i=Qm(n),o=t[Rr].rendererFactory,a=Yu(t,Wu(t,i,null,ty(n),r,e,null,o.createRenderer(r,n),null,null,null));t[e.index]=a}function DS(t,e,n,r,i,o){let a=o[e];if(a!==null)for(let s=0;s<a.length;){let u=a[s++],l=a[s++],c=a[s++],d=a[s++];qm(r,n,u,l,c,d)}}function ES(t,e,n){let r=null,i=0;for(;i<n.length;){let o=n[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){r===null&&(r=[]);let a=t[o];for(let s=0;s<a.length;s+=3)if(a[s]===e){r.push(o,a[s+1],a[s+2],n[i+1]);break}}i+=2}return r}function ny(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function ry(t,e){let n=t.contentQueries;if(n!==null){let r=Le(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],a=n[i+1];if(a!==-1){let s=t.data[a];cf(o),s.contentQueries(2,e[a],a)}}}finally{Le(r)}}}function Yu(t,e){return t[ma]?t[jg][_n]=e:t[ma]=e,t[jg]=e,e}function Td(t,e,n){cf(0);let r=Le(null);try{e(t,n)}finally{Le(r)}}function iy(t){return t[bu]??=[]}function oy(t){return t.cleanup??=[]}function ay(t,e){let n=t[oo],r=n?n.get(kr,null):null;r&&r.handleError(e)}function sy(t,e,n,r,i){for(let o=0;o<n.length;){let a=n[o++],s=n[o++],u=n[o++],l=e[a],c=t.data[a];qm(c,l,r,s,u,i)}}function CS(t,e,n){let r=DC(e,t);MI(t[fn],r,n)}function IS(t,e){let n=ho(e,t),r=n[Te];SS(r,n);let i=n[dr];i!==null&&n[va]===null&&(n[va]=If(i,n[oo])),kf(r,n,n[Ht])}function SS(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function kf(t,e,n){df(e);try{let r=t.viewQuery;r!==null&&Td(1,r,n);let i=t.template;i!==null&&Wm(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[cr]?.finishViewCreation(t),t.staticContentQueries&&ry(t,e),t.staticViewQueries&&Td(2,t.viewQuery,n);let o=t.components;o!==null&&xS(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[Ce]&=-5,ff()}}function xS(t,e){for(let n=0;n<e.length;n++)IS(t,e[n])}function Ku(t,e,n,r){let i=Le(null);try{let o=e.tView,s=t[Ce]&4096?4096:16,u=Wu(t,o,n,s,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];u[ii]=l;let c=t[cr];return c!==null&&(u[cr]=c.createEmbeddedView(o)),kf(o,u,n),u}finally{Le(i)}}function uy(t,e){let n=zt+e;if(n<t.length)return t[n]}function Da(t,e){return!e||e.firstChild===null||Im(t)}function Qu(t,e,n,r=!0){let i=e[Te];if(_I(i,e,t,n),r){let a=Sd(n,t),s=e[fn],u=Vm(s,t[oi]);u!==null&&NI(i,t[Ln],s,e,u,a)}let o=e[va];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function ly(t,e){let n=ba(t,e);return n!==void 0&&qu(n[Te],n),n}function Au(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=e[n.index];o!==null&&r.push(Zn(o)),fr(o)&&TS(o,r);let a=n.type;if(a&8)Au(t,e,n.child,r);else if(a&32){let s=Sf(n,e),u;for(;u=s();)r.push(u)}else if(a&16){let s=$m(e,n);if(Array.isArray(s))r.push(...s);else{let u=ai(e[kn]);Au(u[Te],u,s,r,!0)}}n=i?n.projectionNext:n.next}return r}function TS(t,e){for(let n=zt;n<t.length;n++){let r=t[n],i=r[Te].firstChild;i!==null&&Au(r[Te],r,i,e)}t[oi]!==t[dr]&&e.push(t[oi])}var cy=[];function MS(t){return t[dn]??AS(t)}function AS(t){let e=cy.pop()??Object.create(RS);return e.lView=t,e}function NS(t){t.lView[dn]!==t&&(t.lView=null,cy.push(t))}var RS=ct(fe({},$s),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Hu(t.lView)},consumerOnSignalRead(){this.lView[dn]=this}});function _S(t){let e=t[dn]??Object.create(kS);return e.lView=t,e}var kS=ct(fe({},$s),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let e=ai(t.lView);for(;e&&!dy(e[Te]);)e=ai(e);e&&uf(e)},consumerOnSignalRead(){this.lView[dn]=this}});function dy(t){return t.type!==2}function fy(t){if(t[Du]===null)return;let e=!0;for(;e;){let n=!1;for(let r of t[Du])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=n&&!!(t[Ce]&8192)}}var OS=100;function hy(t,e=!0,n=0){let i=t[Rr].rendererFactory,o=!1;o||i.begin?.();try{PS(t,n)}catch(a){throw e&&ay(t,a),a}finally{o||i.end?.()}}function PS(t,e){let n=Qv();try{zg(!0),Md(t,e);let r=0;for(;ju(t);){if(r===OS)throw new De(103,!1);r++,Md(t,1)}}finally{zg(n)}}function LS(t,e,n,r){let i=e[Ce];if((i&256)===256)return;let o=!1,a=!1;df(e);let s=!0,u=null,l=null;o||(dy(t)?(l=MS(e),u=Nc(l)):Yp()===null?(s=!1,l=_S(e),u=Nc(l)):e[dn]&&(_c(e[dn]),e[dn]=null));try{Gv(e),OC(t.bindingStartIndex),n!==null&&Wm(t,e,n,2,r);let c=(i&3)===3;if(!o)if(c){let h=t.preOrderCheckHooks;h!==null&&du(e,h,null)}else{let h=t.preOrderHooks;h!==null&&fu(e,h,0,null),Qc(e,0)}if(a||FS(e),fy(e),py(e,0),t.contentQueries!==null&&ry(t,e),!o)if(c){let h=t.contentCheckHooks;h!==null&&du(e,h)}else{let h=t.contentHooks;h!==null&&fu(e,h,1),Qc(e,1)}nS(t,e);let d=t.components;d!==null&&vy(e,d,0);let f=t.viewQuery;if(f!==null&&Td(2,f,r),!o)if(c){let h=t.viewCheckHooks;h!==null&&du(e,h)}else{let h=t.viewHooks;h!==null&&fu(e,h,2),Qc(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Kc]){for(let h of e[Kc])h();e[Kc]=null}o||(e[Ce]&=-73)}catch(c){throw o||Hu(e),c}finally{l!==null&&(Jp(l,u),s&&NS(l)),ff()}}function py(t,e){for(let n=Tm(t);n!==null;n=Mm(n))for(let r=zt;r<n.length;r++){let i=n[r];gy(i,e)}}function FS(t){for(let e=Tm(t);e!==null;e=Mm(e)){if(!(e[Ce]&Cu.HasTransplantedViews))continue;let n=e[ao];for(let r=0;r<n.length;r++){let i=n[r];uf(i)}}}function BS(t,e,n){let r=ho(e,t);gy(r,n)}function gy(t,e){sf(t)&&Md(t,e)}function Md(t,e){let r=t[Te],i=t[Ce],o=t[dn],a=!!(e===0&&i&16);if(a||=!!(i&64&&e===0),a||=!!(i&1024),a||=!!(o?.dirty&&Rc(o)),a||=!1,o&&(o.dirty=!1),t[Ce]&=-9217,a)LS(r,t,r.template,t[Ht]);else if(i&8192){fy(t),py(t,1);let s=r.components;s!==null&&vy(t,s,1)}}function vy(t,e,n){for(let r=0;r<e.length;r++)BS(t,e[r],n)}function Of(t,e){let n=Qv()?64:1088;for(t[Rr].changeDetectionScheduler?.notify(e);t;){t[Ce]|=n;let r=ai(t);if(ld(t)&&!r)return t;t=r}return null}var li=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let e=this._lView,n=e[Te];return Au(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r}get context(){return this._lView[Ht]}get dirty(){return!!(this._lView[Ce]&9280)||!!this._lView[dn]?.dirty}set context(e){this._lView[Ht]=e}get destroyed(){return(this._lView[Ce]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Ut];if(fr(e)){let n=e[Eu],r=n?n.indexOf(this):-1;r>-1&&(ba(e,r),yu(n,r))}this._attachedToViewContainer=!1}qu(this._lView[Te],this._lView)}onDestroy(e){Wv(this._lView,e)}markForCheck(){Of(this._cdRefInjectingView||this._lView,4)}markForRefresh(){uf(this._cdRefInjectingView||this._lView)}detach(){this._lView[Ce]&=-129}reattach(){dd(this._lView),this._lView[Ce]|=128}detectChanges(){this._lView[Ce]|=1024,hy(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new De(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=ld(this._lView),n=this._lView[ii];n!==null&&!e&&xf(n,this._lView),Lm(this._lView[Te],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new De(902,!1);this._appRef=e;let n=ld(this._lView),r=this._lView[ii];r!==null&&!n&&Fm(r,this._lView),dd(this._lView)}},Ea=(()=>{class t{static __NG_ELEMENT_ID__=jS}return t})(),VS=Ea,$S=class extends VS{_declarationLView;_declarationTContainer;elementRef;constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=Ku(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new li(i)}};function jS(){return Pf(Fn(),dt())}function Pf(t,e){return t.type&4?new $S(e,t,go(t,e)):null}var j$=new RegExp(`^(\\d+)*(${EI}|${DI})*(.*)`);var HS=()=>null;function Ca(t,e){return HS(t,e)}var Ad=class{},Nu=class{},Nd=class{resolveComponentFactory(e){throw Error(`No component factory found for ${cn(e)}.`)}},lo=class{static NULL=new Nd},co=class{};var zS=(()=>{class t{static \u0275prov=Me({token:t,providedIn:"root",factory:()=>null})}return t})();function Rd(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let a=0;a<e.length;a++){let s=e[a];if(typeof s=="number")o=s;else if(o==1)i=Pg(i,s);else if(o==2){let u=s,l=e[++a];r=Pg(r,u+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var Ru=class extends lo{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=ri(e);return new Ia(n,this.ngModule)}};function sv(t,e){let n=[];for(let r in t){if(!t.hasOwnProperty(r))continue;let i=t[r];if(i===void 0)continue;let o=Array.isArray(i),a=o?i[0]:i,s=o?i[1]:Or.None;e?n.push({propName:a,templateName:r,isSignal:(s&Or.SignalBased)!==0}):n.push({propName:a,templateName:r})}return n}function US(t){let e=t.toLowerCase();return e==="svg"?wC:e==="math"?bC:null}var Ia=class extends Nu{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;get inputs(){let e=this.componentDef,n=e.inputTransforms,r=sv(e.inputs,!0);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return sv(this.componentDef.outputs,!1)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=eS(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let o=Le(null);try{i=i||this.ngModule;let a=i instanceof bn?i:i?.injector;a&&this.componentDef.getStandaloneInjector!==null&&(a=this.componentDef.getStandaloneInjector(a)||a);let s=a?new gd(e,a):e,u=s.get(co,null);if(u===null)throw new De(407,!1);let l=s.get(zS,null),c=s.get(wa,null),d={rendererFactory:u,sanitizer:l,changeDetectionScheduler:c},f=u.createRenderer(null,this.componentDef),h=this.componentDef.selectors[0][0]||"div",p=r?oS(f,r,this.componentDef.encapsulation,s):Pm(f,h,US(h)),m=512;this.componentDef.signals?m|=4096:this.componentDef.onPush||(m|=16);let v=null;p!==null&&(v=If(p,s,!0));let g=_f(0,null,null,1,0,null,null,null,null,null,null),y=Wu(null,g,null,m,null,null,d,f,s,null,v);df(y);let w,b,I=null;try{let E=this.componentDef,D,S=null;E.findHostDirectiveDefs?(D=[],S=new Map,E.findHostDirectiveDefs(E,D,S),D.push(E)):D=[E];let C=qS(y,p);I=GS(C,p,E,D,y,d,f),b=qv(g,On),p&&YS(f,E,p,r),n!==void 0&&KS(b,this.ngContentSelectors,n),w=ZS(I,E,D,S,y,[QS]),kf(g,y,null)}catch(E){throw I!==null&&Cd(I),Cd(y),E}finally{ff()}return new _d(this.componentType,w,go(b,y),y,b)}finally{Le(o)}}},_d=class extends Ad{location;_rootLView;_tNode;instance;hostView;changeDetectorRef;componentType;previousInputValues=null;constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.instance=n,this.hostView=this.changeDetectorRef=new li(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView;sy(o[Te],o,i,e,n),this.previousInputValues.set(e,n);let a=ho(this._tNode.index,o);Of(a,1)}}get injector(){return new ni(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function qS(t,e){let n=t[Te],r=On;return t[r]=e,Zu(n,r,2,"#host",null)}function GS(t,e,n,r,i,o,a){let s=i[Te];WS(r,t,e,a);let u=null;e!==null&&(u=If(e,i[oo]));let l=o.rendererFactory.createRenderer(e,n),c=Wu(i,Qm(n),null,ty(n),i[t.index],t,o,l,null,null,u);return s.firstCreatePass&&xd(s,t,r.length-1),Yu(i,c),i[t.index]=c}function WS(t,e,n,r){for(let i of t)e.mergedAttrs=vf(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Rd(e,e.mergedAttrs,!0),n!==null&&Hm(r,n,e))}function ZS(t,e,n,r,i,o){let a=Fn(),s=i[Te],u=Kn(a,i);Jm(s,i,a,n,null,r);for(let c=0;c<n.length;c++){let d=a.directiveStart+c,f=uo(i,s,d,a);ui(f,i)}ey(s,i,a),u&&ui(u,i);let l=uo(i,s,a.directiveStart+a.componentOffset,a);if(t[Ht]=i[Ht]=l,o!==null)for(let c of o)c(l,e);return Zm(s,a,i),l}function YS(t,e,n,r){if(r)pd(t,n,["ng-version","19.0.3"]);else{let{attrs:i,classes:o}=tS(e.selectors[0]);i&&pd(t,n,i),o&&o.length>0&&jm(t,n,o.join(" "))}}function KS(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null&&o.length?Array.from(o):null)}}function QS(){let t=Fn();gf(dt()[Te],t)}var mo=(()=>{class t{static __NG_ELEMENT_ID__=XS}return t})();function XS(){let t=Fn();return yy(t,dt())}var JS=mo,my=class extends JS{_lContainer;_hostTNode;_hostLView;constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return go(this._hostTNode,this._hostLView)}get injector(){return new ni(this._hostTNode,this._hostLView)}get parentInjector(){let e=mf(this._hostTNode,this._hostLView);if(am(e)){let n=Su(e,this._hostLView),r=Iu(e),i=n[Te].data[r+8];return new ni(i,n)}else return new ni(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=uv(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-zt}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let a=Ca(this._lContainer,e.ssrId),s=e.createEmbeddedViewImpl(n||{},o,a);return this.insertImpl(s,i,Da(this._hostTNode,a)),s}createComponent(e,n,r,i,o){let a=e&&!gC(e),s;if(a)s=n;else{let p=n||{};s=p.index,r=p.injector,i=p.projectableNodes,o=p.environmentInjector||p.ngModuleRef}let u=a?e:new Ia(ri(e)),l=r||this.parentInjector;if(!o&&u.ngModule==null){let m=(a?l:this.parentInjector).get(bn,null);m&&(o=m)}let c=ri(u.componentType??{}),d=Ca(this._lContainer,c?.id??null),f=d?.firstChild??null,h=u.create(l,i,f,o);return this.insertImpl(h.hostView,s,Da(this._hostTNode,d)),h}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(CC(i)){let s=this.indexOf(e);if(s!==-1)this.detach(s);else{let u=i[Ut],l=new my(u,u[Ln],u[Ut]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(n),a=this._lContainer;return Qu(a,i,o,r),e.attachToViewContainerRef(),Mv(td(a),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=uv(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=ba(this._lContainer,n);r&&(yu(td(this._lContainer),n),qu(r[Te],r))}detach(e){let n=this._adjustIndex(e,-1),r=ba(this._lContainer,n);return r&&yu(td(this._lContainer),n)!=null?new li(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function uv(t){return t[Eu]}function td(t){return t[Eu]||(t[Eu]=[])}function yy(t,e){let n,r=e[t.index];return fr(r)?n=r:(n=ny(r,e,null,t),e[t.index]=n,Yu(e,n)),tx(n,e,t,r),new my(n,t,e)}function ex(t,e){let n=t[fn],r=n.createComment(""),i=Kn(e,t),o=Vm(n,i);return Mu(n,o,r,FI(n,i),!1),r}var tx=ix,nx=()=>!1;function rx(t,e,n){return nx(t,e,n)}function ix(t,e,n,r){if(t[oi])return;let i;n.type&8?i=Zn(r):i=ex(e,n),t[oi]=i}var kd=class t{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},Od=class t{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){let a=n.getByIndex(o),s=this.queries[a.indexInDeclarationView];i.push(s.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)Lf(e,n).matches!==null&&this.queries[n].setDirty()}},Pd=class{flags;read;predicate;constructor(e,n,r=null){this.flags=n,this.read=r,typeof e=="string"?this.predicate=fx(e):this.predicate=e}},Ld=class t{queries;constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,n!==null?n.push(o):n=[o])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Fd=class t{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,n=-1){this.metadata=e,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,n,ox(n,o)),this.matchTNodeWithReadOption(e,n,hu(n,e,o,!1,!1))}else r===Ea?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,hu(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===ci||i===mo||i===Ea&&n.type&4)this.addMatch(n.index,-2);else{let o=hu(n,e,i,!1,!1);o!==null&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function ox(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function ax(t,e){return t.type&11?go(t,e):t.type&4?Pf(t,e):null}function sx(t,e,n,r){return n===-1?ax(e,t):n===-2?ux(t,e,r):uo(t,t[Te],n,e)}function ux(t,e,n){if(n===ci)return go(e,t);if(n===Ea)return Pf(e,t);if(n===mo)return yy(e,t)}function wy(t,e,n,r){let i=e[cr].queries[r];if(i.matches===null){let o=t.data,a=n.matches,s=[];for(let u=0;a!==null&&u<a.length;u+=2){let l=a[u];if(l<0)s.push(null);else{let c=o[l];s.push(sx(e,c,a[u+1],n.metadata.read))}}i.matches=s}return i.matches}function Bd(t,e,n,r){let i=t.queries.getByIndex(n),o=i.matches;if(o!==null){let a=wy(t,e,i,n);for(let s=0;s<o.length;s+=2){let u=o[s];if(u>0)r.push(a[s/2]);else{let l=o[s+1],c=e[-u];for(let d=zt;d<c.length;d++){let f=c[d];f[ii]===f[Ut]&&Bd(f[Te],f,l,r)}if(c[ao]!==null){let d=c[ao];for(let f=0;f<d.length;f++){let h=d[f];Bd(h[Te],h,l,r)}}}}}return r}function lx(t,e){return t[cr].queries[e].queryList}function cx(t,e,n){let r=new Ed((n&4)===4);return uS(t,e,r,r.destroy),(e[cr]??=new Od).queries.push(new kd(r))-1}function dx(t,e,n){let r=hr();return r.firstCreatePass&&(hx(r,new Pd(t,e,n),-1),(e&2)===2&&(r.staticViewQueries=!0)),cx(r,dt(),e)}function fx(t){return t.split(",").map(e=>e.trim())}function hx(t,e,n){t.queries===null&&(t.queries=new Ld),t.queries.track(new Fd(e,n))}function Lf(t,e){return t.queries.getByIndex(e)}function px(t,e){let n=t[Te],r=Lf(n,e);return r.crossesNgTemplate?Bd(n,t,e,[]):wy(n,t,r,e)}var Pr=class{},Sa=class{};var Vd=class extends Pr{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Ru(this);constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n;let o=Rv(e);this._bootstrapComponents=Om(o.bootstrap),this._r3Injector=vm(e,n,[{provide:Pr,useValue:this},{provide:lo,useValue:this.componentFactoryResolver},...r],cn(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},$d=class extends Sa{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new Vd(this.moduleType,e,[])}};var _u=class extends Pr{injector;componentFactoryResolver=new Ru(this);instance=null;constructor(e){super();let n=new ga([...e.providers,{provide:Pr,useValue:this},{provide:lo,useValue:this.componentFactoryResolver}],e.parent||nf(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Ff(t,e,n=null){return new _u({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var gx=(()=>{class t{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=Pv(!1,n.type),i=r.length>0?Ff([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=Me({token:t,providedIn:"environment",factory:()=>new t(Be(bn))})}return t})();function Xu(t){return Xd(()=>{let e=by(t),n=ct(fe({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Sm.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(gx).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Yn.Emulated,styles:t.styles||ro,_:null,schemas:t.schemas||null,tView:null,id:""});e.standalone&&Na("NgStandalone"),Dy(n);let r=t.dependencies;return n.directiveDefs=cv(r,!1),n.pipeDefs=cv(r,!0),n.id=yx(n),n})}function vx(t){return ri(t)||_v(t)}function mx(t){return t!==null}function lv(t,e){if(t==null)return pa;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,a,s=Or.None;Array.isArray(i)?(s=i[0],o=i[1],a=i[2]??o):(o=i,a=i),e?(n[o]=s!==Or.None?[r,s]:r,e[o]=a):n[o]=r}return n}function Bf(t){return Xd(()=>{let e=by(t);return Dy(e),e})}function by(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||pa,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:t.signals===!0,selectors:t.selectors||ro,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:lv(t.inputs,e),outputs:lv(t.outputs),debugInfo:null}}function Dy(t){t.features?.forEach(e=>e(t))}function cv(t,e){if(!t)return null;let n=e?kv:vx;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(mx)}function yx(t){let e=0,n=typeof t.consts=="function"?"":t.consts,r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,n,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Vf(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function wx(t){return(t.flags&32)===32}function bx(t,e,n,r,i,o,a,s,u){let l=e.consts,c=Zu(e,t,4,a||null,s||null);Xm(e,n,c,so(l,u)),gf(e,c);let d=c.tView=_f(2,c,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,c),d.queries=e.queries.embeddedTView(c)),c}function jd(t,e,n,r,i,o,a,s,u,l){let c=n+On,d=e.firstCreatePass?bx(c,e,t,r,i,o,a,s,u):e.data[c];Aa(d,!1);let f=Dx(e,t,d,n);hf()&&Tf(e,t,f,d),ui(f,t);let h=ny(f,t,f,d);return t[c]=h,Yu(t,h),rx(h,d,t),of(d)&&Ym(e,t,d),u!=null&&Km(t,d,l),d}function $f(t,e,n,r,i,o,a,s){let u=dt(),l=hr(),c=so(l.consts,o);return jd(u,l,t,e,n,r,i,c,a,s),$f}var Dx=Ex;function Ex(t,e,n,r){return pf(!0),e[fn].createComment("")}var Ju=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Me({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();var Ey=new Ne("");function _a(t){return!!t&&typeof t.then=="function"}function Cy(t){return!!t&&typeof t.subscribe=="function"}var Iy=new Ne("");var Sy=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=ue(Iy,{optional:!0})??[];injector=ue(_r);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=Pn(this.injector,i);if(_a(o))n.push(o);else if(Cy(o)){let a=new Promise((s,u)=>{o.subscribe({complete:s,error:u})});n.push(a)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Me({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Cx=(()=>{class t{static \u0275prov=Me({token:t,providedIn:"root",factory:()=>new Hd})}return t})(),Hd=class{queuedEffectCount=0;queues=new Map;schedule(e){this.enqueue(e)}enqueue(e){let n=e.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(e)||(this.queuedEffectCount++,r.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,n]of this.queues)e===null?this.flushQueue(n):e.run(()=>this.flushQueue(n))}flushQueue(e){for(let n of e)e.delete(n),this.queuedEffectCount--,n.run()}},jf=new Ne("");function Ix(){ig(()=>{throw new De(600,!1)})}function Sx(t){return t.isBoundToModule}var xx=10;function Tx(t,e,n){try{let r=n();return _a(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var fi=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=ue(dI);afterRenderManager=ue(II);zonelessEnabled=ue(Uu);rootEffectScheduler=ue(Cx);dirtyFlags=0;deferredDirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new _t;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=ue(po).hasPendingTasks.pipe(Fe(n=>!n));constructor(){ue(km,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=ue(bn);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){let i=n instanceof Nu;if(!this._injector.get(Sy).done){let f=!i&&Ov(n),h=!1;throw new De(405,h)}let a;i?a=n:a=this._injector.get(lo).resolveComponentFactory(n),this.componentTypes.push(a.componentType);let s=Sx(a)?void 0:this._injector.get(Pr),u=r||a.selector,l=a.create(_r.NULL,[],u,s),c=l.location.nativeElement,d=l.injector.get(Ey,null);return d?.registerApplication(c),l.onDestroy(()=>{this.detachView(l.hostView),pu(this.components,l),d?.unregisterApplication(c)}),this._loadComponent(l),l}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick=()=>{if(this.tracingSnapshot!==null){let r=this.tracingSnapshot;this.tracingSnapshot=null,r.run(_m.CHANGE_DETECTION,this._tick),r.dispose();return}if(this._runningTick)throw new De(101,!1);let n=Le(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,Le(n),this.afterTick.next()}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(co,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let n=0;for(;this.dirtyFlags!==0&&n++<xx;)this.synchronizeOnce()}synchronizeOnce(){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let n=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:i}of this.allViews)Mx(r,i,n,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>ju(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;pu(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(jf,[]).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>pu(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new De(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Me({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function pu(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function Mx(t,e,n,r){if(!n&&!ju(t))return;hy(t,e,n&&!r?0:1)}function Ax(t,e,n,r){return Vf(t,lf(),n)?e+Sv(n)+r:Ra}function dv(t,e,n,r,i){let o=e.inputs,a=i?"class":"style";sy(t,n,o[a],a,r)}var zd=class{destroy(e){}updateValue(e,n){}swap(e,n){let r=Math.min(e,n),i=Math.max(e,n),o=this.detach(i);if(i-r>1){let a=this.detach(r);this.attach(r,o),this.attach(i,a)}else this.attach(r,o)}move(e,n){this.attach(n,this.detach(e))}};function nd(t,e,n,r,i){return t===n&&Object.is(e,r)?1:Object.is(i(t,e),i(n,r))?-1:0}function Nx(t,e,n){let r,i,o=0,a=t.length-1,s=void 0;if(Array.isArray(e)){let u=e.length-1;for(;o<=a&&o<=u;){let l=t.at(o),c=e[o],d=nd(o,l,o,c,n);if(d!==0){d<0&&t.updateValue(o,c),o++;continue}let f=t.at(a),h=e[u],p=nd(a,f,u,h,n);if(p!==0){p<0&&t.updateValue(a,h),a--,u--;continue}let m=n(o,l),v=n(a,f),g=n(o,c);if(Object.is(g,v)){let y=n(u,h);Object.is(y,m)?(t.swap(o,a),t.updateValue(a,h),u--,a--):t.move(a,o),t.updateValue(o,c),o++;continue}if(r??=new ku,i??=hv(t,o,a,n),Ud(t,r,o,g))t.updateValue(o,c),o++,a++;else if(i.has(g))r.set(m,t.detach(o)),a--;else{let y=t.create(o,e[o]);t.attach(o,y),o++,a++}}for(;o<=u;)fv(t,r,n,o,e[o]),o++}else if(e!=null){let u=e[Symbol.iterator](),l=u.next();for(;!l.done&&o<=a;){let c=t.at(o),d=l.value,f=nd(o,c,o,d,n);if(f!==0)f<0&&t.updateValue(o,d),o++,l=u.next();else{r??=new ku,i??=hv(t,o,a,n);let h=n(o,d);if(Ud(t,r,o,h))t.updateValue(o,d),o++,a++,l=u.next();else if(!i.has(h))t.attach(o,t.create(o,d)),o++,a++,l=u.next();else{let p=n(o,c);r.set(p,t.detach(o)),a--}}}for(;!l.done;)fv(t,r,n,t.length,l.value),l=u.next()}for(;o<=a;)t.destroy(t.detach(a--));r?.forEach(u=>{t.destroy(u)})}function Ud(t,e,n,r){return e!==void 0&&e.has(r)?(t.attach(n,e.get(r)),e.delete(r),!0):!1}function fv(t,e,n,r,i){if(Ud(t,e,r,n(r,i)))t.updateValue(r,i);else{let o=t.create(r,i);t.attach(r,o)}}function hv(t,e,n,r){let i=new Set;for(let o=e;o<=n;o++)i.add(r(o,t.at(o)));return i}var ku=class{kvMap=new Map;_vMap=void 0;has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let n=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(e,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,n){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,n)}else this.kvMap.set(e,n)}forEach(e){for(let[n,r]of this.kvMap)if(e(r,n),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,n)}}};function xy(t,e){Na("NgControlFlow");let n=dt(),r=lf(),i=n[r]!==Ra?n[r]:-1,o=i!==-1?Ou(n,On+i):void 0,a=0;if(Vf(n,r,t)){let s=Le(null);try{if(o!==void 0&&ly(o,a),t!==-1){let u=On+t,l=Ou(n,u),c=Zd(n[Te],u),d=Ca(l,c.tView.ssrId),f=Ku(n,c,e,{dehydratedView:d});Qu(l,f,a,Da(c,d))}}finally{Le(s)}}else if(o!==void 0){let s=uy(o,a);s!==void 0&&(s[Ht]=e)}}var qd=class{lContainer;$implicit;$index;constructor(e,n,r){this.lContainer=e,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-zt}};function Ty(t){return t}var Gd=class{hasEmptyBlock;trackByFn;liveCollection;constructor(e,n,r){this.hasEmptyBlock=e,this.trackByFn=n,this.liveCollection=r}};function My(t,e,n,r,i,o,a,s,u,l,c,d,f){Na("NgControlFlow");let h=dt(),p=hr(),m=u!==void 0,v=dt(),g=s?a.bind(v[kn][Ht]):a,y=new Gd(m,g);v[On+t]=y,jd(h,p,t+1,e,n,r,i,so(p.consts,o)),m&&jd(h,p,t+2,u,l,c,d,so(p.consts,f))}var Wd=class extends zd{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(e,n,r){super(),this.lContainer=e,this.hostLView=n,this.templateTNode=r}get length(){return this.lContainer.length-zt}at(e){return this.getLView(e)[Ht].$implicit}attach(e,n){let r=n[va];this.needsIndexUpdate||=e!==this.length,Qu(this.lContainer,n,e,Da(this.templateTNode,r))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,Rx(this.lContainer,e)}create(e,n){let r=Ca(this.lContainer,this.templateTNode.tView.ssrId),i=Ku(this.hostLView,this.templateTNode,new qd(this.lContainer,n,e),{dehydratedView:r});return this.operationsCounter?.recordCreate(),i}destroy(e){qu(e[Te],e),this.operationsCounter?.recordDestroy()}updateValue(e,n){this.getLView(e)[Ht].$implicit=n}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[Ht].$index=e}getLView(e){return _x(this.lContainer,e)}};function Ay(t){let e=Le(null),n=zu();try{let r=dt(),i=r[Te],o=r[n],a=n+1,s=Ou(r,a);if(o.liveCollection===void 0){let l=Zd(i,a);o.liveCollection=new Wd(s,r,l)}else o.liveCollection.reset();let u=o.liveCollection;if(Nx(u,t,o.trackByFn),u.updateIndexes(),o.hasEmptyBlock){let l=lf(),c=u.length===0;if(Vf(r,l,c)){let d=n+2,f=Ou(r,d);if(c){let h=Zd(i,d),p=Ca(f,h.tView.ssrId),m=Ku(r,h,void 0,{dehydratedView:p});Qu(f,m,0,Da(h,p))}else ly(f,0)}}}finally{Le(e)}}function Ou(t,e){return t[e]}function Rx(t,e){return ba(t,e)}function _x(t,e){return uy(t,e)}function Zd(t,e){return qv(t,e)}function kx(t,e,n,r,i,o){let a=e.consts,s=so(a,i),u=Zu(e,t,2,r,s);return Xm(e,n,u,so(a,o)),u.attrs!==null&&Rd(u,u.attrs,!1),u.mergedAttrs!==null&&Rd(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function Lr(t,e,n,r){let i=dt(),o=hr(),a=On+t,s=i[fn],u=o.firstCreatePass?kx(a,o,i,e,n,r):o.data[a],l=Ox(o,i,u,s,e,t);i[a]=l;let c=of(u);return Aa(u,!0),Hm(s,l,u),!wx(u)&&hf()&&Tf(o,i,l,u),xC()===0&&ui(l,i),TC(),c&&(Ym(o,i,u),Zm(o,u,i)),r!==null&&Km(i,u),Lr}function hi(){let t=Fn();Kv()?kC():(t=t.parent,Aa(t,!1));let e=t;NC(e)&&RC(),MC();let n=hr();return n.firstCreatePass&&(gf(n,t),$v(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&UC(e)&&dv(n,e,dt(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&qC(e)&&dv(n,e,dt(),e.stylesWithoutHost,!1),hi}function ka(t,e,n,r){return Lr(t,e,n,r),hi(),ka}var Ox=(t,e,n,r,i,o)=>(pf(!0),Pm(r,i,$C()));function Hf(){return dt()}var Pu="en-US";var Px=Pu;function Lx(t){typeof t=="string"&&(Px=t.toLowerCase().replace(/_/g,"-"))}var Fx=(t,e,n)=>{};function pi(t,e,n,r){let i=dt(),o=hr(),a=Fn();return Vx(o,i,i[fn],a,t,e,r),pi}function Bx(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let a=i[o];if(a===n&&i[o+1]===r){let s=e[bu],u=i[o+2];return s.length>u?s[u]:null}typeof a=="string"&&(o+=2)}return null}function Vx(t,e,n,r,i,o,a){let s=of(r),l=t.firstCreatePass&&oy(t),c=e[Ht],d=iy(e),f=!0;if(r.type&3||a){let m=Kn(r,e),v=a?a(m):m,g=d.length,y=a?b=>a(Zn(b[r.index])):r.index,w=null;if(!a&&s&&(w=Bx(t,e,i,r.index)),w!==null){let b=w.__ngLastListenerFn__||w;b.__ngNextListenerFn__=o,w.__ngLastListenerFn__=o,f=!1}else{o=gv(r,e,c,o),Fx(m,i,o);let b=n.listen(v,i,o);d.push(o,b),l&&l.push(i,y,g,g+1)}}else o=gv(r,e,c,o);let h=r.outputs,p;if(f&&h!==null&&(p=h[i])){let m=p.length;if(m)for(let v=0;v<m;v+=2){let g=p[v],y=p[v+1],I=e[g][y].subscribe(o),E=d.length;d.push(o,I),l&&l.push(i,r.index,E,-(E+1))}}}function pv(t,e,n,r){let i=Le(null);try{return Gn(6,e,n),n(r)!==!1}catch(o){return ay(t,o),!1}finally{Gn(7,e,n),Le(i)}}function gv(t,e,n,r){return function i(o){if(o===Function)return r;let a=t.componentOffset>-1?ho(t.index,e):e;Of(a,5);let s=pv(e,n,r,o),u=i.__ngNextListenerFn__;for(;u;)s=pv(e,n,u,o)&&s,u=u.__ngNextListenerFn__;return s}}function zf(t=1){return VC(t)}function Ny(t,e,n){dx(t,e,n)}function Uf(t){let e=dt(),n=hr(),r=Xv();cf(r+1);let i=Lf(n,r);if(t.dirty&&EC(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let o=px(e,r);t.reset(o,pI),t.notifyOnChanges()}return!0}return!1}function qf(){return lx(dt(),Xv())}function yo(t,e=""){let n=dt(),r=hr(),i=t+On,o=r.firstCreatePass?Zu(r,i,1,e,null):r.data[i],a=$x(r,n,o,e,t);n[i]=a,hf()&&Tf(r,n,a,o),Aa(o,!1)}var $x=(t,e,n,r,i)=>(pf(!0),TI(e[fn],r));function Gf(t,e,n){let r=dt(),i=Ax(r,t,e,n);return i!==Ra&&CS(r,zu(),i),Gf}var Yd=class{ngModuleFactory;componentFactories;constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},Wf=(()=>{class t{compileModuleSync(n){return new $d(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=Rv(n),o=Om(i.declarations).reduce((a,s)=>{let u=ri(s);return u&&a.push(new Ia(u)),a},[]);return new Yd(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Me({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var jx=(()=>{class t{zone=ue(Et);changeDetectionScheduler=ue(wa);applicationRef=ue(fi);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Me({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Hx=new Ne("",{factory:()=>!1});function Ry({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new Et(ct(fe({},ky()),{scheduleInRootZone:n})),[{provide:Et,useFactory:t},{provide:io,multi:!0,useFactory:()=>{let r=ue(jx,{optional:!0});return()=>r.initialize()}},{provide:io,multi:!0,useFactory:()=>{let r=ue(zx);return()=>{r.initialize()}}},e===!0?{provide:wm,useValue:!0}:[],{provide:bm,useValue:n??mm}]}function _y(t){let e=t?.ignoreChangesOutsideZone,n=t?.scheduleInRootZone,r=Ry({ngZoneFactory:()=>{let i=ky(t);return i.scheduleInRootZone=n,i.shouldCoalesceEventChangeDetection&&Na("NgZone_CoalesceEvent"),new Et(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:n});return Bu([{provide:Hx,useValue:!0},{provide:Uu,useValue:!1},r])}function ky(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var zx=(()=>{class t{subscription=new vt;initialized=!1;zone=ue(Et);pendingTasks=ue(po);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Et.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Et.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Me({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Ux=(()=>{class t{appRef=ue(fi);taskService=ue(po);ngZone=ue(Et);zonelessEnabled=ue(Uu);tracing=ue(km,{optional:!0});disableScheduling=ue(wm,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new vt;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Tu):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(ue(bm,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Dd||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;let r=!1;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 8:{this.appRef.deferredDirtyFlags|=8;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 13:{this.appRef.dirtyFlags|=16,r=!0;break}case 14:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{r=!0;break}case 10:case 9:case 7:case 11:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?Kg:Dm;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Tu+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(n),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Kg(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Me({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function qx(){return typeof $localize<"u"&&$localize.locale||Pu}var Zf=new Ne("",{providedIn:"root",factory:()=>ue(Zf,ke.Optional|ke.SkipSelf)||qx()});var Kd=new Ne("");function lu(t){return!t.moduleRef}function Gx(t){let e=lu(t)?t.r3Injector:t.moduleRef.injector,n=e.get(Et);return n.run(()=>{lu(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(kr,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:o=>{r.handleError(o)}})}),lu(t)){let o=()=>e.destroy(),a=t.platformInjector.get(Kd);a.add(o),e.onDestroy(()=>{i.unsubscribe(),a.delete(o)})}else{let o=()=>t.moduleRef.destroy(),a=t.platformInjector.get(Kd);a.add(o),t.moduleRef.onDestroy(()=>{pu(t.allPlatformModules,t.moduleRef),i.unsubscribe(),a.delete(o)})}return Tx(r,n,()=>{let o=e.get(Sy);return o.runInitializers(),o.donePromise.then(()=>{let a=e.get(Zf,Pu);if(Lx(a||Pu),lu(t)){let s=e.get(fi);return t.rootComponent!==void 0&&s.bootstrap(t.rootComponent),s}else return Wx(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function Wx(t,e){let n=t.injector.get(fi);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(n);else throw new De(-403,!1);e.push(t)}var gu=null;function Zx(t=[],e){return _r.create({name:e,providers:[{provide:Vu,useValue:"platform"},{provide:Kd,useValue:new Set([()=>gu=null])},...t]})}function Yx(t=[]){if(gu)return gu;let e=Zx(t);return gu=e,Ix(),Kx(e),e}function Kx(t){let e=t.get(Ef,null);Pn(t,()=>{e?.forEach(n=>n())})}var Oa=(()=>{class t{static __NG_ELEMENT_ID__=Qx}return t})();function Qx(t){return Xx(Fn(),dt(),(t&16)===16)}function Xx(t,e,n){if(rf(t)&&!n){let r=ho(t.index,e);return new li(r,r)}else if(t.type&175){let r=e[kn];return new li(r,e)}return null}function Oy(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=Yx(r),o=[Ry({}),{provide:wa,useExisting:Ux},...n||[]],a=new _u({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return Gx({r3Injector:a.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}}var vv=class{[Vi];constructor(e){this[Vi]=e}destroy(){this[Vi].destroy()}};var jy=null;function wo(){return jy}function Hy(t){jy??=t}var tl=class{};var Dn=new Ne(""),zy=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Me({token:t,factory:()=>ue(rT),providedIn:"platform"})}return t})();var rT=(()=>{class t extends zy{_location;_history;_doc=ue(Dn);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return wo().getBaseHref(this._doc)}onPopState(n){let r=wo().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=wo().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Me({token:t,factory:()=>new t,providedIn:"platform"})}return t})();function Uy(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function Py(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function gi(t){return t&&t[0]!=="?"?"?"+t:t}var rl=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Me({token:t,factory:()=>ue(qy),providedIn:"root"})}return t})(),iT=new Ne(""),qy=(()=>{class t extends rl{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??ue(Dn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Uy(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+gi(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){let a=this.prepareExternalUrl(i+gi(o));this._platformLocation.pushState(n,r,a)}replaceState(n,r,i,o){let a=this.prepareExternalUrl(i+gi(o));this._platformLocation.replaceState(n,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||t)(Be(zy),Be(iT,8))};static \u0275prov=Me({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Pa=(()=>{class t{_subject=new _t;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=sT(Py(Ly(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+gi(r))}normalize(n){return t.stripTrailingSlash(aT(this._basePath,Ly(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+gi(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+gi(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=gi;static joinWithSlash=Uy;static stripTrailingSlash=Py;static \u0275fac=function(r){return new(r||t)(Be(rl))};static \u0275prov=Me({token:t,factory:()=>oT(),providedIn:"root"})}return t})();function oT(){return new Pa(Be(rl))}function aT(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function Ly(t){return t.replace(/\/index.html$/,"")}function sT(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function Gy(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Wy="browser",uT="server";function Yf(t){return t===uT}var nl=class{};var Qf=class extends tl{supportsDOMEvents=!0},Xf=class t extends Qf{static makeCurrent(){Hy(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=cT();return n==null?null:dT(n)}resetBaseElement(){La=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Gy(document.cookie,e)}},La=null;function cT(){return La=La||document.querySelector("base"),La?La.getAttribute("href"):null}function dT(t){return new URL(t,document.baseURI).pathname}var fT=(()=>{class t{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Me({token:t,factory:t.\u0275fac})}return t})(),Jf=new Ne(""),Jy=(()=>{class t{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new De(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||t)(Be(Jf),Be(Et))};static \u0275prov=Me({token:t,factory:t.\u0275fac})}return t})(),il=class{_doc;constructor(e){this._doc=e}manager},eh="ng-app-id";function Zy(t){for(let e of t)e.remove()}function Yy(t,e){let n=e.createElement("style");return n.textContent=t,n}function hT(t,e,n){let r=t.head?.querySelectorAll(`style[${eh}="${e}"]`);if(r)for(let i of r)i.textContent&&(i.removeAttribute(eh),n.set(i.textContent,{usage:0,elements:[i]}))}function th(t,e){let n=e.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",t),n}var e0=(()=>{class t{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,this.isServer=Yf(o),hT(n,r,this.inline),this.hosts.add(n.head)}addStyles(n,r){for(let i of n)this.addUsage(i,this.inline,Yy);r?.forEach(i=>this.addUsage(i,this.external,th))}removeStyles(n,r){for(let i of n)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(n,r,i){let o=r.get(n);o?o.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(a=>this.addElement(a,i(n,this.doc)))})}removeUsage(n,r){let i=r.get(n);i&&(i.usage--,i.usage<=0&&(Zy(i.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])Zy(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(n,Yy(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(n,th(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(eh,this.appId),n.appendChild(r)}static \u0275fac=function(r){return new(r||t)(Be(Dn),Be(Df),Be(Cf,8),Be(vo))};static \u0275prov=Me({token:t,factory:t.\u0275fac})}return t})(),Kf={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},rh=/%COMP%/g,t0="%COMP%",pT=`_nghost-${t0}`,gT=`_ngcontent-${t0}`,vT=!0,mT=new Ne("",{providedIn:"root",factory:()=>vT});function yT(t){return gT.replace(rh,t)}function wT(t){return pT.replace(rh,t)}function n0(t,e){return e.map(n=>n.replace(rh,t))}var Ky=(()=>{class t{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(n,r,i,o,a,s,u,l=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=s,this.ngZone=u,this.nonce=l,this.platformIsServer=Yf(s),this.defaultRenderer=new Fa(n,a,u,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Yn.ShadowDom&&(r=ct(fe({},r),{encapsulation:Yn.Emulated}));let i=this.getOrCreateRenderer(n,r);return i instanceof ol?i.applyToHost(n):i instanceof Ba&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let a=this.doc,s=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,c=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(r.encapsulation){case Yn.Emulated:o=new ol(u,l,r,this.appId,c,a,s,d);break;case Yn.ShadowDom:return new nh(u,l,n,r,a,s,this.nonce,d);default:o=new Ba(u,l,r,c,a,s,d);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static \u0275fac=function(r){return new(r||t)(Be(Jy),Be(e0),Be(Df),Be(mT),Be(Dn),Be(vo),Be(Et),Be(Cf))};static \u0275prov=Me({token:t,factory:t.\u0275fac})}return t})(),Fa=class{eventManager;doc;ngZone;platformIsServer;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i}destroy(){}destroyNode=null;createElement(e,n){return n?this.doc.createElementNS(Kf[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(Qy(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(Qy(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new De(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=Kf[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=Kf[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(di.DashCase|di.Important)?e.style.setProperty(n,r,i&di.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&di.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=wo().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function Qy(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var nh=class extends Fa{sharedStylesHost;hostEl;shadowRoot;constructor(e,n,r,i,o,a,s,u){super(e,o,a,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=n0(i.id,i.styles);for(let d of l){let f=document.createElement("style");s&&f.setAttribute("nonce",s),f.textContent=d,this.shadowRoot.appendChild(f)}let c=i.getExternalStyles?.();if(c)for(let d of c){let f=th(d,o);s&&f.setAttribute("nonce",s),this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Ba=class extends Fa{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,n,r,i,o,a,s,u){super(e,o,a,s),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?n0(u,r.styles):r.styles,this.styleUrls=r.getExternalStyles?.(u)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},ol=class extends Ba{contentAttr;hostAttr;constructor(e,n,r,i,o,a,s,u){let l=i+"-"+r.id;super(e,n,r,o,a,s,u,l),this.contentAttr=yT(l),this.hostAttr=wT(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},bT=(()=>{class t extends il{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static \u0275fac=function(r){return new(r||t)(Be(Dn))};static \u0275prov=Me({token:t,factory:t.\u0275fac})}return t})(),Xy=["alt","control","meta","shift"],DT={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ET={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},CT=(()=>{class t extends il{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,i){let o=t.parseEventName(r),a=t.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>wo().onAndCancel(n,o.domEventName,a))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=t._normalizeKey(r.pop()),a="",s=r.indexOf("code");if(s>-1&&(r.splice(s,1),a="code."),Xy.forEach(l=>{let c=r.indexOf(l);c>-1&&(r.splice(c,1),a+=l+".")}),a+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=i,u.fullKey=a,u}static matchEventFullKeyCode(n,r){let i=DT[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),Xy.forEach(a=>{if(a!==i){let s=ET[a];s(n)&&(o+=a+".")}}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{t.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||t)(Be(Dn))};static \u0275prov=Me({token:t,factory:t.\u0275fac})}return t})();function r0(t,e){return Oy(fe({rootComponent:t},IT(e)))}function IT(t){return{appProviders:[...AT,...t?.providers??[]],platformProviders:MT}}function ST(){Xf.makeCurrent()}function xT(){return new kr}function TT(){return Nm(document),document}var MT=[{provide:vo,useValue:Wy},{provide:Ef,useValue:ST,multi:!0},{provide:Dn,useFactory:TT,deps:[]}];var AT=[{provide:Vu,useValue:"root"},{provide:kr,useFactory:xT,deps:[]},{provide:Jf,useClass:bT,multi:!0,deps:[Dn,Et,vo]},{provide:Jf,useClass:CT,multi:!0,deps:[Dn]},Ky,e0,Jy,{provide:co,useExisting:Ky},{provide:nl,useClass:fT,deps:[]},[]];var i0=(()=>{class t{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(r){return new(r||t)(Be(Dn))};static \u0275prov=Me({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Re="primary",ts=Symbol("RouteTitle"),uh=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function So(t){return new uh(t)}function RT(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let a=r[o],s=t[o];if(a[0]===":")i[a.substring(1)]=s;else if(a!==s.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function _T(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Qn(t[n],e[n]))return!1;return!0}function Qn(t,e){let n=t?lh(t):void 0,r=e?lh(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!f0(t[i],e[i]))return!1;return!0}function lh(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function f0(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function h0(t){return t.length>0?t[t.length-1]:null}function Fr(t){return Hc(t)?t:_a(t)?bt(Promise.resolve(t)):Ae(t)}var kT={exact:g0,subset:v0},p0={exact:OT,subset:PT,ignored:()=>!0};function o0(t,e,n){return kT[n.paths](t.root,e.root,n.matrixParams)&&p0[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function OT(t,e){return Qn(t,e)}function g0(t,e,n){if(!mi(t.segments,e.segments)||!ul(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!g0(t.children[r],e.children[r],n))return!1;return!0}function PT(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>f0(t[n],e[n]))}function v0(t,e,n){return m0(t,e,e.segments,n)}function m0(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!mi(i,n)||e.hasChildren()||!ul(i,n,r))}else if(t.segments.length===n.length){if(!mi(t.segments,n)||!ul(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!v0(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!mi(t.segments,i)||!ul(t.segments,i,r)||!t.children[Re]?!1:m0(t.children[Re],e,o,r)}}function ul(t,e,n){return e.every((r,i)=>p0[n](t[i].parameters,r.parameters))}var gr=class{root;queryParams;fragment;_queryParamMap;constructor(e=new Ye([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=So(this.queryParams),this._queryParamMap}toString(){return BT.serialize(this)}},Ye=class{segments;children;parent=null;constructor(e,n){this.segments=e,this.children=n,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ll(this)}},vi=class{path;parameters;_parameterMap;constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=So(this.parameters),this._parameterMap}toString(){return w0(this)}};function LT(t,e){return mi(t,e)&&t.every((n,r)=>Qn(n.parameters,e[r].parameters))}function mi(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function FT(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===Re&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==Re&&(n=n.concat(e(i,r)))}),n}var Ph=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=Me({token:t,factory:()=>new qa,providedIn:"root"})}return t})(),qa=class{parse(e){let n=new dh(e);return new gr(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Va(e.root,!0)}`,r=jT(e.queryParams),i=typeof e.fragment=="string"?`#${VT(e.fragment)}`:"";return`${n}${r}${i}`}},BT=new qa;function ll(t){return t.segments.map(e=>w0(e)).join("/")}function Va(t,e){if(!t.hasChildren())return ll(t);if(e){let n=t.children[Re]?Va(t.children[Re],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==Re&&r.push(`${i}:${Va(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=FT(t,(r,i)=>i===Re?[Va(t.children[Re],!1)]:[`${i}:${Va(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[Re]!=null?`${ll(t)}/${n[0]}`:`${ll(t)}/(${n.join("//")})`}}function y0(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function al(t){return y0(t).replace(/%3B/gi,";")}function VT(t){return encodeURI(t)}function ch(t){return y0(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function cl(t){return decodeURIComponent(t)}function a0(t){return cl(t.replace(/\+/g,"%20"))}function w0(t){return`${ch(t.path)}${$T(t.parameters)}`}function $T(t){return Object.entries(t).map(([e,n])=>`;${ch(e)}=${ch(n)}`).join("")}function jT(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${al(n)}=${al(i)}`).join("&"):`${al(n)}=${al(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var HT=/^[^\/()?;#]+/;function ih(t){let e=t.match(HT);return e?e[0]:""}var zT=/^[^\/()?;=#]+/;function UT(t){let e=t.match(zT);return e?e[0]:""}var qT=/^[^=?&#]+/;function GT(t){let e=t.match(qT);return e?e[0]:""}var WT=/^[^&#]+/;function ZT(t){let e=t.match(WT);return e?e[0]:""}var dh=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ye([],{}):new Ye([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[Re]=new Ye(e,n)),r}parseSegment(){let e=ih(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new De(4009,!1);return this.capture(e),new vi(cl(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=UT(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=ih(this.remaining);i&&(r=i,this.capture(r))}e[cl(n)]=cl(r)}parseQueryParam(e){let n=GT(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let a=ZT(this.remaining);a&&(r=a,this.capture(r))}let i=a0(n),o=a0(r);if(e.hasOwnProperty(i)){let a=e[i];Array.isArray(a)||(a=[a],e[i]=a),a.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=ih(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new De(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=Re);let a=this.parseChildren();n[o]=Object.keys(a).length===1?a[Re]:new Ye([],a),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new De(4011,!1)}};function b0(t){return t.segments.length>0?new Ye([],{[Re]:t}):t}function D0(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=D0(i);if(r===Re&&o.segments.length===0&&o.hasChildren())for(let[a,s]of Object.entries(o.children))e[a]=s;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new Ye(t.segments,e);return YT(n)}function YT(t){if(t.numberOfChildren===1&&t.children[Re]){let e=t.children[Re];return new Ye(t.segments.concat(e.segments),e.children)}return t}function Ga(t){return t instanceof gr}function KT(t,e,n=null,r=null){let i=E0(t);return C0(i,e,n,r)}function E0(t){let e;function n(o){let a={};for(let u of o.children){let l=n(u);a[u.outlet]=l}let s=new Ye(o.url,a);return o===t&&(e=s),s}let r=n(t.root),i=b0(r);return e??i}function C0(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return oh(i,i,i,n,r);let o=QT(e);if(o.toRoot())return oh(i,i,new Ye([],{}),n,r);let a=XT(o,i,t),s=a.processChildren?Ha(a.segmentGroup,a.index,o.commands):S0(a.segmentGroup,a.index,o.commands);return oh(i,a.segmentGroup,s,n,r)}function dl(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Wa(t){return typeof t=="object"&&t!=null&&t.outlets}function oh(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([u,l])=>{o[u]=Array.isArray(l)?l.map(c=>`${c}`):`${l}`});let a;t===e?a=n:a=I0(t,e,n);let s=b0(D0(a));return new gr(s,o,i)}function I0(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=I0(o,e,n)}),new Ye(t.segments,r)}var fl=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&dl(r[0]))throw new De(4003,!1);let i=r.find(Wa);if(i&&i!==h0(r))throw new De(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function QT(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new fl(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,a)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let s={};return Object.entries(o.outlets).forEach(([u,l])=>{s[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:s}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:a===0?(o.split("/").forEach((s,u)=>{u==0&&s==="."||(u==0&&s===""?n=!0:s===".."?e++:s!=""&&i.push(s))}),i):[...i,o]},[]);return new fl(n,e,r)}var Eo=class{segmentGroup;processChildren;index;constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function XT(t,e,n){if(t.isAbsolute)return new Eo(e,!0,0);if(!n)return new Eo(e,!1,NaN);if(n.parent===null)return new Eo(n,!0,0);let r=dl(t.commands[0])?0:1,i=n.segments.length-1+r;return JT(n,i,t.numberOfDoubleDots)}function JT(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new De(4005,!1);i=r.segments.length}return new Eo(r,!1,i-o)}function eM(t){return Wa(t[0])?t[0].outlets:{[Re]:t}}function S0(t,e,n){if(t??=new Ye([],{}),t.segments.length===0&&t.hasChildren())return Ha(t,e,n);let r=tM(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new Ye(t.segments.slice(0,r.pathIndex),{});return o.children[Re]=new Ye(t.segments.slice(r.pathIndex),t.children),Ha(o,0,i)}else return r.match&&i.length===0?new Ye(t.segments,{}):r.match&&!t.hasChildren()?fh(t,e,n):r.match?Ha(t,0,i):fh(t,e,n)}function Ha(t,e,n){if(n.length===0)return new Ye(t.segments,{});{let r=eM(n),i={};if(Object.keys(r).some(o=>o!==Re)&&t.children[Re]&&t.numberOfChildren===1&&t.children[Re].segments.length===0){let o=Ha(t.children[Re],e,n);return new Ye(t.segments,o.children)}return Object.entries(r).forEach(([o,a])=>{typeof a=="string"&&(a=[a]),a!==null&&(i[o]=S0(t.children[o],e,a))}),Object.entries(t.children).forEach(([o,a])=>{r[o]===void 0&&(i[o]=a)}),new Ye(t.segments,i)}}function tM(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let a=t.segments[i],s=n[r];if(Wa(s))break;let u=`${s}`,l=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!u0(u,l,a))return o;r+=2}else{if(!u0(u,{},a))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function fh(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(Wa(o)){let u=nM(o.outlets);return new Ye(r,u)}if(i===0&&dl(n[0])){let u=t.segments[e];r.push(new vi(u.path,s0(n[0]))),i++;continue}let a=Wa(o)?o.outlets[Re]:`${o}`,s=i<n.length-1?n[i+1]:null;a&&s&&dl(s)?(r.push(new vi(a,s0(s))),i+=2):(r.push(new vi(a,{})),i++)}return new Ye(r,{})}function nM(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=fh(new Ye([],{}),0,r))}),e}function s0(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function u0(t,e,n){return t==n.path&&Qn(e,n.parameters)}var za="imperative",Pt=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Pt||{}),En=class{id;url;constructor(e,n){this.id=e,this.url=n}},Za=class extends En{type=Pt.NavigationStart;navigationTrigger;restoredState;constructor(e,n,r="imperative",i=null){super(e,n),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},yi=class extends En{urlAfterRedirects;type=Pt.NavigationEnd;constructor(e,n,r){super(e,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},pn=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(pn||{}),hh=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(hh||{}),pr=class extends En{reason;code;type=Pt.NavigationCancel;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},wi=class extends En{reason;code;type=Pt.NavigationSkipped;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}},Ya=class extends En{error;target;type=Pt.NavigationError;constructor(e,n,r,i){super(e,n),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},hl=class extends En{urlAfterRedirects;state;type=Pt.RoutesRecognized;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ph=class extends En{urlAfterRedirects;state;type=Pt.GuardsCheckStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},gh=class extends En{urlAfterRedirects;state;shouldActivate;type=Pt.GuardsCheckEnd;constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},vh=class extends En{urlAfterRedirects;state;type=Pt.ResolveStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},mh=class extends En{urlAfterRedirects;state;type=Pt.ResolveEnd;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},yh=class{route;type=Pt.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},wh=class{route;type=Pt.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},bh=class{snapshot;type=Pt.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Dh=class{snapshot;type=Pt.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Eh=class{snapshot;type=Pt.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ch=class{snapshot;type=Pt.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Ka=class{},xo=class{url;navigationBehaviorOptions;constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function rM(t,e){return t.providers&&!t._injector&&(t._injector=Ff(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Bn(t){return t.outlet||Re}function iM(t,e){let n=t.filter(r=>Bn(r)===e);return n.push(...t.filter(r=>Bn(r)!==e)),n}function ns(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var Ih=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return ns(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new bl(this.rootInjector)}},bl=(()=>{class t{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new Ih(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(r){return new(r||t)(Be(bn))};static \u0275prov=Me({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),pl=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=Sh(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=Sh(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=xh(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return xh(e,this._root).map(n=>n.value)}};function Sh(t,e){if(t===e.value)return e;for(let n of e.children){let r=Sh(t,n);if(r)return r}return null}function xh(t,e){if(t===e.value)return[e];for(let n of e.children){let r=xh(t,n);if(r.length)return r.unshift(e),r}return[]}var hn=class{value;children;constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Do(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var gl=class extends pl{snapshot;constructor(e,n){super(e),this.snapshot=n,Lh(this,e)}toString(){return this.snapshot.toString()}};function x0(t){let e=oM(t),n=new kt([new vi("",{})]),r=new kt({}),i=new kt({}),o=new kt({}),a=new kt(""),s=new To(n,r,o,a,i,Re,t,e.root);return s.snapshot=e.root,new gl(new hn(s,[]),e)}function oM(t){let e={},n={},r={},i="",o=new Co([],e,r,i,n,Re,t,null,{});return new ml("",new hn(o,[]))}var To=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,n,r,i,o,a,s,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=a,this.component=s,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(Fe(l=>l[ts]))??Ae(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Fe(e=>So(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Fe(e=>So(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function vl(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:fe(fe({},e.params),t.params),data:fe(fe({},e.data),t.data),resolve:fe(fe(fe(fe({},t.data),e.data),i?.data),t._resolvedData)}:r={params:fe({},t.params),data:fe({},t.data),resolve:fe(fe({},t.data),t._resolvedData??{})},i&&M0(i)&&(r.resolve[ts]=i.title),r}var Co=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[ts]}constructor(e,n,r,i,o,a,s,u,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=a,this.component=s,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=So(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=So(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},ml=class extends pl{url;constructor(e,n){super(n),this.url=e,Lh(this,n)}toString(){return T0(this._root)}};function Lh(t,e){e.value._routerState=t,e.children.forEach(n=>Lh(t,n))}function T0(t){let e=t.children.length>0?` { ${t.children.map(T0).join(", ")} } `:"";return`${t.value}${e}`}function ah(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Qn(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Qn(e.params,n.params)||t.paramsSubject.next(n.params),_T(e.url,n.url)||t.urlSubject.next(n.url),Qn(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Th(t,e){let n=Qn(t.params,e.params)&&LT(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||Th(t.parent,e.parent))}function M0(t){return typeof t.title=="string"||t.title===null}var aM=new Ne(""),sM=(()=>{class t{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=Re;activateEvents=new ln;deactivateEvents=new ln;attachEvents=new ln;detachEvents=new ln;routerOutletData=Cm(void 0);parentContexts=ue(bl);location=ue(mo);changeDetector=ue(Oa);inputBinder=ue(Fh,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new De(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new De(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new De(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new De(4013,!1);this._activatedRoute=n;let i=this.location,a=n.snapshot.component,s=this.parentContexts.getOrCreateContext(this.name).children,u=new Mh(n,s,i.injector,this.routerOutletData);this.activated=i.createComponent(a,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||t)};static \u0275dir=Bf({type:t,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[af]})}return t})(),Mh=class t{route;childContexts;parent;outletData;__ngOutletInjector(e){return new t(this.route,this.childContexts,e,this.outletData)}constructor(e,n,r,i){this.route=e,this.childContexts=n,this.parent=r,this.outletData=i}get(e,n){return e===To?this.route:e===bl?this.childContexts:e===aM?this.outletData:this.parent.get(e,n)}},Fh=new Ne("");function uM(t,e,n){let r=Qa(t,e._root,n?n._root:void 0);return new gl(r,e)}function Qa(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=lM(t,e,n);return new hn(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let a=o.route;return a.value._futureSnapshot=e.value,a.children=e.children.map(s=>Qa(t,s)),a}}let r=cM(e.value),i=e.children.map(o=>Qa(t,o));return new hn(r,i)}}function lM(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Qa(t,r,i);return Qa(t,r)})}function cM(t){return new To(new kt(t.url),new kt(t.params),new kt(t.queryParams),new kt(t.fragment),new kt(t.data),t.outlet,t.component,t)}var Xa=class{redirectTo;navigationBehaviorOptions;constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},A0="ngNavigationCancelingError";function yl(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=Ga(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=N0(!1,pn.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function N0(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[A0]=!0,n.cancellationCode=e,n}function dM(t){return R0(t)&&Ga(t.url)}function R0(t){return!!t&&t[A0]}var fM=(t,e,n,r)=>Fe(i=>(new Ah(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),Ah=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),ah(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Do(n);e.children.forEach(o=>{let a=o.value.outlet;this.deactivateRoutes(o,i[a],r),delete i[a]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let a=r.getContext(i.outlet);a&&this.deactivateChildRoutes(e,n,a.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Do(e);for(let a of Object.values(o))this.deactivateRouteAndItsChildren(a,i);if(r&&r.outlet){let a=r.outlet.detach(),s=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:a,route:e,contexts:s})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Do(e);for(let a of Object.values(o))this.deactivateRouteAndItsChildren(a,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Do(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Ch(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Dh(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(ah(i),i===o)if(i.component){let a=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,a.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let a=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let s=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),a.children.onOutletReAttached(s.contexts),a.attachRef=s.componentRef,a.route=s.route.value,a.outlet&&a.outlet.attach(s.componentRef,s.route.value),ah(s.route.value),this.activateChildRoutes(e,null,a.children)}else a.attachRef=null,a.route=i,a.outlet&&a.outlet.activateWith(i,a.injector),this.activateChildRoutes(e,null,a.children)}else this.activateChildRoutes(e,null,r)}},wl=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Io=class{component;route;constructor(e,n){this.component=e,this.route=n}};function hM(t,e,n){let r=t._root,i=e?e._root:null;return $a(r,i,n,[r.value])}function pM(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Ao(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!Dv(t)?t:e.get(t):r}function $a(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Do(e);return t.children.forEach(a=>{gM(a,o[a.value.outlet],n,r.concat([a.value]),i),delete o[a.value.outlet]}),Object.entries(o).forEach(([a,s])=>Ua(s,n.getContext(a),i)),i}function gM(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,a=e?e.value:null,s=n?n.getContext(t.value.outlet):null;if(a&&o.routeConfig===a.routeConfig){let u=vM(a,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new wl(r)):(o.data=a.data,o._resolvedData=a._resolvedData),o.component?$a(t,e,s?s.children:null,r,i):$a(t,e,n,r,i),u&&s&&s.outlet&&s.outlet.isActivated&&i.canDeactivateChecks.push(new Io(s.outlet.component,a))}else a&&Ua(e,s,i),i.canActivateChecks.push(new wl(r)),o.component?$a(t,null,s?s.children:null,r,i):$a(t,null,n,r,i);return i}function vM(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!mi(t.url,e.url);case"pathParamsOrQueryParamsChange":return!mi(t.url,e.url)||!Qn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Th(t,e)||!Qn(t.queryParams,e.queryParams);case"paramsChange":default:return!Th(t,e)}}function Ua(t,e,n){let r=Do(t),i=t.value;Object.entries(r).forEach(([o,a])=>{i.component?e?Ua(a,e.children.getContext(o),n):Ua(a,null,n):Ua(a,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Io(e.outlet.component,i)):n.canDeactivateChecks.push(new Io(null,i)):n.canDeactivateChecks.push(new Io(null,i))}function rs(t){return typeof t=="function"}function mM(t){return typeof t=="boolean"}function yM(t){return t&&rs(t.canLoad)}function wM(t){return t&&rs(t.canActivate)}function bM(t){return t&&rs(t.canActivateChild)}function DM(t){return t&&rs(t.canDeactivate)}function EM(t){return t&&rs(t.canMatch)}function _0(t){return t instanceof sr||t?.name==="EmptyError"}var sl=Symbol("INITIAL_VALUE");function Mo(){return Nn(t=>au(t.map(e=>e.pipe(ur(1),Wc(sl)))).pipe(Fe(e=>{for(let n of e)if(n!==!0){if(n===sl)return sl;if(n===!1||CM(n))return n}return!0}),An(e=>e!==sl),ur(1)))}function CM(t){return Ga(t)||t instanceof Xa}function IM(t,e){return Dt(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:a}}=n;return a.length===0&&o.length===0?Ae(ct(fe({},n),{guardsResult:!0})):SM(a,r,i,t).pipe(Dt(s=>s&&mM(s)?xM(r,o,t,e):Ae(s)),Fe(s=>ct(fe({},n),{guardsResult:s})))})}function SM(t,e,n,r){return bt(t).pipe(Dt(i=>RM(i.component,i.route,n,e,r)),lr(i=>i!==!0,!0))}function xM(t,e,n,r){return bt(e).pipe(Yi(i=>Zi(MM(i.route.parent,r),TM(i.route,r),NM(t,i.path,n),AM(t,i.route,n))),lr(i=>i!==!0,!0))}function TM(t,e){return t!==null&&e&&e(new Eh(t)),Ae(!0)}function MM(t,e){return t!==null&&e&&e(new bh(t)),Ae(!0)}function AM(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return Ae(!0);let i=r.map(o=>su(()=>{let a=ns(e)??n,s=Ao(o,a),u=wM(s)?s.canActivate(e,t):Pn(a,()=>s(e,t));return Fr(u).pipe(lr())}));return Ae(i).pipe(Mo())}function NM(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(a=>pM(a)).filter(a=>a!==null).map(a=>su(()=>{let s=a.guards.map(u=>{let l=ns(a.node)??n,c=Ao(u,l),d=bM(c)?c.canActivateChild(r,t):Pn(l,()=>c(r,t));return Fr(d).pipe(lr())});return Ae(s).pipe(Mo())}));return Ae(o).pipe(Mo())}function RM(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return Ae(!0);let a=o.map(s=>{let u=ns(e)??i,l=Ao(s,u),c=DM(l)?l.canDeactivate(t,e,n,r):Pn(u,()=>l(t,e,n,r));return Fr(c).pipe(lr())});return Ae(a).pipe(Mo())}function _M(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return Ae(!0);let o=i.map(a=>{let s=Ao(a,t),u=yM(s)?s.canLoad(e,n):Pn(t,()=>s(e,n));return Fr(u)});return Ae(o).pipe(Mo(),k0(r))}function k0(t){return Bc(Ot(e=>{if(typeof e!="boolean")throw yl(t,e)}),Fe(e=>e===!0))}function kM(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return Ae(!0);let o=i.map(a=>{let s=Ao(a,t),u=EM(s)?s.canMatch(e,n):Pn(t,()=>s(e,n));return Fr(u)});return Ae(o).pipe(Mo(),k0(r))}var Ja=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},es=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function bo(t){return Wi(new Ja(t))}function OM(t){return Wi(new De(4e3,!1))}function PM(t){return Wi(N0(!1,pn.GuardRejected))}var Nh=class{urlSerializer;urlTree;constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return Ae(r);if(i.numberOfChildren>1||!i.children[Re])return OM(`${e.redirectTo}`);i=i.children[Re]}}applyRedirectCommands(e,n,r,i,o){if(typeof n!="string"){let s=n,{queryParams:u,fragment:l,routeConfig:c,url:d,outlet:f,params:h,data:p,title:m}=i,v=Pn(o,()=>s({params:h,data:p,queryParams:u,fragment:l,routeConfig:c,url:d,outlet:f,title:m}));if(v instanceof gr)throw new es(v);n=v}let a=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new es(a);return a}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new gr(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let s=o.substring(1);r[i]=n[s]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),a={};return Object.entries(n.children).forEach(([s,u])=>{a[s]=this.createSegmentGroup(e,u,r,i)}),new Ye(o,a)}createSegments(e,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new De(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},Rh={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function LM(t,e,n,r,i){let o=O0(t,e,n);return o.matched?(r=rM(e,r),kM(r,e,n,i).pipe(Fe(a=>a===!0?o:fe({},Rh)))):Ae(o)}function O0(t,e,n){if(e.path==="**")return FM(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?fe({},Rh):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||RT)(n,t,e);if(!i)return fe({},Rh);let o={};Object.entries(i.posParams??{}).forEach(([s,u])=>{o[s]=u.path});let a=i.consumed.length>0?fe(fe({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:a,positionalParamSegments:i.posParams??{}}}function FM(t){return{matched:!0,parameters:t.length>0?h0(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function l0(t,e,n,r){return n.length>0&&$M(t,n,r)?{segmentGroup:new Ye(e,VM(r,new Ye(n,t.children))),slicedSegments:[]}:n.length===0&&jM(t,n,r)?{segmentGroup:new Ye(t.segments,BM(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Ye(t.segments,t.children),slicedSegments:n}}function BM(t,e,n,r){let i={};for(let o of n)if(Dl(t,e,o)&&!r[Bn(o)]){let a=new Ye([],{});i[Bn(o)]=a}return fe(fe({},r),i)}function VM(t,e){let n={};n[Re]=e;for(let r of t)if(r.path===""&&Bn(r)!==Re){let i=new Ye([],{});n[Bn(r)]=i}return n}function $M(t,e,n){return n.some(r=>Dl(t,e,r)&&Bn(r)!==Re)}function jM(t,e,n){return n.some(r=>Dl(t,e,r))}function Dl(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function HM(t,e,n){return e.length===0&&!t.children[n]}var _h=class{};function zM(t,e,n,r,i,o,a="emptyOnly"){return new kh(t,e,n,r,i,a,o).recognize()}var UM=31,kh=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,n,r,i,o,a,s){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=a,this.urlSerializer=s,this.applyRedirects=new Nh(this.urlSerializer,this.urlTree)}noMatchError(e){return new De(4002,`'${e.segmentGroup}'`)}recognize(){let e=l0(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(Fe(({children:n,rootSnapshot:r})=>{let i=new hn(r,n),o=new ml("",i),a=KT(r,[],this.urlTree.queryParams,this.urlTree.fragment);return a.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(a),{state:o,tree:a}}))}match(e){let n=new Co([],Object.freeze({}),Object.freeze(fe({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),Re,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,Re,n).pipe(Fe(r=>({children:r,rootSnapshot:n})),Tr(r=>{if(r instanceof es)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Ja?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,o):this.processSegment(e,n,r,r.segments,i,!0,o).pipe(Fe(a=>a instanceof hn?[a]:[]))}processChildren(e,n,r,i){let o=[];for(let a of Object.keys(r.children))a==="primary"?o.unshift(a):o.push(a);return bt(o).pipe(Yi(a=>{let s=r.children[a],u=iM(n,a);return this.processSegmentGroup(e,u,s,a,i)}),Gc((a,s)=>(a.push(...s),a)),Mr(null),qc(),Dt(a=>{if(a===null)return bo(r);let s=P0(a);return qM(s),Ae(s)}))}processSegment(e,n,r,i,o,a,s){return bt(n).pipe(Yi(u=>this.processSegmentAgainstRoute(u._injector??e,n,u,r,i,o,a,s).pipe(Tr(l=>{if(l instanceof Ja)return Ae(null);throw l}))),lr(u=>!!u),Tr(u=>{if(_0(u))return HM(r,i,o)?Ae(new _h):bo(r);throw u}))}processSegmentAgainstRoute(e,n,r,i,o,a,s,u){return Bn(r)!==a&&(a===Re||!Dl(i,o,r))?bo(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,a,u):this.allowRedirects&&s?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,a,u):bo(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,a,s){let{matched:u,parameters:l,consumedSegments:c,positionalParamSegments:d,remainingSegments:f}=O0(n,i,o);if(!u)return bo(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>UM&&(this.allowRedirects=!1));let h=new Co(o,l,Object.freeze(fe({},this.urlTree.queryParams)),this.urlTree.fragment,c0(i),Bn(i),i.component??i._loadedComponent??null,i,d0(i)),p=vl(h,s,this.paramsInheritanceStrategy);h.params=Object.freeze(p.params),h.data=Object.freeze(p.data);let m=this.applyRedirects.applyRedirectCommands(c,i.redirectTo,d,h,e);return this.applyRedirects.lineralizeSegments(i,m).pipe(Dt(v=>this.processSegment(e,r,n,v.concat(f),a,!1,s)))}matchSegmentAgainstRoute(e,n,r,i,o,a){let s=LM(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),s.pipe(Nn(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Nn(({routes:l})=>{let c=r._loadedInjector??e,{parameters:d,consumedSegments:f,remainingSegments:h}=u,p=new Co(f,d,Object.freeze(fe({},this.urlTree.queryParams)),this.urlTree.fragment,c0(r),Bn(r),r.component??r._loadedComponent??null,r,d0(r)),m=vl(p,a,this.paramsInheritanceStrategy);p.params=Object.freeze(m.params),p.data=Object.freeze(m.data);let{segmentGroup:v,slicedSegments:g}=l0(n,f,h,l);if(g.length===0&&v.hasChildren())return this.processChildren(c,l,v,p).pipe(Fe(w=>new hn(p,w)));if(l.length===0&&g.length===0)return Ae(new hn(p,[]));let y=Bn(r)===o;return this.processSegment(c,l,v,g,y?Re:o,!0,p).pipe(Fe(w=>new hn(p,w instanceof hn?[w]:[])))}))):bo(n)))}getChildConfig(e,n,r){return n.children?Ae({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?Ae({routes:n._loadedRoutes,injector:n._loadedInjector}):_M(e,n,r,this.urlSerializer).pipe(Dt(i=>i?this.configLoader.loadChildren(e,n).pipe(Ot(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):PM(n))):Ae({routes:[],injector:e})}};function qM(t){t.sort((e,n)=>e.value.outlet===Re?-1:n.value.outlet===Re?1:e.value.outlet.localeCompare(n.value.outlet))}function GM(t){let e=t.value.routeConfig;return e&&e.path===""}function P0(t){let e=[],n=new Set;for(let r of t){if(!GM(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=P0(r.children);e.push(new hn(r.value,i))}return e.filter(r=>!n.has(r))}function c0(t){return t.data||{}}function d0(t){return t.resolve||{}}function WM(t,e,n,r,i,o){return Dt(a=>zM(t,e,n,r,a.extractedUrl,i,o).pipe(Fe(({state:s,tree:u})=>ct(fe({},a),{targetSnapshot:s,urlAfterRedirects:u}))))}function ZM(t,e){return Dt(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return Ae(n);let o=new Set(i.map(u=>u.route)),a=new Set;for(let u of o)if(!a.has(u))for(let l of L0(u))a.add(l);let s=0;return bt(a).pipe(Yi(u=>o.has(u)?YM(u,r,t,e):(u.data=vl(u,u.parent,t).resolve,Ae(void 0))),Ot(()=>s++),Ki(1),Dt(u=>s===a.size?Ae(n):un))})}function L0(t){let e=t.children.map(n=>L0(n)).flat();return[t,...e]}function YM(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!M0(i)&&(o[ts]=i.title),KM(o,t,e,r).pipe(Fe(a=>(t._resolvedData=a,t.data=vl(t,t.parent,n).resolve,null)))}function KM(t,e,n,r){let i=lh(t);if(i.length===0)return Ae({});let o={};return bt(i).pipe(Dt(a=>QM(t[a],e,n,r).pipe(lr(),Ot(s=>{if(s instanceof Xa)throw yl(new qa,s);o[a]=s}))),Ki(1),Uc(o),Tr(a=>_0(a)?un:Wi(a)))}function QM(t,e,n,r){let i=ns(e)??r,o=Ao(t,i),a=o.resolve?o.resolve(e,n):Pn(i,()=>o(e,n));return Fr(a)}function sh(t){return Nn(e=>{let n=t(e);return n?bt(n).pipe(Fe(()=>e)):Ae(e)})}var F0=(()=>{class t{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===Re);return r}getResolvedTitleForRoute(n){return n.data[ts]}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Me({token:t,factory:()=>ue(XM),providedIn:"root"})}return t})(),XM=(()=>{class t extends F0{title;constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||t)(Be(i0))};static \u0275prov=Me({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Bh=new Ne("",{providedIn:"root",factory:()=>({})}),JM=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275cmp=Xu({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(r,i){r&1&&ka(0,"router-outlet")},dependencies:[sM],encapsulation:2})}return t})();function Vh(t){let e=t.children&&t.children.map(Vh),n=e?ct(fe({},t),{children:e}):fe({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Re&&(n.component=JM),n}var $h=new Ne(""),e1=(()=>{class t{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=ue(Wf);loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return Ae(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=Fr(n.loadComponent()).pipe(Fe(B0),Ot(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),la(()=>{this.componentLoaders.delete(n)})),i=new Gi(r,()=>new _t).pipe(qi());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Ae({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=t1(r,this.compiler,n,this.onLoadEndListener).pipe(la(()=>{this.childrenLoaders.delete(r)})),a=new Gi(o,()=>new _t).pipe(qi());return this.childrenLoaders.set(r,a),a}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Me({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function t1(t,e,n,r){return Fr(t.loadChildren()).pipe(Fe(B0),Dt(i=>i instanceof Sa||Array.isArray(i)?Ae(i):bt(e.compileModuleAsync(i))),Fe(i=>{r&&r(t);let o,a,s=!1;return Array.isArray(i)?(a=i,s=!0):(o=i.create(n).injector,a=o.get($h,[],{optional:!0,self:!0}).flat()),{routes:a.map(Vh),injector:o}}))}function n1(t){return t&&typeof t=="object"&&"default"in t}function B0(t){return n1(t)?t.default:t}var jh=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=Me({token:t,factory:()=>ue(r1),providedIn:"root"})}return t})(),r1=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Me({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),i1=new Ne("");var o1=new Ne(""),a1=(()=>{class t{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new _t;transitionAbortSubject=new _t;configLoader=ue(e1);environmentInjector=ue(bn);urlSerializer=ue(Ph);rootContexts=ue(bl);location=ue(Pa);inputBindingEnabled=ue(Fh,{optional:!0})!==null;titleStrategy=ue(F0);options=ue(Bh,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=ue(jh);createViewTransition=ue(i1,{optional:!0});navigationErrorHandler=ue(o1,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>Ae(void 0);rootComponentType=null;constructor(){let n=i=>this.events.next(new yh(i)),r=i=>this.events.next(new wh(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(ct(fe(fe({},this.transitions.value),n),{id:r}))}setupNavigations(n,r,i){return this.transitions=new kt({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:za,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(An(o=>o.id!==0),Fe(o=>ct(fe({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Nn(o=>{let a=!1,s=!1;return Ae(o).pipe(Nn(u=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",pn.SupersededByNewNavigation),un;this.currentTransition=o,this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,targetBrowserUrl:typeof u.extras.browserUrl=="string"?this.urlSerializer.parse(u.extras.browserUrl):u.extras.browserUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?ct(fe({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let l=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),c=u.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!l&&c!=="reload"){let d="";return this.events.next(new wi(u.id,this.urlSerializer.serialize(u.rawUrl),d,hh.IgnoredSameUrlNavigation)),u.resolve(!1),un}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return Ae(u).pipe(Nn(d=>{let f=this.transitions?.getValue();return this.events.next(new Za(d.id,this.urlSerializer.serialize(d.extractedUrl),d.source,d.restoredState)),f!==this.transitions?.getValue()?un:Promise.resolve(d)}),WM(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),Ot(d=>{o.targetSnapshot=d.targetSnapshot,o.urlAfterRedirects=d.urlAfterRedirects,this.currentNavigation=ct(fe({},this.currentNavigation),{finalUrl:d.urlAfterRedirects});let f=new hl(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(f)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:d,extractedUrl:f,source:h,restoredState:p,extras:m}=u,v=new Za(d,this.urlSerializer.serialize(f),h,p);this.events.next(v);let g=x0(this.rootComponentType).snapshot;return this.currentTransition=o=ct(fe({},u),{targetSnapshot:g,urlAfterRedirects:f,extras:ct(fe({},m),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=f,Ae(o)}else{let d="";return this.events.next(new wi(u.id,this.urlSerializer.serialize(u.extractedUrl),d,hh.IgnoredByUrlHandlingStrategy)),u.resolve(!1),un}}),Ot(u=>{let l=new ph(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}),Fe(u=>(this.currentTransition=o=ct(fe({},u),{guards:hM(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),o)),IM(this.environmentInjector,u=>this.events.next(u)),Ot(u=>{if(o.guardsResult=u.guardsResult,u.guardsResult&&typeof u.guardsResult!="boolean")throw yl(this.urlSerializer,u.guardsResult);let l=new gh(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(l)}),An(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",pn.GuardRejected),!1)),sh(u=>{if(u.guards.canActivateChecks.length)return Ae(u).pipe(Ot(l=>{let c=new vh(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}),Nn(l=>{let c=!1;return Ae(l).pipe(ZM(this.paramsInheritanceStrategy,this.environmentInjector),Ot({next:()=>c=!0,complete:()=>{c||this.cancelNavigationTransition(l,"",pn.NoDataFromResolver)}}))}),Ot(l=>{let c=new mh(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}))}),sh(u=>{let l=c=>{let d=[];c.routeConfig?.loadComponent&&!c.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(c.routeConfig).pipe(Ot(f=>{c.component=f}),Fe(()=>{})));for(let f of c.children)d.push(...l(f));return d};return au(l(u.targetSnapshot.root)).pipe(Mr(null),ur(1))}),sh(()=>this.afterPreactivation()),Nn(()=>{let{currentSnapshot:u,targetSnapshot:l}=o,c=this.createViewTransition?.(this.environmentInjector,u.root,l.root);return c?bt(c).pipe(Fe(()=>o)):Ae(o)}),Fe(u=>{let l=uM(n.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=o=ct(fe({},u),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,o}),Ot(()=>{this.events.next(new Ka)}),fM(this.rootContexts,n.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),ur(1),Ot({next:u=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new yi(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{a=!0}}),Zc(this.transitionAbortSubject.pipe(Ot(u=>{throw u}))),la(()=>{!a&&!s&&this.cancelNavigationTransition(o,"",pn.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),Tr(u=>{if(s=!0,R0(u))this.events.next(new pr(o.id,this.urlSerializer.serialize(o.extractedUrl),u.message,u.cancellationCode)),dM(u)?this.events.next(new xo(u.url,u.navigationBehaviorOptions)):o.resolve(!1);else{let l=new Ya(o.id,this.urlSerializer.serialize(o.extractedUrl),u,o.targetSnapshot??void 0);try{let c=Pn(this.environmentInjector,()=>this.navigationErrorHandler?.(l));if(c instanceof Xa){let{message:d,cancellationCode:f}=yl(this.urlSerializer,c);this.events.next(new pr(o.id,this.urlSerializer.serialize(o.extractedUrl),d,f)),this.events.next(new xo(c.redirectTo,c.navigationBehaviorOptions))}else throw this.events.next(l),u}catch(c){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(c)}}return un}))}))}cancelNavigationTransition(n,r,i){let o=new pr(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Me({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function s1(t){return t!==za}var u1=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=Me({token:t,factory:()=>ue(l1),providedIn:"root"})}return t})(),Oh=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},l1=(()=>{class t extends Oh{static \u0275fac=(()=>{let n;return function(i){return(n||(n=yf(t)))(i||t)}})();static \u0275prov=Me({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),V0=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=Me({token:t,factory:()=>ue(c1),providedIn:"root"})}return t})(),c1=(()=>{class t extends V0{location=ue(Pa);urlSerializer=ue(Ph);options=ue(Bh,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";urlHandlingStrategy=ue(jh);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new gr;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}routerState=x0(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&n(r.url,r.state)})}handleRouterEvent(n,r){if(n instanceof Za)this.stateMemento=this.createStateMemento();else if(n instanceof wi)this.rawUrlTree=r.initialUrl;else if(n instanceof hl){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else n instanceof Ka?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):n instanceof pr&&(n.code===pn.GuardRejected||n.code===pn.NoDataFromResolver)?this.restoreHistory(r):n instanceof Ya?this.restoreHistory(r,!0):n instanceof yi&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,r){let i=n instanceof gr?this.urlSerializer.serialize(n):n;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let o=this.browserPageId,a=fe(fe({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(i,"",a)}else{let o=fe(fe({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",o)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.currentUrlTree===n.finalUrl&&o===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(i){return(n||(n=yf(t)))(i||t)}})();static \u0275prov=Me({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),ja=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(ja||{});function d1(t,e){t.events.pipe(An(n=>n instanceof yi||n instanceof pr||n instanceof Ya||n instanceof wi),Fe(n=>n instanceof yi||n instanceof wi?ja.COMPLETE:(n instanceof pr?n.code===pn.Redirect||n.code===pn.SupersededByNewNavigation:!1)?ja.REDIRECTING:ja.FAILED),An(n=>n!==ja.REDIRECTING),ur(1)).subscribe(()=>{e()})}var f1={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},h1={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},$0=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=ue(Ju);stateManager=ue(V0);options=ue(Bh,{optional:!0})||{};pendingTasks=ue(po);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=ue(a1);urlSerializer=ue(Ph);location=ue(Pa);urlHandlingStrategy=ue(jh);_events=new _t;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=ue(u1);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=ue($h,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!ue(Fh,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}eventsSubscription=new vt;subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof pr&&r.code!==pn.Redirect&&r.code!==pn.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof yi)this.navigated=!0;else if(r instanceof xo){let a=r.navigationBehaviorOptions,s=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=fe({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||s1(i.source)},a);this.scheduleNavigation(s,za,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}g1(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),za,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",r)},0)})}navigateToSyncWithBrowser(n,r,i){let o={replaceUrl:!0},a=i?.navigationId?i:null;if(i){let u=fe({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let s=this.parseUrl(n);this.scheduleNavigation(s,r,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(Vh),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:o,fragment:a,queryParamsHandling:s,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:a,c=null;switch(s??this.options.defaultQueryParamsHandling){case"merge":c=fe(fe({},this.currentUrlTree.queryParams),o);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=o||null}c!==null&&(c=this.removeEmptyProps(c));let d;try{let f=i?i.snapshot:this.routerState.snapshot.root;d=E0(f)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),d=this.currentUrlTree.root}return C0(d,n,c,l??null)}navigateByUrl(n,r={skipLocationChange:!1}){let i=Ga(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,za,null,r)}navigate(n,r={skipLocationChange:!1}){return p1(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=fe({},f1):r===!1?i=fe({},h1):i=r,Ga(n))return o0(this.currentUrlTree,n,i);let o=this.parseUrl(n);return o0(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(n,r,i,o,a){if(this.disposed)return Promise.resolve(!1);let s,u,l;a?(s=a.resolve,u=a.reject,l=a.promise):l=new Promise((d,f)=>{s=d,u=f});let c=this.pendingTasks.add();return d1(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(c))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:s,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(d=>Promise.reject(d))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Me({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function p1(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new De(4008,!1)}function g1(t){return!(t instanceof Ka)&&!(t instanceof xo)}var v1=new Ne("");function j0(t,...e){return Bu([{provide:$h,multi:!0,useValue:t},[],{provide:To,useFactory:m1,deps:[$0]},{provide:jf,multi:!0,useFactory:y1},e.map(n=>n.\u0275providers)])}function m1(t){return t.routerState.root}function y1(){let t=ue(_r);return e=>{let n=t.get(fi);if(e!==n.components[0])return;let r=t.get($0),i=t.get(w1);t.get(b1)===1&&r.initialNavigation(),t.get(D1,null,ke.Optional)?.setUpPreloading(),t.get(v1,null,ke.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var w1=new Ne("",{factory:()=>new _t}),b1=new Ne("",{providedIn:"root",factory:()=>1});var D1=new Ne("");var H0=[];var z0={providers:[_y({eventCoalescing:!0}),j0(H0)]};function U0(t,e="#666",n={}){return{data:fe({id:t,color:e},n)}}function q0(t,e,n,r={}){return{data:fe({id:t,source:e,target:n},r)}}var Ke=class{constructor(e,n,r){this.name=e;this.type=n;this.effects=r;this.name=e,this.effects=r}getColor(){switch(this.type){case 0:return"#9ABB00";case 3:return"#fc2b00";case 1:return"#90C9E9";case 7:return"#B20000";case 8:return"#994AB9";case 5:return"#534700";case 6:return"#008900";case 4:return"#006AD8";case 2:return"#9B643A";case 9:return"#BC8E29";default:return"#666"}}toNode(){return U0(this.name,this.getColor())}};var be=class{constructor(e,n,r){this.triggers=e;this.effects=n;this.text=r}isTriggeredBy(e){return this.triggers.some(n=>e.effects.some(r=>n.isTriggeredBy(r)))}getTriggerString(){return this.triggers.map(e=>e.toString()).join("||")}getEffectsString(){return this.effects.map(e=>e.toString()).join(",")}toString(){return`On ${this.getTriggerString()} -> ${this.getEffectsString()}: ${this.text}`}};var mt=(b=>(b[b.Hit=0]="Hit",b[b.Heal=1]="Heal",b[b.ApplyStatus=2]="ApplyStatus",b[b.DealDamage=3]="DealDamage",b[b.Attack=4]="Attack",b[b.BeingAttacked=5]="BeingAttacked",b[b.Prayer=6]="Prayer",b[b.StandStill=7]="StandStill",b[b.Block=8]="Block",b[b.ShrugOff=9]="ShrugOff",b[b.GameTurn=10]="GameTurn",b[b.AllyAttack=11]="AllyAttack",b[b.Summon=12]="Summon",b[b.DivineIntervention=13]="DivineIntervention",b[b.Entrance=14]="Entrance",b[b.Learn=15]="Learn",b[b.BeingDealtDamage=16]="BeingDealtDamage",b[b.AllyBeingAttacked=17]="AllyBeingAttacked",b[b.Kill=18]="Kill",b[b.ExtraAttack=19]="ExtraAttack",b))(mt||{}),El=(c=>(c[c.Bleed=0]="Bleed",c[c.Sickness=1]="Sickness",c[c.Plague=2]="Plague",c[c.Corrosion=3]="Corrosion",c[c.Snakeform=4]="Snakeform",c[c.Entangle=5]="Entangle",c[c.Vineform=6]="Vineform",c[c.Scorch=7]="Scorch",c[c.Inflame=8]="Inflame",c[c.Newtform=9]="Newtform",c))(El||{}),Cl=(s=>(s[s.Blood=0]="Blood",s[s.Poison=1]="Poison",s[s.Fire=2]="Fire",s[s.Pierce=3]="Pierce",s[s.Slash=4]="Slash",s[s.Blunt=5]="Blunt",s[s.Psychic=6]="Psychic",s))(Cl||{}),Pe=class{type;isTriggeredBy(e){return this.type==e.type}toString(){return mt[this.type]}};var vr=class extends Pe{type=0};var We=class extends Pe{constructor(n,r=!1){super();this.status=n;this.self=r}type=2;isTriggeredBy(n){return super.isTriggeredBy(n)&&this.status==n.status&&(!this.self||this.self==n.self)}toString(){return`${super.toString()}(${El[this.status]}${this.self?"-self":""})`}};var nt=class extends Pe{constructor(n,r=!1){super();this.damageType=n;this.self=r}type=3;isTriggeredBy(n){return super.isTriggeredBy(n)&&this.damageType==n.damageType&&(!this.self||this.self==n.self)}toString(){return`${super.toString()}(${Cl[this.damageType]}${this.self?"-self":""})`}};var bi=class extends Pe{type=4};var No=class extends Pe{type=5};var Di=class extends Pe{constructor(n=!0){super();this.self=n}type=1;isTriggeredBy(n){return super.isTriggeredBy(n)&&n.self==this.self}};var mr=class extends Pe{type=6};var is=class extends Pe{type=7};var Ei=class extends Pe{type=10};var Ro=class extends Pe{type=11};var qt=class extends Pe{type=12};var Il=class extends Pe{type=13};var yr=class extends Pe{type=15};var wr=class extends Pe{type=14};var Sl=class extends Pe{type=16};var xl=class extends Pe{type=17};var Tl=class extends Pe{type=18};var Ml=class extends Pe{type=19};var Hh=[new Ke("Hemokinesis",7,[new be([new vr],[new We(0)],"5 bleed"),new be([new We(0)],[new nt(0)],"30 * skill level blood damage")]),new Ke("Toxokinesis",0,[new be([new bi],[new nt(1)],"30 * skill level poison damage"),new be([new vr],[new We(1)],"5 sickness"),new be([new We(1)],[new nt(1)],"30 * skill level poison damage")]),new Ke("Poison Skin",0,[new be([new No],[new We(1)],"2 * skill level sickness"),new be([new nt(1)],[new Di],"2 * skill level heal yourself")]),new Ke("Morbumancy",0,[new be([new mr,new is],[new We(1)],"10 Sickness")]),new Ke("Plague Chant",0,[new be([new Ei,new mr],[new nt(1,!0),new We(2)],"25 damage, 10 sickness"),new be([new Ro],[new We(2)],"2 * skill level plague")]),new Ke("Acidify",0,[new be([new bi,new qt],[new We(3)],"5 * skill level sickness"),new be([new Il],[new nt(1)],"10 * skill level poison")]),new Ke("Burning Ooze",0,[new be([new Ro],[new nt(1),new nt(2)],"10 * skill level"),new be([new wr,new yr],[new qt],"skill level * ooze")]),new Ke("Oozemancy",0,[new be([new qt],[new nt(1)],"20 * number of allied oozes"),new be([new wr,new yr],[new qt],"skill level * ooze")]),new Ke("Poison Familiar",0,[new be([new wr,new yr],[new qt],"Tsuchigumo"),new be([new We(1),new We(3)],[new nt(1)],"tsuchigumo deals hit * poison")]),new Ke("Snakeform",0,[new be([new We(1)],[new We(4)],"2 * skill level")]),new Ke("Vinakinesis",6,[new be([new bi,new vr],[new We(5)],"5 entangle"),new be([new We(5)],[new nt(1)],"30 * skill level")]),new Ke("Piercing Vines",6,[new be([new Ei],[new We(5)],"3 * skill level to 2 enemies in 3 range"),new be([new vr],[new nt(0)],"if target has entangle, 5 * skill level * entangle stacks")]),new Ke("Master Entangle",6,[new be([new Sl],[new We(5,!0),new We(5,!1)],"skill level"),new be([new No],[new nt(3)],"skill level * stacks entangle self")]),new Ke("Invigoration",6,[]),new Ke("Arboromancy",6,[new be([new Ro],[new We(5)],"skill level"),new be([new mr],[new qt],"skill level")]),new Ke("Grove Cult",6,[new be([new qt],[new Di],"10 * skill level"),new be([new wr,new yr],[new qt],"3 * skill level")]),new Ke("Overgrowth",6,[new be([new Ei,new mr],[new qt],"skill level"),new be([new xl],[new We(5)],"skill level")]),new Ke("Vineform",6,[new be([new qt],[new We(6,!0)],"2 * skill level")]),new Ke("Pyrokinesis",3,[new be([new vr],[new nt(2)],"30 * skill level"),new be([new Tl],[new nt(2)],"30 * skill level")]),new Ke("Pyromancy",3,[new be([new mr,new is],[new nt(2)],"50 * skill level"),new be([new nt(2)],[new We(7)],"3 * skill level")]),new Ke("Shamsar",3,[new be([new nt(4),new nt(5)],[new nt(2)],"150 * skill level")]),new Ke("Fire Healing",3,[new be([new vr],[new We(7)],"2 * skill level"),new be([new nt(2)],[new Di],"2 * skill level")]),new Ke("Frenzied Chant",3,[new be([new Ei,new mr],[new nt(6,!0),new We(8,!0),new Ml],"25 psychic, 5 * skill level inflame, skill level attacks")]),new Ke("Master Scorch",3,[new be([new No],[new nt(2),new We(7,!0)],"skill level")]),new Ke("Fire Familiar",3,[new be([new wr,new yr],[new qt],""),new be([new We(8)],[new Di(!1)],"20 * skill level dragon, +30 hit * skill level random ally"),new be([new bi],[new We(8,!0)],"4 * skill level")]),new Ke("Flame Cult",3,[new be([new qt],[new nt(2)],"40 * skill level"),new be([new wr,new yr],[new qt],"3 * skill level")]),new Ke("Newtform",3,[new be([new nt(2)],[new We(9,!0)],"2 * skill level")])];function St(t){"@babel/helpers - typeof";return St=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},St(t)}function yp(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function G0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function wp(t,e,n){return e&&G0(t.prototype,e),n&&G0(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function sb(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vn(t,e){return E1(t)||C1(t,e)||ub(t,e)||I1()}function E1(t){if(Array.isArray(t))return t}function C1(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,o=!1,a,s;try{for(n=n.call(t);!(i=(a=n.next()).done)&&(r.push(a.value),!(e&&r.length===e));i=!0);}catch(u){o=!0,s=u}finally{try{!i&&n.return!=null&&n.return()}finally{if(o)throw s}}return r}}function ub(t,e){if(t){if(typeof t=="string")return W0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return W0(t,e)}}function W0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function I1(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lb(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=ub(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(u){throw u},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o=!0,a=!1,s;return{s:function(){n=n.call(t)},n:function(){var u=n.next();return o=u.done,u},e:function(u){a=!0,s=u},f:function(){try{!o&&n.return!=null&&n.return()}finally{if(a)throw s}}}}var Ct=typeof window>"u"?null:window,Z0=Ct?Ct.navigator:null;Ct&&Ct.document;var S1=St(""),cb=St({}),x1=St(function(){}),T1=typeof HTMLElement>"u"?"undefined":St(HTMLElement),Ms=function(e){return e&&e.instanceString&&ht(e.instanceString)?e.instanceString():null},pe=function(e){return e!=null&&St(e)==S1},ht=function(e){return e!=null&&St(e)===x1},ot=function(e){return!gn(e)&&(Array.isArray?Array.isArray(e):e!=null&&e instanceof Array)},Ue=function(e){return e!=null&&St(e)===cb&&!ot(e)&&e.constructor===Object},M1=function(e){return e!=null&&St(e)===cb},ie=function(e){return e!=null&&St(e)===St(1)&&!isNaN(e)},A1=function(e){return ie(e)&&Math.floor(e)===e},Kl=function(e){if(T1!=="undefined")return e!=null&&e instanceof HTMLElement},gn=function(e){return As(e)||db(e)},As=function(e){return Ms(e)==="collection"&&e._private.single},db=function(e){return Ms(e)==="collection"&&!e._private.single},bp=function(e){return Ms(e)==="core"},fb=function(e){return Ms(e)==="stylesheet"},N1=function(e){return Ms(e)==="event"},Ur=function(e){return e==null?!0:!!(e===""||e.match(/^\s+$/))},R1=function(e){return typeof HTMLElement>"u"?!1:e instanceof HTMLElement},_1=function(e){return Ue(e)&&ie(e.x1)&&ie(e.x2)&&ie(e.y1)&&ie(e.y2)},k1=function(e){return M1(e)&&ht(e.then)},O1=function(){return Z0&&Z0.userAgent.match(/msie|trident|edge/i)},ms=function(e,n){n||(n=function(){if(arguments.length===1)return arguments[0];if(arguments.length===0)return"undefined";for(var o=[],a=0;a<arguments.length;a++)o.push(arguments[a]);return o.join("$")});var r=function i(){var o=this,a=arguments,s,u=n.apply(o,a),l=i.cache;return(s=l[u])||(s=l[u]=e.apply(o,a)),s};return r.cache={},r},Dp=ms(function(t){return t.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}),sc=ms(function(t){return t.replace(/(-\w)/g,function(e){return e[1].toUpperCase()})}),hb=ms(function(t,e){return t+e[0].toUpperCase()+e.substring(1)},function(t,e){return t+"$"+e}),Y0=function(e){return Ur(e)?e:e.charAt(0).toUpperCase()+e.substring(1)},It="(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))",P1="rgb[a]?\\(("+It+"[%]?)\\s*,\\s*("+It+"[%]?)\\s*,\\s*("+It+"[%]?)(?:\\s*,\\s*("+It+"))?\\)",L1="rgb[a]?\\((?:"+It+"[%]?)\\s*,\\s*(?:"+It+"[%]?)\\s*,\\s*(?:"+It+"[%]?)(?:\\s*,\\s*(?:"+It+"))?\\)",F1="hsl[a]?\\(("+It+")\\s*,\\s*("+It+"[%])\\s*,\\s*("+It+"[%])(?:\\s*,\\s*("+It+"))?\\)",B1="hsl[a]?\\((?:"+It+")\\s*,\\s*(?:"+It+"[%])\\s*,\\s*(?:"+It+"[%])(?:\\s*,\\s*(?:"+It+"))?\\)",V1="\\#[0-9a-fA-F]{3}",$1="\\#[0-9a-fA-F]{6}",pb=function(e,n){return e<n?-1:e>n?1:0},j1=function(e,n){return-1*pb(e,n)},ye=Object.assign!=null?Object.assign.bind(Object):function(t){for(var e=arguments,n=1;n<e.length;n++){var r=e[n];if(r!=null)for(var i=Object.keys(r),o=0;o<i.length;o++){var a=i[o];t[a]=r[a]}}return t},H1=function(e){if(!(!(e.length===4||e.length===7)||e[0]!=="#")){var n=e.length===4,r,i,o,a=16;return n?(r=parseInt(e[1]+e[1],a),i=parseInt(e[2]+e[2],a),o=parseInt(e[3]+e[3],a)):(r=parseInt(e[1]+e[2],a),i=parseInt(e[3]+e[4],a),o=parseInt(e[5]+e[6],a)),[r,i,o]}},z1=function(e){var n,r,i,o,a,s,u,l;function c(p,m,v){return v<0&&(v+=1),v>1&&(v-=1),v<1/6?p+(m-p)*6*v:v<1/2?m:v<2/3?p+(m-p)*(2/3-v)*6:p}var d=new RegExp("^"+F1+"$").exec(e);if(d){if(r=parseInt(d[1]),r<0?r=(360- -1*r%360)%360:r>360&&(r=r%360),r/=360,i=parseFloat(d[2]),i<0||i>100||(i=i/100,o=parseFloat(d[3]),o<0||o>100)||(o=o/100,a=d[4],a!==void 0&&(a=parseFloat(a),a<0||a>1)))return;if(i===0)s=u=l=Math.round(o*255);else{var f=o<.5?o*(1+i):o+i-o*i,h=2*o-f;s=Math.round(255*c(h,f,r+1/3)),u=Math.round(255*c(h,f,r)),l=Math.round(255*c(h,f,r-1/3))}n=[s,u,l,a]}return n},U1=function(e){var n,r=new RegExp("^"+P1+"$").exec(e);if(r){n=[];for(var i=[],o=1;o<=3;o++){var a=r[o];if(a[a.length-1]==="%"&&(i[o]=!0),a=parseFloat(a),i[o]&&(a=a/100*255),a<0||a>255)return;n.push(Math.floor(a))}var s=i[1]||i[2]||i[3],u=i[1]&&i[2]&&i[3];if(s&&!u)return;var l=r[4];if(l!==void 0){if(l=parseFloat(l),l<0||l>1)return;n.push(l)}}return n},q1=function(e){return W1[e.toLowerCase()]},G1=function(e){return(ot(e)?e:null)||q1(e)||H1(e)||U1(e)||z1(e)},W1={transparent:[0,0,0,0],aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},gb=function(e){for(var n=e.map,r=e.keys,i=r.length,o=0;o<i;o++){var a=r[o];if(Ue(a))throw Error("Tried to set map with object key");o<r.length-1?(n[a]==null&&(n[a]={}),n=n[a]):n[a]=e.value}},vb=function(e){for(var n=e.map,r=e.keys,i=r.length,o=0;o<i;o++){var a=r[o];if(Ue(a))throw Error("Tried to get map with object key");if(n=n[a],n==null)return n}return n};function Z1(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Ni=Z1,cs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Y1(t,e){return e={exports:{}},t(e,e.exports),e.exports}var K1=typeof cs=="object"&&cs&&cs.Object===Object&&cs,Q1=K1,X1=typeof self=="object"&&self&&self.Object===Object&&self,J1=Q1||X1||Function("return this")(),uc=J1,eA=function(){return uc.Date.now()},zh=eA,tA=/\s/;function nA(t){for(var e=t.length;e--&&tA.test(t.charAt(e)););return e}var rA=nA,iA=/^\s+/;function oA(t){return t&&t.slice(0,rA(t)+1).replace(iA,"")}var aA=oA,sA=uc.Symbol,Uo=sA,mb=Object.prototype,uA=mb.hasOwnProperty,lA=mb.toString,os=Uo?Uo.toStringTag:void 0;function cA(t){var e=uA.call(t,os),n=t[os];try{t[os]=void 0;var r=!0}catch{}var i=lA.call(t);return r&&(e?t[os]=n:delete t[os]),i}var dA=cA,fA=Object.prototype,hA=fA.toString;function pA(t){return hA.call(t)}var gA=pA,vA="[object Null]",mA="[object Undefined]",K0=Uo?Uo.toStringTag:void 0;function yA(t){return t==null?t===void 0?mA:vA:K0&&K0 in Object(t)?dA(t):gA(t)}var yb=yA;function wA(t){return t!=null&&typeof t=="object"}var bA=wA,DA="[object Symbol]";function EA(t){return typeof t=="symbol"||bA(t)&&yb(t)==DA}var Ns=EA,Q0=NaN,CA=/^[-+]0x[0-9a-f]+$/i,IA=/^0b[01]+$/i,SA=/^0o[0-7]+$/i,xA=parseInt;function TA(t){if(typeof t=="number")return t;if(Ns(t))return Q0;if(Ni(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Ni(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=aA(t);var n=IA.test(t);return n||SA.test(t)?xA(t.slice(2),n?2:8):CA.test(t)?Q0:+t}var X0=TA,MA="Expected a function",AA=Math.max,NA=Math.min;function RA(t,e,n){var r,i,o,a,s,u,l=0,c=!1,d=!1,f=!0;if(typeof t!="function")throw new TypeError(MA);e=X0(e)||0,Ni(n)&&(c=!!n.leading,d="maxWait"in n,o=d?AA(X0(n.maxWait)||0,e):o,f="trailing"in n?!!n.trailing:f);function h(E){var D=r,S=i;return r=i=void 0,l=E,a=t.apply(S,D),a}function p(E){return l=E,s=setTimeout(g,e),c?h(E):a}function m(E){var D=E-u,S=E-l,C=e-D;return d?NA(C,o-S):C}function v(E){var D=E-u,S=E-l;return u===void 0||D>=e||D<0||d&&S>=o}function g(){var E=zh();if(v(E))return y(E);s=setTimeout(g,m(E))}function y(E){return s=void 0,f&&r?h(E):(r=i=void 0,a)}function w(){s!==void 0&&clearTimeout(s),l=0,r=u=i=s=void 0}function b(){return s===void 0?a:y(zh())}function I(){var E=zh(),D=v(E);if(r=arguments,i=this,u=E,D){if(s===void 0)return p(u);if(d)return clearTimeout(s),s=setTimeout(g,e),h(u)}return s===void 0&&(s=setTimeout(g,e)),a}return I.cancel=w,I.flush=b,I}var lc=RA,Uh=Ct?Ct.performance:null,wb=Uh&&Uh.now?function(){return Uh.now()}:function(){return Date.now()},_A=function(){if(Ct){if(Ct.requestAnimationFrame)return function(t){Ct.requestAnimationFrame(t)};if(Ct.mozRequestAnimationFrame)return function(t){Ct.mozRequestAnimationFrame(t)};if(Ct.webkitRequestAnimationFrame)return function(t){Ct.webkitRequestAnimationFrame(t)};if(Ct.msRequestAnimationFrame)return function(t){Ct.msRequestAnimationFrame(t)}}return function(t){t&&setTimeout(function(){t(wb())},1e3/60)}}(),Ql=function(e){return _A(e)},Dr=wb,Fo=9261,bb=65599,ds=5381,Db=function(e){for(var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Fo,r=n,i;i=e.next(),!i.done;)r=r*bb+i.value|0;return r},ys=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Fo;return n*bb+e|0},ws=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ds;return(n<<5)+n+e|0},kA=function(e,n){return e*2097152+n},Br=function(e){return e[0]*2097152+e[1]},Al=function(e,n){return[ys(e[0],n[0]),ws(e[1],n[1])]},OA=function(e,n){var r={value:0,done:!1},i=0,o=e.length,a={next:function(){return i<o?r.value=e[i++]:r.done=!0,r}};return Db(a,n)},Ri=function(e,n){var r={value:0,done:!1},i=0,o=e.length,a={next:function(){return i<o?r.value=e.charCodeAt(i++):r.done=!0,r}};return Db(a,n)},Eb=function(){return PA(arguments)},PA=function(e){for(var n,r=0;r<e.length;r++){var i=e[r];r===0?n=Ri(i):n=Ri(i,n)}return n},J0=!0,LA=console.warn!=null,FA=console.trace!=null,Ep=Number.MAX_SAFE_INTEGER||9007199254740991,Cb=function(){return!0},Xl=function(){return!1},ew=function(){return 0},Cp=function(){},pt=function(e){throw new Error(e)},Ib=function(e){if(e!==void 0)J0=!!e;else return J0},Xe=function(e){Ib()&&(LA?console.warn(e):(console.log(e),FA&&console.trace()))},BA=function(e){return ye({},e)},er=function(e){return e==null?e:ot(e)?e.slice():Ue(e)?BA(e):e},VA=function(e){return e.slice()},Sb=function(e,n){for(n=e="";e++<36;n+=e*51&52?(e^15?8^Math.random()*(e^20?16:4):4).toString(16):"-");return n},$A={},xb=function(){return $A},Vt=function(e){var n=Object.keys(e);return function(r){for(var i={},o=0;o<n.length;o++){var a=n[o],s=r?.[a];i[a]=s===void 0?e[a]:s}return i}},qr=function(e,n,r){for(var i=e.length-1;i>=0&&!(e[i]===n&&(e.splice(i,1),r));i--);},Ip=function(e){e.splice(0,e.length)},jA=function(e,n){for(var r=0;r<n.length;r++){var i=n[r];e.push(i)}},jn=function(e,n,r){return r&&(n=hb(r,n)),e[n]},$r=function(e,n,r,i){r&&(n=hb(r,n)),e[n]=i},HA=function(){function t(){yp(this,t),this._obj={}}return wp(t,[{key:"set",value:function(n,r){return this._obj[n]=r,this}},{key:"delete",value:function(n){return this._obj[n]=void 0,this}},{key:"clear",value:function(){this._obj={}}},{key:"has",value:function(n){return this._obj[n]!==void 0}},{key:"get",value:function(n){return this._obj[n]}}]),t}(),tr=typeof Map<"u"?Map:HA,zA="undefined",UA=function(){function t(e){if(yp(this,t),this._obj=Object.create(null),this.size=0,e!=null){var n;e.instanceString!=null&&e.instanceString()===this.instanceString()?n=e.toArray():n=e;for(var r=0;r<n.length;r++)this.add(n[r])}}return wp(t,[{key:"instanceString",value:function(){return"set"}},{key:"add",value:function(n){var r=this._obj;r[n]!==1&&(r[n]=1,this.size++)}},{key:"delete",value:function(n){var r=this._obj;r[n]===1&&(r[n]=0,this.size--)}},{key:"clear",value:function(){this._obj=Object.create(null)}},{key:"has",value:function(n){return this._obj[n]===1}},{key:"toArray",value:function(){var n=this;return Object.keys(this._obj).filter(function(r){return n.has(r)})}},{key:"forEach",value:function(n,r){return this.toArray().forEach(n,r)}}]),t}(),Zo=(typeof Set>"u"?"undefined":St(Set))!==zA?Set:UA,cc=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e===void 0||n===void 0||!bp(e)){pt("An element must have a core reference and parameters set");return}var i=n.group;if(i==null&&(n.data&&n.data.source!=null&&n.data.target!=null?i="edges":i="nodes"),i!=="nodes"&&i!=="edges"){pt("An element must be of type `nodes` or `edges`; you specified `"+i+"`");return}this.length=1,this[0]=this;var o=this._private={cy:e,single:!0,data:n.data||{},position:n.position||{x:0,y:0},autoWidth:void 0,autoHeight:void 0,autoPadding:void 0,compoundBoundsClean:!1,listeners:[],group:i,style:{},rstyle:{},styleCxts:[],styleKeys:{},removed:!0,selected:!!n.selected,selectable:n.selectable===void 0?!0:!!n.selectable,locked:!!n.locked,grabbed:!1,grabbable:n.grabbable===void 0?!0:!!n.grabbable,pannable:n.pannable===void 0?i==="edges":!!n.pannable,active:!1,classes:new Zo,animation:{current:[],queue:[]},rscratch:{},scratch:n.scratch||{},edges:[],children:[],parent:n.parent&&n.parent.isNode()?n.parent:null,traversalCache:{},backgrounding:!1,bbCache:null,bbCacheShift:{x:0,y:0},bodyBounds:null,overlayBounds:null,labelBounds:{all:null,source:null,target:null,main:null},arrowBounds:{source:null,target:null,"mid-source":null,"mid-target":null}};if(o.position.x==null&&(o.position.x=0),o.position.y==null&&(o.position.y=0),n.renderedPosition){var a=n.renderedPosition,s=e.pan(),u=e.zoom();o.position={x:(a.x-s.x)/u,y:(a.y-s.y)/u}}var l=[];ot(n.classes)?l=n.classes:pe(n.classes)&&(l=n.classes.split(/\s+/));for(var c=0,d=l.length;c<d;c++){var f=l[c];!f||f===""||o.classes.add(f)}this.createEmitter();var h=n.style||n.css;h&&(Xe("Setting a `style` bypass at element creation should be done only when absolutely necessary.  Try to use the stylesheet instead."),this.style(h)),(r===void 0||r)&&this.restore()},tw=function(e){return e={bfs:e.bfs||!e.dfs,dfs:e.dfs||!e.bfs},function(r,i,o){var a;Ue(r)&&!gn(r)&&(a=r,r=a.roots||a.root,i=a.visit,o=a.directed),o=arguments.length===2&&!ht(i)?i:o,i=ht(i)?i:function(){};for(var s=this._private.cy,u=r=pe(r)?this.filter(r):r,l=[],c=[],d={},f={},h={},p=0,m,v=this.byGroup(),g=v.nodes,y=v.edges,w=0;w<u.length;w++){var b=u[w],I=b.id();b.isNode()&&(l.unshift(b),e.bfs&&(h[I]=!0,c.push(b)),f[I]=0)}for(var E=function(){var R=e.bfs?l.shift():l.pop(),T=R.id();if(e.dfs){if(h[T])return"continue";h[T]=!0,c.push(R)}var O=f[T],_=d[T],k=_!=null?_.source():null,P=_!=null?_.target():null,V=_==null?void 0:R.same(k)?P[0]:k[0],z=void 0;if(z=i(R,_,V,p++,O),z===!0)return m=R,"break";if(z===!1)return"break";for(var B=R.connectedEdges().filter(function(X){return(!o||X.source().same(R))&&y.has(X)}),$=0;$<B.length;$++){var W=B[$],K=W.connectedNodes().filter(function(X){return!X.same(R)&&g.has(X)}),Q=K.id();K.length!==0&&!h[Q]&&(K=K[0],l.push(K),e.bfs&&(h[Q]=!0,c.push(K)),d[Q]=W,f[Q]=f[T]+1)}};l.length!==0;){var D=E();if(D!=="continue"&&D==="break")break}for(var S=s.collection(),C=0;C<c.length;C++){var N=c[C],M=d[N.id()];M!=null&&S.push(M),S.push(N)}return{path:s.collection(S),found:s.collection(m)}}},bs={breadthFirstSearch:tw({bfs:!0}),depthFirstSearch:tw({dfs:!0})};bs.bfs=bs.breadthFirstSearch;bs.dfs=bs.depthFirstSearch;var qA=Y1(function(t,e){(function(){var n,r,i,o,a,s,u,l,c,d,f,h,p,m,v;i=Math.floor,d=Math.min,r=function(g,y){return g<y?-1:g>y?1:0},c=function(g,y,w,b,I){var E;if(w==null&&(w=0),I==null&&(I=r),w<0)throw new Error("lo must be non-negative");for(b==null&&(b=g.length);w<b;)E=i((w+b)/2),I(y,g[E])<0?b=E:w=E+1;return[].splice.apply(g,[w,w-w].concat(y)),y},s=function(g,y,w){return w==null&&(w=r),g.push(y),m(g,0,g.length-1,w)},a=function(g,y){var w,b;return y==null&&(y=r),w=g.pop(),g.length?(b=g[0],g[0]=w,v(g,0,y)):b=w,b},l=function(g,y,w){var b;return w==null&&(w=r),b=g[0],g[0]=y,v(g,0,w),b},u=function(g,y,w){var b;return w==null&&(w=r),g.length&&w(g[0],y)<0&&(b=[g[0],y],y=b[0],g[0]=b[1],v(g,0,w)),y},o=function(g,y){var w,b,I,E,D,S;for(y==null&&(y=r),E=function(){S=[];for(var C=0,N=i(g.length/2);0<=N?C<N:C>N;0<=N?C++:C--)S.push(C);return S}.apply(this).reverse(),D=[],b=0,I=E.length;b<I;b++)w=E[b],D.push(v(g,w,y));return D},p=function(g,y,w){var b;if(w==null&&(w=r),b=g.indexOf(y),b!==-1)return m(g,0,b,w),v(g,b,w)},f=function(g,y,w){var b,I,E,D,S;if(w==null&&(w=r),I=g.slice(0,y),!I.length)return I;for(o(I,w),S=g.slice(y),E=0,D=S.length;E<D;E++)b=S[E],u(I,b,w);return I.sort(w).reverse()},h=function(g,y,w){var b,I,E,D,S,C,N,M,A;if(w==null&&(w=r),y*10<=g.length){if(E=g.slice(0,y).sort(w),!E.length)return E;for(I=E[E.length-1],N=g.slice(y),D=0,C=N.length;D<C;D++)b=N[D],w(b,I)<0&&(c(E,b,0,null,w),E.pop(),I=E[E.length-1]);return E}for(o(g,w),A=[],S=0,M=d(y,g.length);0<=M?S<M:S>M;0<=M?++S:--S)A.push(a(g,w));return A},m=function(g,y,w,b){var I,E,D;for(b==null&&(b=r),I=g[w];w>y;){if(D=w-1>>1,E=g[D],b(I,E)<0){g[w]=E,w=D;continue}break}return g[w]=I},v=function(g,y,w){var b,I,E,D,S;for(w==null&&(w=r),I=g.length,S=y,E=g[y],b=2*y+1;b<I;)D=b+1,D<I&&!(w(g[b],g[D])<0)&&(b=D),g[y]=g[b],y=b,b=2*y+1;return g[y]=E,m(g,S,y,w)},n=function(){g.push=s,g.pop=a,g.replace=l,g.pushpop=u,g.heapify=o,g.updateItem=p,g.nlargest=f,g.nsmallest=h;function g(y){this.cmp=y??r,this.nodes=[]}return g.prototype.push=function(y){return s(this.nodes,y,this.cmp)},g.prototype.pop=function(){return a(this.nodes,this.cmp)},g.prototype.peek=function(){return this.nodes[0]},g.prototype.contains=function(y){return this.nodes.indexOf(y)!==-1},g.prototype.replace=function(y){return l(this.nodes,y,this.cmp)},g.prototype.pushpop=function(y){return u(this.nodes,y,this.cmp)},g.prototype.heapify=function(){return o(this.nodes,this.cmp)},g.prototype.updateItem=function(y){return p(this.nodes,y,this.cmp)},g.prototype.clear=function(){return this.nodes=[]},g.prototype.empty=function(){return this.nodes.length===0},g.prototype.size=function(){return this.nodes.length},g.prototype.clone=function(){var y;return y=new g,y.nodes=this.nodes.slice(0),y},g.prototype.toArray=function(){return this.nodes.slice(0)},g.prototype.insert=g.prototype.push,g.prototype.top=g.prototype.peek,g.prototype.front=g.prototype.peek,g.prototype.has=g.prototype.contains,g.prototype.copy=g.prototype.clone,g}(),function(g,y){return t.exports=y()}(this,function(){return n})}).call(cs)}),Rs=qA,GA=Vt({root:null,weight:function(e){return 1},directed:!1}),WA={dijkstra:function(e){if(!Ue(e)){var n=arguments;e={root:n[0],weight:n[1],directed:n[2]}}var r=GA(e),i=r.root,o=r.weight,a=r.directed,s=this,u=o,l=pe(i)?this.filter(i)[0]:i[0],c={},d={},f={},h=this.byGroup(),p=h.nodes,m=h.edges;m.unmergeBy(function(O){return O.isLoop()});for(var v=function(_){return c[_.id()]},g=function(_,k){c[_.id()]=k,y.updateItem(_)},y=new Rs(function(O,_){return v(O)-v(_)}),w=0;w<p.length;w++){var b=p[w];c[b.id()]=b.same(l)?0:1/0,y.push(b)}for(var I=function(_,k){for(var P=(a?_.edgesTo(k):_.edgesWith(k)).intersect(m),V=1/0,z,B=0;B<P.length;B++){var $=P[B],W=u($);(W<V||!z)&&(V=W,z=$)}return{edge:z,dist:V}};y.size()>0;){var E=y.pop(),D=v(E),S=E.id();if(f[S]=D,D!==1/0)for(var C=E.neighborhood().intersect(p),N=0;N<C.length;N++){var M=C[N],A=M.id(),R=I(E,M),T=D+R.dist;T<v(M)&&(g(M,T),d[A]={node:E,edge:R.edge})}}return{distanceTo:function(_){var k=pe(_)?p.filter(_)[0]:_[0];return f[k.id()]},pathTo:function(_){var k=pe(_)?p.filter(_)[0]:_[0],P=[],V=k,z=V.id();if(k.length>0)for(P.unshift(k);d[z];){var B=d[z];P.unshift(B.edge),P.unshift(B.node),V=B.node,z=V.id()}return s.spawn(P)}}}},ZA={kruskal:function(e){e=e||function(w){return 1};for(var n=this.byGroup(),r=n.nodes,i=n.edges,o=r.length,a=new Array(o),s=r,u=function(b){for(var I=0;I<a.length;I++){var E=a[I];if(E.has(b))return I}},l=0;l<o;l++)a[l]=this.spawn(r[l]);for(var c=i.sort(function(w,b){return e(w)-e(b)}),d=0;d<c.length;d++){var f=c[d],h=f.source()[0],p=f.target()[0],m=u(h),v=u(p),g=a[m],y=a[v];m!==v&&(s.merge(f),g.merge(y),a.splice(v,1))}return s}},YA=Vt({root:null,goal:null,weight:function(e){return 1},heuristic:function(e){return 0},directed:!1}),KA={aStar:function(e){var n=this.cy(),r=YA(e),i=r.root,o=r.goal,a=r.heuristic,s=r.directed,u=r.weight;i=n.collection(i)[0],o=n.collection(o)[0];var l=i.id(),c=o.id(),d={},f={},h={},p=new Rs(function(z,B){return f[z.id()]-f[B.id()]}),m=new Zo,v={},g={},y=function(B,$){p.push(B),m.add($)},w,b,I=function(){w=p.pop(),b=w.id(),m.delete(b)},E=function(B){return m.has(B)};y(i,l),d[l]=0,f[l]=a(i);for(var D=0;p.size()>0;){if(I(),D++,b===c){for(var S=[],C=o,N=c,M=g[N];S.unshift(C),M!=null&&S.unshift(M),C=v[N],C!=null;)N=C.id(),M=g[N];return{found:!0,distance:d[b],path:this.spawn(S),steps:D}}h[b]=!0;for(var A=w._private.edges,R=0;R<A.length;R++){var T=A[R];if(this.hasElementWithId(T.id())&&!(s&&T.data("source")!==b)){var O=T.source(),_=T.target(),k=O.id()!==b?O:_,P=k.id();if(this.hasElementWithId(P)&&!h[P]){var V=d[b]+u(T);if(!E(P)){d[P]=V,f[P]=V+a(k),y(k,P),v[P]=w,g[P]=T;continue}V<d[P]&&(d[P]=V,f[P]=V+a(k),v[P]=w,g[P]=T)}}}}return{found:!1,distance:void 0,path:void 0,steps:D}}},QA=Vt({weight:function(e){return 1},directed:!1}),XA={floydWarshall:function(e){for(var n=this.cy(),r=QA(e),i=r.weight,o=r.directed,a=i,s=this.byGroup(),u=s.nodes,l=s.edges,c=u.length,d=c*c,f=function(W){return u.indexOf(W)},h=function(W){return u[W]},p=new Array(d),m=0;m<d;m++){var v=m%c,g=(m-v)/c;g===v?p[m]=0:p[m]=1/0}for(var y=new Array(d),w=new Array(d),b=0;b<l.length;b++){var I=l[b],E=I.source()[0],D=I.target()[0];if(E!==D){var S=f(E),C=f(D),N=S*c+C,M=a(I);if(p[N]>M&&(p[N]=M,y[N]=C,w[N]=I),!o){var A=C*c+S;!o&&p[A]>M&&(p[A]=M,y[A]=S,w[A]=I)}}}for(var R=0;R<c;R++)for(var T=0;T<c;T++)for(var O=T*c+R,_=0;_<c;_++){var k=T*c+_,P=R*c+_;p[O]+p[P]<p[k]&&(p[k]=p[O]+p[P],y[k]=y[O])}var V=function(W){return(pe(W)?n.filter(W):W)[0]},z=function(W){return f(V(W))},B={distance:function(W,K){var Q=z(W),X=z(K);return p[Q*c+X]},path:function(W,K){var Q=z(W),X=z(K),J=h(Q);if(Q===X)return J.collection();if(y[Q*c+X]==null)return n.collection();var q=n.collection(),L=Q,U;for(q.merge(J);Q!==X;)L=Q,Q=y[Q*c+X],U=w[L*c+Q],q.merge(U),q.merge(h(Q));return q}};return B}},JA=Vt({weight:function(e){return 1},directed:!1,root:null}),eN={bellmanFord:function(e){var n=this,r=JA(e),i=r.weight,o=r.directed,a=r.root,s=i,u=this,l=this.cy(),c=this.byGroup(),d=c.edges,f=c.nodes,h=f.length,p=new tr,m=!1,v=[];a=l.collection(a)[0],d.unmergeBy(function(ce){return ce.isLoop()});for(var g=d.length,y=function(se){var ge=p.get(se.id());return ge||(ge={},p.set(se.id(),ge)),ge},w=function(se){return(pe(se)?l.$(se):se)[0]},b=function(se){return y(w(se)).dist},I=function(se){for(var ge=arguments.length>1&&arguments[1]!==void 0?arguments[1]:a,Je=w(se),He=[],_e=Je;;){if(_e==null)return n.spawn();var et=y(_e),Oe=et.edge,Ze=et.pred;if(He.unshift(_e[0]),_e.same(ge)&&He.length>0)break;Oe!=null&&He.unshift(Oe),_e=Ze}return u.spawn(He)},E=0;E<h;E++){var D=f[E],S=y(D);D.same(a)?S.dist=0:S.dist=1/0,S.pred=null,S.edge=null}for(var C=!1,N=function(se,ge,Je,He,_e,et){var Oe=He.dist+et;Oe<_e.dist&&!Je.same(He.edge)&&(_e.dist=Oe,_e.pred=se,_e.edge=Je,C=!0)},M=1;M<h;M++){C=!1;for(var A=0;A<g;A++){var R=d[A],T=R.source(),O=R.target(),_=s(R),k=y(T),P=y(O);N(T,O,R,k,P,_),o||N(O,T,R,P,k,_)}if(!C)break}if(C)for(var V=[],z=0;z<g;z++){var B=d[z],$=B.source(),W=B.target(),K=s(B),Q=y($).dist,X=y(W).dist;if(Q+K<X||!o&&X+K<Q)if(m||(Xe("Graph contains a negative weight cycle for Bellman-Ford"),m=!0),e.findNegativeWeightCycles!==!1){var J=[];Q+K<X&&J.push($),!o&&X+K<Q&&J.push(W);for(var q=J.length,L=0;L<q;L++){var U=J[L],Z=[U];Z.push(y(U).edge);for(var re=y(U).pred;Z.indexOf(re)===-1;)Z.push(re),Z.push(y(re).edge),re=y(re).pred;Z=Z.slice(Z.indexOf(re));for(var ve=Z[0].id(),ne=0,te=2;te<Z.length;te+=2)Z[te].id()<ve&&(ve=Z[te].id(),ne=te);Z=Z.slice(ne).concat(Z.slice(0,ne)),Z.push(Z[0]);var de=Z.map(function(ce){return ce.id()}).join(",");V.indexOf(de)===-1&&(v.push(u.spawn(Z)),V.push(de))}}else break}return{distanceTo:b,pathTo:I,hasNegativeWeightCycle:m,negativeWeightCycles:v}}},tN=Math.sqrt(2),nN=function(e,n,r){r.length===0&&pt("Karger-Stein must be run on a connected (sub)graph");for(var i=r[e],o=i[1],a=i[2],s=n[o],u=n[a],l=r,c=l.length-1;c>=0;c--){var d=l[c],f=d[1],h=d[2];(n[f]===s&&n[h]===u||n[f]===u&&n[h]===s)&&l.splice(c,1)}for(var p=0;p<l.length;p++){var m=l[p];m[1]===u?(l[p]=m.slice(),l[p][1]=s):m[2]===u&&(l[p]=m.slice(),l[p][2]=s)}for(var v=0;v<n.length;v++)n[v]===u&&(n[v]=s);return l},qh=function(e,n,r,i){for(;r>i;){var o=Math.floor(Math.random()*n.length);n=nN(o,e,n),r--}return n},rN={kargerStein:function(){var e=this,n=this.byGroup(),r=n.nodes,i=n.edges;i.unmergeBy(function(P){return P.isLoop()});var o=r.length,a=i.length,s=Math.ceil(Math.pow(Math.log(o)/Math.LN2,2)),u=Math.floor(o/tN);if(o<2){pt("At least 2 nodes are required for Karger-Stein algorithm");return}for(var l=[],c=0;c<a;c++){var d=i[c];l.push([c,r.indexOf(d.source()),r.indexOf(d.target())])}for(var f=1/0,h=[],p=new Array(o),m=new Array(o),v=new Array(o),g=function(V,z){for(var B=0;B<o;B++)z[B]=V[B]},y=0;y<=s;y++){for(var w=0;w<o;w++)m[w]=w;var b=qh(m,l.slice(),o,u),I=b.slice();g(m,v);var E=qh(m,b,u,2),D=qh(v,I,u,2);E.length<=D.length&&E.length<f?(f=E.length,h=E,g(m,p)):D.length<=E.length&&D.length<f&&(f=D.length,h=D,g(v,p))}for(var S=this.spawn(h.map(function(P){return i[P[0]]})),C=this.spawn(),N=this.spawn(),M=p[0],A=0;A<p.length;A++){var R=p[A],T=r[A];R===M?C.merge(T):N.merge(T)}var O=function(V){var z=e.spawn();return V.forEach(function(B){z.merge(B),B.connectedEdges().forEach(function($){e.contains($)&&!S.contains($)&&z.merge($)})}),z},_=[O(C),O(N)],k={cut:S,components:_,partition1:C,partition2:N};return k}},iN=function(e){return{x:e.x,y:e.y}},dc=function(e,n,r){return{x:e.x*n+r.x,y:e.y*n+r.y}},Tb=function(e,n,r){return{x:(e.x-r.x)/n,y:(e.y-r.y)/n}},Bo=function(e){return{x:e[0],y:e[1]}},oN=function(e){for(var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,i=1/0,o=n;o<r;o++){var a=e[o];isFinite(a)&&(i=Math.min(a,i))}return i},aN=function(e){for(var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,i=-1/0,o=n;o<r;o++){var a=e[o];isFinite(a)&&(i=Math.max(a,i))}return i},sN=function(e){for(var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,i=0,o=0,a=n;a<r;a++){var s=e[a];isFinite(s)&&(i+=s,o++)}return i/o},uN=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0;i?e=e.slice(n,r):(r<e.length&&e.splice(r,e.length-r),n>0&&e.splice(0,n));for(var s=0,u=e.length-1;u>=0;u--){var l=e[u];a?isFinite(l)||(e[u]=-1/0,s++):e.splice(u,1)}o&&e.sort(function(f,h){return f-h});var c=e.length,d=Math.floor(c/2);return c%2!==0?e[d+1+s]:(e[d-1+s]+e[d+s])/2},lN=function(e){return Math.PI*e/180},Nl=function(e,n){return Math.atan2(n,e)-Math.PI/2},Sp=Math.log2||function(t){return Math.log(t)/Math.log(2)},Mb=function(e){return e>0?1:e<0?-1:0},_i=function(e,n){return Math.sqrt(Si(e,n))},Si=function(e,n){var r=n.x-e.x,i=n.y-e.y;return r*r+i*i},cN=function(e){for(var n=e.length,r=0,i=0;i<n;i++)r+=e[i];for(var o=0;o<n;o++)e[o]=e[o]/r;return e},Rt=function(e,n,r,i){return(1-i)*(1-i)*e+2*(1-i)*i*n+i*i*r},$o=function(e,n,r,i){return{x:Rt(e.x,n.x,r.x,i),y:Rt(e.y,n.y,r.y,i)}},dN=function(e,n,r,i){var o={x:n.x-e.x,y:n.y-e.y},a=_i(e,n),s={x:o.x/a,y:o.y/a};return r=r??0,i=i??r*a,{x:e.x+s.x*i,y:e.y+s.y*i}},Ds=function(e,n,r){return Math.max(e,Math.min(r,n))},rn=function(e){if(e==null)return{x1:1/0,y1:1/0,x2:-1/0,y2:-1/0,w:0,h:0};if(e.x1!=null&&e.y1!=null){if(e.x2!=null&&e.y2!=null&&e.x2>=e.x1&&e.y2>=e.y1)return{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2,w:e.x2-e.x1,h:e.y2-e.y1};if(e.w!=null&&e.h!=null&&e.w>=0&&e.h>=0)return{x1:e.x1,y1:e.y1,x2:e.x1+e.w,y2:e.y1+e.h,w:e.w,h:e.h}}},fN=function(e){return{x1:e.x1,x2:e.x2,w:e.w,y1:e.y1,y2:e.y2,h:e.h}},hN=function(e){e.x1=1/0,e.y1=1/0,e.x2=-1/0,e.y2=-1/0,e.w=0,e.h=0},pN=function(e,n,r){return{x1:e.x1+n,x2:e.x2+n,y1:e.y1+r,y2:e.y2+r,w:e.w,h:e.h}},Ab=function(e,n){e.x1=Math.min(e.x1,n.x1),e.x2=Math.max(e.x2,n.x2),e.w=e.x2-e.x1,e.y1=Math.min(e.y1,n.y1),e.y2=Math.max(e.y2,n.y2),e.h=e.y2-e.y1},gN=function(e,n,r){e.x1=Math.min(e.x1,n),e.x2=Math.max(e.x2,n),e.w=e.x2-e.x1,e.y1=Math.min(e.y1,r),e.y2=Math.max(e.y2,r),e.h=e.y2-e.y1},jl=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return e.x1-=n,e.x2+=n,e.y1-=n,e.y2+=n,e.w=e.x2-e.x1,e.h=e.y2-e.y1,e},Hl=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[0],r,i,o,a;if(n.length===1)r=i=o=a=n[0];else if(n.length===2)r=o=n[0],a=i=n[1];else if(n.length===4){var s=Vn(n,4);r=s[0],i=s[1],o=s[2],a=s[3]}return e.x1-=a,e.x2+=i,e.y1-=r,e.y2+=o,e.w=e.x2-e.x1,e.h=e.y2-e.y1,e},nw=function(e,n){e.x1=n.x1,e.y1=n.y1,e.x2=n.x2,e.y2=n.y2,e.w=e.x2-e.x1,e.h=e.y2-e.y1},xp=function(e,n){return!(e.x1>n.x2||n.x1>e.x2||e.x2<n.x1||n.x2<e.x1||e.y2<n.y1||n.y2<e.y1||e.y1>n.y2||n.y1>e.y2)},qo=function(e,n,r){return e.x1<=n&&n<=e.x2&&e.y1<=r&&r<=e.y2},vN=function(e,n){return qo(e,n.x,n.y)},Nb=function(e,n){return qo(e,n.x1,n.y1)&&qo(e,n.x2,n.y2)},Rb=function(e,n,r,i,o,a,s){var u=arguments.length>7&&arguments[7]!==void 0?arguments[7]:"auto",l=u==="auto"?ki(o,a):u,c=o/2,d=a/2;l=Math.min(l,c,d);var f=l!==c,h=l!==d,p;if(f){var m=r-c+l-s,v=i-d-s,g=r+c-l+s,y=v;if(p=jr(e,n,r,i,m,v,g,y,!1),p.length>0)return p}if(h){var w=r+c+s,b=i-d+l-s,I=w,E=i+d-l+s;if(p=jr(e,n,r,i,w,b,I,E,!1),p.length>0)return p}if(f){var D=r-c+l-s,S=i+d+s,C=r+c-l+s,N=S;if(p=jr(e,n,r,i,D,S,C,N,!1),p.length>0)return p}if(h){var M=r-c-s,A=i-d+l-s,R=M,T=i+d-l+s;if(p=jr(e,n,r,i,M,A,R,T,!1),p.length>0)return p}var O;{var _=r-c+l,k=i-d+l;if(O=fs(e,n,r,i,_,k,l+s),O.length>0&&O[0]<=_&&O[1]<=k)return[O[0],O[1]]}{var P=r+c-l,V=i-d+l;if(O=fs(e,n,r,i,P,V,l+s),O.length>0&&O[0]>=P&&O[1]<=V)return[O[0],O[1]]}{var z=r+c-l,B=i+d-l;if(O=fs(e,n,r,i,z,B,l+s),O.length>0&&O[0]>=z&&O[1]>=B)return[O[0],O[1]]}{var $=r-c+l,W=i+d-l;if(O=fs(e,n,r,i,$,W,l+s),O.length>0&&O[0]<=$&&O[1]>=W)return[O[0],O[1]]}return[]},mN=function(e,n,r,i,o,a,s){var u=s,l=Math.min(r,o),c=Math.max(r,o),d=Math.min(i,a),f=Math.max(i,a);return l-u<=e&&e<=c+u&&d-u<=n&&n<=f+u},yN=function(e,n,r,i,o,a,s,u,l){var c={x1:Math.min(r,s,o)-l,x2:Math.max(r,s,o)+l,y1:Math.min(i,u,a)-l,y2:Math.max(i,u,a)+l};return!(e<c.x1||e>c.x2||n<c.y1||n>c.y2)},wN=function(e,n,r,i){r-=i;var o=n*n-4*e*r;if(o<0)return[];var a=Math.sqrt(o),s=2*e,u=(-n+a)/s,l=(-n-a)/s;return[u,l]},bN=function(e,n,r,i,o){var a=1e-5;e===0&&(e=a),n/=e,r/=e,i/=e;var s,u,l,c,d,f,h,p;if(u=(3*r-n*n)/9,l=-(27*i)+n*(9*r-2*(n*n)),l/=54,s=u*u*u+l*l,o[1]=0,h=n/3,s>0){d=l+Math.sqrt(s),d=d<0?-Math.pow(-d,1/3):Math.pow(d,1/3),f=l-Math.sqrt(s),f=f<0?-Math.pow(-f,1/3):Math.pow(f,1/3),o[0]=-h+d+f,h+=(d+f)/2,o[4]=o[2]=-h,h=Math.sqrt(3)*(-f+d)/2,o[3]=h,o[5]=-h;return}if(o[5]=o[3]=0,s===0){p=l<0?-Math.pow(-l,1/3):Math.pow(l,1/3),o[0]=-h+2*p,o[4]=o[2]=-(p+h);return}u=-u,c=u*u*u,c=Math.acos(l/Math.sqrt(c)),p=2*Math.sqrt(u),o[0]=-h+p*Math.cos(c/3),o[2]=-h+p*Math.cos((c+2*Math.PI)/3),o[4]=-h+p*Math.cos((c+4*Math.PI)/3)},DN=function(e,n,r,i,o,a,s,u){var l=1*r*r-4*r*o+2*r*s+4*o*o-4*o*s+s*s+i*i-4*i*a+2*i*u+4*a*a-4*a*u+u*u,c=1*9*r*o-3*r*r-3*r*s-6*o*o+3*o*s+9*i*a-3*i*i-3*i*u-6*a*a+3*a*u,d=1*3*r*r-6*r*o+r*s-r*e+2*o*o+2*o*e-s*e+3*i*i-6*i*a+i*u-i*n+2*a*a+2*a*n-u*n,f=1*r*o-r*r+r*e-o*e+i*a-i*i+i*n-a*n,h=[];bN(l,c,d,f,h);for(var p=1e-7,m=[],v=0;v<6;v+=2)Math.abs(h[v+1])<p&&h[v]>=0&&h[v]<=1&&m.push(h[v]);m.push(1),m.push(0);for(var g=-1,y,w,b,I=0;I<m.length;I++)y=Math.pow(1-m[I],2)*r+2*(1-m[I])*m[I]*o+m[I]*m[I]*s,w=Math.pow(1-m[I],2)*i+2*(1-m[I])*m[I]*a+m[I]*m[I]*u,b=Math.pow(y-e,2)+Math.pow(w-n,2),g>=0?b<g&&(g=b):g=b;return g},EN=function(e,n,r,i,o,a){var s=[e-r,n-i],u=[o-r,a-i],l=u[0]*u[0]+u[1]*u[1],c=s[0]*s[0]+s[1]*s[1],d=s[0]*u[0]+s[1]*u[1],f=d*d/l;return d<0?c:f>l?(e-o)*(e-o)+(n-a)*(n-a):c-f},nn=function(e,n,r){for(var i,o,a,s,u,l=0,c=0;c<r.length/2;c++)if(i=r[c*2],o=r[c*2+1],c+1<r.length/2?(a=r[(c+1)*2],s=r[(c+1)*2+1]):(a=r[(c+1-r.length/2)*2],s=r[(c+1-r.length/2)*2+1]),!(i==e&&a==e))if(i>=e&&e>=a||i<=e&&e<=a)u=(e-i)/(a-i)*(s-o)+o,u>n&&l++;else continue;return l%2!==0},Er=function(e,n,r,i,o,a,s,u,l){var c=new Array(r.length),d;u[0]!=null?(d=Math.atan(u[1]/u[0]),u[0]<0?d=d+Math.PI/2:d=-d-Math.PI/2):d=u;for(var f=Math.cos(-d),h=Math.sin(-d),p=0;p<c.length/2;p++)c[p*2]=a/2*(r[p*2]*f-r[p*2+1]*h),c[p*2+1]=s/2*(r[p*2+1]*f+r[p*2]*h),c[p*2]+=i,c[p*2+1]+=o;var m;if(l>0){var v=ec(c,-l);m=Jl(v)}else m=c;return nn(e,n,m)},CN=function(e,n,r,i,o,a,s,u){for(var l=new Array(r.length*2),c=0;c<u.length;c++){var d=u[c];l[c*4+0]=d.startX,l[c*4+1]=d.startY,l[c*4+2]=d.stopX,l[c*4+3]=d.stopY;var f=Math.pow(d.cx-e,2)+Math.pow(d.cy-n,2);if(f<=Math.pow(d.radius,2))return!0}return nn(e,n,l)},Jl=function(e){for(var n=new Array(e.length/2),r,i,o,a,s,u,l,c,d=0;d<e.length/4;d++){r=e[d*4],i=e[d*4+1],o=e[d*4+2],a=e[d*4+3],d<e.length/4-1?(s=e[(d+1)*4],u=e[(d+1)*4+1],l=e[(d+1)*4+2],c=e[(d+1)*4+3]):(s=e[0],u=e[1],l=e[2],c=e[3]);var f=jr(r,i,o,a,s,u,l,c,!0);n[d*2]=f[0],n[d*2+1]=f[1]}return n},ec=function(e,n){for(var r=new Array(e.length*2),i,o,a,s,u=0;u<e.length/2;u++){i=e[u*2],o=e[u*2+1],u<e.length/2-1?(a=e[(u+1)*2],s=e[(u+1)*2+1]):(a=e[0],s=e[1]);var l=s-o,c=-(a-i),d=Math.sqrt(l*l+c*c),f=l/d,h=c/d;r[u*4]=i+f*n,r[u*4+1]=o+h*n,r[u*4+2]=a+f*n,r[u*4+3]=s+h*n}return r},IN=function(e,n,r,i,o,a){var s=r-e,u=i-n;s/=o,u/=a;var l=Math.sqrt(s*s+u*u),c=l-1;if(c<0)return[];var d=c/l;return[(r-e)*d+e,(i-n)*d+n]},Ai=function(e,n,r,i,o,a,s){return e-=o,n-=a,e/=r/2+s,n/=i/2+s,e*e+n*n<=1},fs=function(e,n,r,i,o,a,s){var u=[r-e,i-n],l=[e-o,n-a],c=u[0]*u[0]+u[1]*u[1],d=2*(l[0]*u[0]+l[1]*u[1]),f=l[0]*l[0]+l[1]*l[1]-s*s,h=d*d-4*c*f;if(h<0)return[];var p=(-d+Math.sqrt(h))/(2*c),m=(-d-Math.sqrt(h))/(2*c),v=Math.min(p,m),g=Math.max(p,m),y=[];if(v>=0&&v<=1&&y.push(v),g>=0&&g<=1&&y.push(g),y.length===0)return[];var w=y[0]*u[0]+e,b=y[0]*u[1]+n;if(y.length>1){if(y[0]==y[1])return[w,b];var I=y[1]*u[0]+e,E=y[1]*u[1]+n;return[w,b,I,E]}else return[w,b]},Gh=function(e,n,r){return n<=e&&e<=r||r<=e&&e<=n?e:e<=n&&n<=r||r<=n&&n<=e?n:r},jr=function(e,n,r,i,o,a,s,u,l){var c=e-o,d=r-e,f=s-o,h=n-a,p=i-n,m=u-a,v=f*h-m*c,g=d*h-p*c,y=m*d-f*p;if(y!==0){var w=v/y,b=g/y,I=.001,E=0-I,D=1+I;return E<=w&&w<=D&&E<=b&&b<=D?[e+w*d,n+w*p]:l?[e+w*d,n+w*p]:[]}else return v===0||g===0?Gh(e,r,s)===s?[s,u]:Gh(e,r,o)===o?[o,a]:Gh(o,s,r)===r?[r,i]:[]:[]},Es=function(e,n,r,i,o,a,s,u){var l=[],c,d=new Array(r.length),f=!0;a==null&&(f=!1);var h;if(f){for(var p=0;p<d.length/2;p++)d[p*2]=r[p*2]*a+i,d[p*2+1]=r[p*2+1]*s+o;if(u>0){var m=ec(d,-u);h=Jl(m)}else h=d}else h=r;for(var v,g,y,w,b=0;b<h.length/2;b++)v=h[b*2],g=h[b*2+1],b<h.length/2-1?(y=h[(b+1)*2],w=h[(b+1)*2+1]):(y=h[0],w=h[1]),c=jr(e,n,i,o,v,g,y,w),c.length!==0&&l.push(c[0],c[1]);return l},SN=function(e,n,r,i,o,a,s,u,l){var c=[],d,f=new Array(r.length*2);l.forEach(function(y,w){w===0?(f[f.length-2]=y.startX,f[f.length-1]=y.startY):(f[w*4-2]=y.startX,f[w*4-1]=y.startY),f[w*4]=y.stopX,f[w*4+1]=y.stopY,d=fs(e,n,i,o,y.cx,y.cy,y.radius),d.length!==0&&c.push(d[0],d[1])});for(var h=0;h<f.length/4;h++)d=jr(e,n,i,o,f[h*4],f[h*4+1],f[h*4+2],f[h*4+3],!1),d.length!==0&&c.push(d[0],d[1]);if(c.length>2){for(var p=[c[0],c[1]],m=Math.pow(p[0]-e,2)+Math.pow(p[1]-n,2),v=1;v<c.length/2;v++){var g=Math.pow(c[v*2]-e,2)+Math.pow(c[v*2+1]-n,2);g<=m&&(p[0]=c[v*2],p[1]=c[v*2+1],m=g)}return p}return c},Rl=function(e,n,r){var i=[e[0]-n[0],e[1]-n[1]],o=Math.sqrt(i[0]*i[0]+i[1]*i[1]),a=(o-r)/o;return a<0&&(a=1e-5),[n[0]+a*i[0],n[1]+a*i[1]]},Jt=function(e,n){var r=np(e,n);return r=_b(r),r},_b=function(e){for(var n,r,i=e.length/2,o=1/0,a=1/0,s=-1/0,u=-1/0,l=0;l<i;l++)n=e[2*l],r=e[2*l+1],o=Math.min(o,n),s=Math.max(s,n),a=Math.min(a,r),u=Math.max(u,r);for(var c=2/(s-o),d=2/(u-a),f=0;f<i;f++)n=e[2*f]=e[2*f]*c,r=e[2*f+1]=e[2*f+1]*d,o=Math.min(o,n),s=Math.max(s,n),a=Math.min(a,r),u=Math.max(u,r);if(a<-1)for(var h=0;h<i;h++)r=e[2*h+1]=e[2*h+1]+(-1-a);return e},np=function(e,n){var r=1/e*2*Math.PI,i=e%2===0?Math.PI/2+r/2:Math.PI/2;i+=n;for(var o=new Array(e*2),a,s=0;s<e;s++)a=s*r+i,o[2*s]=Math.cos(a),o[2*s+1]=Math.sin(-a);return o},ki=function(e,n){return Math.min(e/4,n/4,8)},kb=function(e,n){return Math.min(e/10,n/10,8)},Tp=function(){return 8},xN=function(e,n,r){return[e-2*n+r,2*(n-e),e]},rp=function(e,n){return{heightOffset:Math.min(15,.05*n),widthOffset:Math.min(100,.25*e),ctrlPtOffsetPct:.05}},TN=Vt({dampingFactor:.8,precision:1e-6,iterations:200,weight:function(e){return 1}}),MN={pageRank:function(e){for(var n=TN(e),r=n.dampingFactor,i=n.precision,o=n.iterations,a=n.weight,s=this._private.cy,u=this.byGroup(),l=u.nodes,c=u.edges,d=l.length,f=d*d,h=c.length,p=new Array(f),m=new Array(d),v=(1-r)/d,g=0;g<d;g++){for(var y=0;y<d;y++){var w=g*d+y;p[w]=0}m[g]=0}for(var b=0;b<h;b++){var I=c[b],E=I.data("source"),D=I.data("target");if(E!==D){var S=l.indexOfId(E),C=l.indexOfId(D),N=a(I),M=C*d+S;p[M]+=N,m[S]+=N}}for(var A=1/d+v,R=0;R<d;R++)if(m[R]===0)for(var T=0;T<d;T++){var O=T*d+R;p[O]=A}else for(var _=0;_<d;_++){var k=_*d+R;p[k]=p[k]/m[R]+v}for(var P=new Array(d),V=new Array(d),z,B=0;B<d;B++)P[B]=1;for(var $=0;$<o;$++){for(var W=0;W<d;W++)V[W]=0;for(var K=0;K<d;K++)for(var Q=0;Q<d;Q++){var X=K*d+Q;V[K]+=p[X]*P[Q]}cN(V),z=P,P=V,V=z;for(var J=0,q=0;q<d;q++){var L=z[q]-P[q];J+=L*L}if(J<i)break}var U={rank:function(re){return re=s.collection(re)[0],P[l.indexOf(re)]}};return U}},rw=Vt({root:null,weight:function(e){return 1},directed:!1,alpha:0}),jo={degreeCentralityNormalized:function(e){e=rw(e);var n=this.cy(),r=this.nodes(),i=r.length;if(e.directed){for(var c={},d={},f=0,h=0,p=0;p<i;p++){var m=r[p],v=m.id();e.root=m;var g=this.degreeCentrality(e);f<g.indegree&&(f=g.indegree),h<g.outdegree&&(h=g.outdegree),c[v]=g.indegree,d[v]=g.outdegree}return{indegree:function(w){return f==0?0:(pe(w)&&(w=n.filter(w)),c[w.id()]/f)},outdegree:function(w){return h===0?0:(pe(w)&&(w=n.filter(w)),d[w.id()]/h)}}}else{for(var o={},a=0,s=0;s<i;s++){var u=r[s];e.root=u;var l=this.degreeCentrality(e);a<l.degree&&(a=l.degree),o[u.id()]=l.degree}return{degree:function(w){return a===0?0:(pe(w)&&(w=n.filter(w)),o[w.id()]/a)}}}},degreeCentrality:function(e){e=rw(e);var n=this.cy(),r=this,i=e,o=i.root,a=i.weight,s=i.directed,u=i.alpha;if(o=n.collection(o)[0],s){for(var h=o.connectedEdges(),p=h.filter(function(E){return E.target().same(o)&&r.has(E)}),m=h.filter(function(E){return E.source().same(o)&&r.has(E)}),v=p.length,g=m.length,y=0,w=0,b=0;b<p.length;b++)y+=a(p[b]);for(var I=0;I<m.length;I++)w+=a(m[I]);return{indegree:Math.pow(v,1-u)*Math.pow(y,u),outdegree:Math.pow(g,1-u)*Math.pow(w,u)}}else{for(var l=o.connectedEdges().intersection(r),c=l.length,d=0,f=0;f<l.length;f++)d+=a(l[f]);return{degree:Math.pow(c,1-u)*Math.pow(d,u)}}}};jo.dc=jo.degreeCentrality;jo.dcn=jo.degreeCentralityNormalised=jo.degreeCentralityNormalized;var iw=Vt({harmonic:!0,weight:function(){return 1},directed:!1,root:null}),Ho={closenessCentralityNormalized:function(e){for(var n=iw(e),r=n.harmonic,i=n.weight,o=n.directed,a=this.cy(),s={},u=0,l=this.nodes(),c=this.floydWarshall({weight:i,directed:o}),d=0;d<l.length;d++){for(var f=0,h=l[d],p=0;p<l.length;p++)if(d!==p){var m=c.distance(h,l[p]);r?f+=1/m:f+=m}r||(f=1/f),u<f&&(u=f),s[h.id()]=f}return{closeness:function(g){return u==0?0:(pe(g)?g=a.filter(g)[0].id():g=g.id(),s[g]/u)}}},closenessCentrality:function(e){var n=iw(e),r=n.root,i=n.weight,o=n.directed,a=n.harmonic;r=this.filter(r)[0];for(var s=this.dijkstra({root:r,weight:i,directed:o}),u=0,l=this.nodes(),c=0;c<l.length;c++){var d=l[c];if(!d.same(r)){var f=s.distanceTo(d);a?u+=1/f:u+=f}}return a?u:1/u}};Ho.cc=Ho.closenessCentrality;Ho.ccn=Ho.closenessCentralityNormalised=Ho.closenessCentralityNormalized;var AN=Vt({weight:null,directed:!1}),ip={betweennessCentrality:function(e){for(var n=AN(e),r=n.directed,i=n.weight,o=i!=null,a=this.cy(),s=this.nodes(),u={},l={},c=0,d={set:function(w,b){l[w]=b,b>c&&(c=b)},get:function(w){return l[w]}},f=0;f<s.length;f++){var h=s[f],p=h.id();r?u[p]=h.outgoers().nodes():u[p]=h.openNeighborhood().nodes(),d.set(p,0)}for(var m=function(w){for(var b=s[w].id(),I=[],E={},D={},S={},C=new Rs(function(Q,X){return S[Q]-S[X]}),N=0;N<s.length;N++){var M=s[N].id();E[M]=[],D[M]=0,S[M]=1/0}for(D[b]=1,S[b]=0,C.push(b);!C.empty();){var A=C.pop();if(I.push(A),o)for(var R=0;R<u[A].length;R++){var T=u[A][R],O=a.getElementById(A),_=void 0;O.edgesTo(T).length>0?_=O.edgesTo(T)[0]:_=T.edgesTo(O)[0];var k=i(_);T=T.id(),S[T]>S[A]+k&&(S[T]=S[A]+k,C.nodes.indexOf(T)<0?C.push(T):C.updateItem(T),D[T]=0,E[T]=[]),S[T]==S[A]+k&&(D[T]=D[T]+D[A],E[T].push(A))}else for(var P=0;P<u[A].length;P++){var V=u[A][P].id();S[V]==1/0&&(C.push(V),S[V]=S[A]+1),S[V]==S[A]+1&&(D[V]=D[V]+D[A],E[V].push(A))}}for(var z={},B=0;B<s.length;B++)z[s[B].id()]=0;for(;I.length>0;){for(var $=I.pop(),W=0;W<E[$].length;W++){var K=E[$][W];z[K]=z[K]+D[K]/D[$]*(1+z[$])}$!=s[w].id()&&d.set($,d.get($)+z[$])}},v=0;v<s.length;v++)m(v);var g={betweenness:function(w){var b=a.collection(w).id();return d.get(b)},betweennessNormalized:function(w){if(c==0)return 0;var b=a.collection(w).id();return d.get(b)/c}};return g.betweennessNormalised=g.betweennessNormalized,g}};ip.bc=ip.betweennessCentrality;var NN=Vt({expandFactor:2,inflateFactor:2,multFactor:1,maxIterations:20,attributes:[function(t){return 1}]}),RN=function(e){return NN(e)},_N=function(e,n){for(var r=0,i=0;i<n.length;i++)r+=n[i](e);return r},kN=function(e,n,r){for(var i=0;i<n;i++)e[i*n+i]=r},Ob=function(e,n){for(var r,i=0;i<n;i++){r=0;for(var o=0;o<n;o++)r+=e[o*n+i];for(var a=0;a<n;a++)e[a*n+i]=e[a*n+i]/r}},ON=function(e,n,r){for(var i=new Array(r*r),o=0;o<r;o++){for(var a=0;a<r;a++)i[o*r+a]=0;for(var s=0;s<r;s++)for(var u=0;u<r;u++)i[o*r+u]+=e[o*r+s]*n[s*r+u]}return i},PN=function(e,n,r){for(var i=e.slice(0),o=1;o<r;o++)e=ON(e,i,n);return e},LN=function(e,n,r){for(var i=new Array(n*n),o=0;o<n*n;o++)i[o]=Math.pow(e[o],r);return Ob(i,n),i},FN=function(e,n,r,i){for(var o=0;o<r;o++){var a=Math.round(e[o]*Math.pow(10,i))/Math.pow(10,i),s=Math.round(n[o]*Math.pow(10,i))/Math.pow(10,i);if(a!==s)return!1}return!0},BN=function(e,n,r,i){for(var o=[],a=0;a<n;a++){for(var s=[],u=0;u<n;u++)Math.round(e[a*n+u]*1e3)/1e3>0&&s.push(r[u]);s.length!==0&&o.push(i.collection(s))}return o},VN=function(e,n){for(var r=0;r<e.length;r++)if(!n[r]||e[r].id()!==n[r].id())return!1;return!0},$N=function(e){for(var n=0;n<e.length;n++)for(var r=0;r<e.length;r++)n!=r&&VN(e[n],e[r])&&e.splice(r,1);return e},ow=function(e){for(var n=this.nodes(),r=this.edges(),i=this.cy(),o=RN(e),a={},s=0;s<n.length;s++)a[n[s].id()]=s;for(var u=n.length,l=u*u,c=new Array(l),d,f=0;f<l;f++)c[f]=0;for(var h=0;h<r.length;h++){var p=r[h],m=a[p.source().id()],v=a[p.target().id()],g=_N(p,o.attributes);c[m*u+v]+=g,c[v*u+m]+=g}kN(c,u,o.multFactor),Ob(c,u);for(var y=!0,w=0;y&&w<o.maxIterations;)y=!1,d=PN(c,u,o.expandFactor),c=LN(d,u,o.inflateFactor),FN(c,d,l,4)||(y=!0),w++;var b=BN(c,u,n,i);return b=$N(b),b},jN={markovClustering:ow,mcl:ow},HN=function(e){return e},Pb=function(e,n){return Math.abs(n-e)},aw=function(e,n,r){return e+Pb(n,r)},sw=function(e,n,r){return e+Math.pow(r-n,2)},zN=function(e){return Math.sqrt(e)},UN=function(e,n,r){return Math.max(e,Pb(n,r))},as=function(e,n,r,i,o){for(var a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:HN,s=i,u,l,c=0;c<e;c++)u=n(c),l=r(c),s=o(s,u,l);return a(s)},Go={euclidean:function(e,n,r){return e>=2?as(e,n,r,0,sw,zN):as(e,n,r,0,aw)},squaredEuclidean:function(e,n,r){return as(e,n,r,0,sw)},manhattan:function(e,n,r){return as(e,n,r,0,aw)},max:function(e,n,r){return as(e,n,r,-1/0,UN)}};Go["squared-euclidean"]=Go.squaredEuclidean;Go.squaredeuclidean=Go.squaredEuclidean;function fc(t,e,n,r,i,o){var a;return ht(t)?a=t:a=Go[t]||Go.euclidean,e===0&&ht(t)?a(i,o):a(e,n,r,i,o)}var qN=Vt({k:2,m:2,sensitivityThreshold:1e-4,distance:"euclidean",maxIterations:10,attributes:[],testMode:!1,testCentroids:null}),Mp=function(e){return qN(e)},tc=function(e,n,r,i,o){var a=o!=="kMedoids",s=a?function(d){return r[d]}:function(d){return i[d](r)},u=function(f){return i[f](n)},l=r,c=n;return fc(e,i.length,s,u,l,c)},Wh=function(e,n,r){for(var i=r.length,o=new Array(i),a=new Array(i),s=new Array(n),u=null,l=0;l<i;l++)o[l]=e.min(r[l]).value,a[l]=e.max(r[l]).value;for(var c=0;c<n;c++){u=[];for(var d=0;d<i;d++)u[d]=Math.random()*(a[d]-o[d])+o[d];s[c]=u}return s},Lb=function(e,n,r,i,o){for(var a=1/0,s=0,u=0;u<n.length;u++){var l=tc(r,e,n[u],i,o);l<a&&(a=l,s=u)}return s},Fb=function(e,n,r){for(var i=[],o=null,a=0;a<n.length;a++)o=n[a],r[o.id()]===e&&i.push(o);return i},GN=function(e,n,r){return Math.abs(n-e)<=r},WN=function(e,n,r){for(var i=0;i<e.length;i++)for(var o=0;o<e[i].length;o++){var a=Math.abs(e[i][o]-n[i][o]);if(a>r)return!1}return!0},ZN=function(e,n,r){for(var i=0;i<r;i++)if(e===n[i])return!0;return!1},uw=function(e,n){var r=new Array(n);if(e.length<50)for(var i=0;i<n;i++){for(var o=e[Math.floor(Math.random()*e.length)];ZN(o,r,i);)o=e[Math.floor(Math.random()*e.length)];r[i]=o}else for(var a=0;a<n;a++)r[a]=e[Math.floor(Math.random()*e.length)];return r},lw=function(e,n,r){for(var i=0,o=0;o<n.length;o++)i+=tc("manhattan",n[o],e,r,"kMedoids");return i},YN=function(e){var n=this.cy(),r=this.nodes(),i=null,o=Mp(e),a=new Array(o.k),s={},u;o.testMode?typeof o.testCentroids=="number"?(o.testCentroids,u=Wh(r,o.k,o.attributes)):St(o.testCentroids)==="object"?u=o.testCentroids:u=Wh(r,o.k,o.attributes):u=Wh(r,o.k,o.attributes);for(var l=!0,c=0;l&&c<o.maxIterations;){for(var d=0;d<r.length;d++)i=r[d],s[i.id()]=Lb(i,u,o.distance,o.attributes,"kMeans");l=!1;for(var f=0;f<o.k;f++){var h=Fb(f,r,s);if(h.length!==0){for(var p=o.attributes.length,m=u[f],v=new Array(p),g=new Array(p),y=0;y<p;y++){g[y]=0;for(var w=0;w<h.length;w++)i=h[w],g[y]+=o.attributes[y](i);v[y]=g[y]/h.length,GN(v[y],m[y],o.sensitivityThreshold)||(l=!0)}u[f]=v,a[f]=n.collection(h)}}c++}return a},KN=function(e){var n=this.cy(),r=this.nodes(),i=null,o=Mp(e),a=new Array(o.k),s,u={},l,c=new Array(o.k);o.testMode?typeof o.testCentroids=="number"||(St(o.testCentroids)==="object"?s=o.testCentroids:s=uw(r,o.k)):s=uw(r,o.k);for(var d=!0,f=0;d&&f<o.maxIterations;){for(var h=0;h<r.length;h++)i=r[h],u[i.id()]=Lb(i,s,o.distance,o.attributes,"kMedoids");d=!1;for(var p=0;p<s.length;p++){var m=Fb(p,r,u);if(m.length!==0){c[p]=lw(s[p],m,o.attributes);for(var v=0;v<m.length;v++)l=lw(m[v],m,o.attributes),l<c[p]&&(c[p]=l,s[p]=m[v],d=!0);a[p]=n.collection(m)}}f++}return a},QN=function(e,n,r,i,o){for(var a,s,u=0;u<n.length;u++)for(var l=0;l<e.length;l++)i[u][l]=Math.pow(r[u][l],o.m);for(var c=0;c<e.length;c++)for(var d=0;d<o.attributes.length;d++){a=0,s=0;for(var f=0;f<n.length;f++)a+=i[f][c]*o.attributes[d](n[f]),s+=i[f][c];e[c][d]=a/s}},XN=function(e,n,r,i,o){for(var a=0;a<e.length;a++)n[a]=e[a].slice();for(var s,u,l,c=2/(o.m-1),d=0;d<r.length;d++)for(var f=0;f<i.length;f++){s=0;for(var h=0;h<r.length;h++)u=tc(o.distance,i[f],r[d],o.attributes,"cmeans"),l=tc(o.distance,i[f],r[h],o.attributes,"cmeans"),s+=Math.pow(u/l,c);e[f][d]=1/s}},JN=function(e,n,r,i){for(var o=new Array(r.k),a=0;a<o.length;a++)o[a]=[];for(var s,u,l=0;l<n.length;l++){s=-1/0,u=-1;for(var c=0;c<n[0].length;c++)n[l][c]>s&&(s=n[l][c],u=c);o[u].push(e[l])}for(var d=0;d<o.length;d++)o[d]=i.collection(o[d]);return o},cw=function(e){var n=this.cy(),r=this.nodes(),i=Mp(e),o,a,s,u,l;u=new Array(r.length);for(var c=0;c<r.length;c++)u[c]=new Array(i.k);s=new Array(r.length);for(var d=0;d<r.length;d++)s[d]=new Array(i.k);for(var f=0;f<r.length;f++){for(var h=0,p=0;p<i.k;p++)s[f][p]=Math.random(),h+=s[f][p];for(var m=0;m<i.k;m++)s[f][m]=s[f][m]/h}a=new Array(i.k);for(var v=0;v<i.k;v++)a[v]=new Array(i.attributes.length);l=new Array(r.length);for(var g=0;g<r.length;g++)l[g]=new Array(i.k);for(var y=!0,w=0;y&&w<i.maxIterations;)y=!1,QN(a,r,s,l,i),XN(s,u,a,r,i),WN(s,u,i.sensitivityThreshold)||(y=!0),w++;return o=JN(r,s,i,n),{clusters:o,degreeOfMembership:s}},eR={kMeans:YN,kMedoids:KN,fuzzyCMeans:cw,fcm:cw},tR=Vt({distance:"euclidean",linkage:"min",mode:"threshold",threshold:1/0,addDendrogram:!1,dendrogramDepth:0,attributes:[]}),nR={single:"min",complete:"max"},rR=function(e){var n=tR(e),r=nR[n.linkage];return r!=null&&(n.linkage=r),n},dw=function(e,n,r,i,o){for(var a=0,s=1/0,u,l=o.attributes,c=function(C,N){return fc(o.distance,l.length,function(M){return l[M](C)},function(M){return l[M](N)},C,N)},d=0;d<e.length;d++){var f=e[d].key,h=r[f][i[f]];h<s&&(a=f,s=h)}if(o.mode==="threshold"&&s>=o.threshold||o.mode==="dendrogram"&&e.length===1)return!1;var p=n[a],m=n[i[a]],v;o.mode==="dendrogram"?v={left:p,right:m,key:p.key}:v={value:p.value.concat(m.value),key:p.key},e[p.index]=v,e.splice(m.index,1),n[p.key]=v;for(var g=0;g<e.length;g++){var y=e[g];p.key===y.key?u=1/0:o.linkage==="min"?(u=r[p.key][y.key],r[p.key][y.key]>r[m.key][y.key]&&(u=r[m.key][y.key])):o.linkage==="max"?(u=r[p.key][y.key],r[p.key][y.key]<r[m.key][y.key]&&(u=r[m.key][y.key])):o.linkage==="mean"?u=(r[p.key][y.key]*p.size+r[m.key][y.key]*m.size)/(p.size+m.size):o.mode==="dendrogram"?u=c(y.value,p.value):u=c(y.value[0],p.value[0]),r[p.key][y.key]=r[y.key][p.key]=u}for(var w=0;w<e.length;w++){var b=e[w].key;if(i[b]===p.key||i[b]===m.key){for(var I=b,E=0;E<e.length;E++){var D=e[E].key;r[b][D]<r[b][I]&&(I=D)}i[b]=I}e[w].index=w}return p.key=m.key=p.index=m.index=null,!0},_l=function t(e,n,r){e&&(e.value?n.push(e.value):(e.left&&t(e.left,n),e.right&&t(e.right,n)))},iR=function t(e,n){if(!e)return"";if(e.left&&e.right){var r=t(e.left,n),i=t(e.right,n),o=n.add({group:"nodes",data:{id:r+","+i}});return n.add({group:"edges",data:{source:r,target:o.id()}}),n.add({group:"edges",data:{source:i,target:o.id()}}),o.id()}else if(e.value)return e.value.id()},oR=function t(e,n,r){if(!e)return[];var i=[],o=[],a=[];return n===0?(e.left&&_l(e.left,i),e.right&&_l(e.right,o),a=i.concat(o),[r.collection(a)]):n===1?e.value?[r.collection(e.value)]:(e.left&&_l(e.left,i),e.right&&_l(e.right,o),[r.collection(i),r.collection(o)]):e.value?[r.collection(e.value)]:(e.left&&(i=t(e.left,n-1,r)),e.right&&(o=t(e.right,n-1,r)),i.concat(o))},fw=function(e){for(var n=this.cy(),r=this.nodes(),i=rR(e),o=i.attributes,a=function(w,b){return fc(i.distance,o.length,function(I){return o[I](w)},function(I){return o[I](b)},w,b)},s=[],u=[],l=[],c=[],d=0;d<r.length;d++){var f={value:i.mode==="dendrogram"?r[d]:[r[d]],key:d,index:d};s[d]=f,c[d]=f,u[d]=[],l[d]=0}for(var h=0;h<s.length;h++)for(var p=0;p<=h;p++){var m=void 0;i.mode==="dendrogram"?m=h===p?1/0:a(s[h].value,s[p].value):m=h===p?1/0:a(s[h].value[0],s[p].value[0]),u[h][p]=m,u[p][h]=m,m<u[h][l[h]]&&(l[h]=p)}for(var v=dw(s,c,u,l,i);v;)v=dw(s,c,u,l,i);var g;return i.mode==="dendrogram"?(g=oR(s[0],i.dendrogramDepth,n),i.addDendrogram&&iR(s[0],n)):(g=new Array(s.length),s.forEach(function(y,w){y.key=y.index=null,g[w]=n.collection(y.value)})),g},aR={hierarchicalClustering:fw,hca:fw},sR=Vt({distance:"euclidean",preference:"median",damping:.8,maxIterations:1e3,minIterations:100,attributes:[]}),uR=function(e){var n=e.damping,r=e.preference;.5<=n&&n<1||pt("Damping must range on [0.5, 1).  Got: ".concat(n));var i=["median","mean","min","max"];return i.some(function(o){return o===r})||ie(r)||pt("Preference must be one of [".concat(i.map(function(o){return"'".concat(o,"'")}).join(", "),"] or a number.  Got: ").concat(r)),sR(e)},lR=function(e,n,r,i){var o=function(s,u){return i[u](s)};return-fc(e,i.length,function(a){return o(n,a)},function(a){return o(r,a)},n,r)},cR=function(e,n){var r=null;return n==="median"?r=uN(e):n==="mean"?r=sN(e):n==="min"?r=oN(e):n==="max"?r=aN(e):r=n,r},dR=function(e,n,r){for(var i=[],o=0;o<e;o++)n[o*e+o]+r[o*e+o]>0&&i.push(o);return i},hw=function(e,n,r){for(var i=[],o=0;o<e;o++){for(var a=-1,s=-1/0,u=0;u<r.length;u++){var l=r[u];n[o*e+l]>s&&(a=l,s=n[o*e+l])}a>0&&i.push(a)}for(var c=0;c<r.length;c++)i[r[c]]=r[c];return i},fR=function(e,n,r){for(var i=hw(e,n,r),o=0;o<r.length;o++){for(var a=[],s=0;s<i.length;s++)i[s]===r[o]&&a.push(s);for(var u=-1,l=-1/0,c=0;c<a.length;c++){for(var d=0,f=0;f<a.length;f++)d+=n[a[f]*e+a[c]];d>l&&(u=c,l=d)}r[o]=a[u]}return i=hw(e,n,r),i},pw=function(e){for(var n=this.cy(),r=this.nodes(),i=uR(e),o={},a=0;a<r.length;a++)o[r[a].id()]=a;var s,u,l,c,d,f;s=r.length,u=s*s,l=new Array(u);for(var h=0;h<u;h++)l[h]=-1/0;for(var p=0;p<s;p++)for(var m=0;m<s;m++)p!==m&&(l[p*s+m]=lR(i.distance,r[p],r[m],i.attributes));c=cR(l,i.preference);for(var v=0;v<s;v++)l[v*s+v]=c;d=new Array(u);for(var g=0;g<u;g++)d[g]=0;f=new Array(u);for(var y=0;y<u;y++)f[y]=0;for(var w=new Array(s),b=new Array(s),I=new Array(s),E=0;E<s;E++)w[E]=0,b[E]=0,I[E]=0;for(var D=new Array(s*i.minIterations),S=0;S<D.length;S++)D[S]=0;var C;for(C=0;C<i.maxIterations;C++){for(var N=0;N<s;N++){for(var M=-1/0,A=-1/0,R=-1,T=0,O=0;O<s;O++)w[O]=d[N*s+O],T=f[N*s+O]+l[N*s+O],T>=M?(A=M,M=T,R=O):T>A&&(A=T);for(var _=0;_<s;_++)d[N*s+_]=(1-i.damping)*(l[N*s+_]-M)+i.damping*w[_];d[N*s+R]=(1-i.damping)*(l[N*s+R]-A)+i.damping*w[R]}for(var k=0;k<s;k++){for(var P=0,V=0;V<s;V++)w[V]=f[V*s+k],b[V]=Math.max(0,d[V*s+k]),P+=b[V];P-=b[k],b[k]=d[k*s+k],P+=b[k];for(var z=0;z<s;z++)f[z*s+k]=(1-i.damping)*Math.min(0,P-b[z])+i.damping*w[z];f[k*s+k]=(1-i.damping)*(P-b[k])+i.damping*w[k]}for(var B=0,$=0;$<s;$++){var W=f[$*s+$]+d[$*s+$]>0?1:0;D[C%i.minIterations*s+$]=W,B+=W}if(B>0&&(C>=i.minIterations-1||C==i.maxIterations-1)){for(var K=0,Q=0;Q<s;Q++){I[Q]=0;for(var X=0;X<i.minIterations;X++)I[Q]+=D[X*s+Q];(I[Q]===0||I[Q]===i.minIterations)&&K++}if(K===s)break}}for(var J=dR(s,d,f),q=fR(s,l,J),L={},U=0;U<J.length;U++)L[J[U]]=[];for(var Z=0;Z<r.length;Z++){var re=o[r[Z].id()],ve=q[re];ve!=null&&L[ve].push(r[Z])}for(var ne=new Array(J.length),te=0;te<J.length;te++)ne[te]=n.collection(L[J[te]]);return ne},hR={affinityPropagation:pw,ap:pw},pR=Vt({root:void 0,directed:!1}),gR={hierholzer:function(e){if(!Ue(e)){var n=arguments;e={root:n[0],directed:n[1]}}var r=pR(e),i=r.root,o=r.directed,a=this,s=!1,u,l,c;i&&(c=pe(i)?this.filter(i)[0].id():i[0].id());var d={},f={};o?a.forEach(function(y){var w=y.id();if(y.isNode()){var b=y.indegree(!0),I=y.outdegree(!0),E=b-I,D=I-b;E==1?u?s=!0:u=w:D==1?l?s=!0:l=w:(D>1||E>1)&&(s=!0),d[w]=[],y.outgoers().forEach(function(S){S.isEdge()&&d[w].push(S.id())})}else f[w]=[void 0,y.target().id()]}):a.forEach(function(y){var w=y.id();if(y.isNode()){var b=y.degree(!0);b%2&&(u?l?s=!0:l=w:u=w),d[w]=[],y.connectedEdges().forEach(function(I){return d[w].push(I.id())})}else f[w]=[y.source().id(),y.target().id()]});var h={found:!1,trail:void 0};if(s)return h;if(l&&u)if(o){if(c&&l!=c)return h;c=l}else{if(c&&l!=c&&u!=c)return h;c||(c=l)}else c||(c=a[0].id());var p=function(w){for(var b=w,I=[w],E,D,S;d[b].length;)E=d[b].shift(),D=f[E][0],S=f[E][1],b!=S?(d[S]=d[S].filter(function(C){return C!=E}),b=S):!o&&b!=D&&(d[D]=d[D].filter(function(C){return C!=E}),b=D),I.unshift(E),I.unshift(b);return I},m=[],v=[];for(v=p(c);v.length!=1;)d[v[0]].length==0?(m.unshift(a.getElementById(v.shift())),m.unshift(a.getElementById(v.shift()))):v=p(v.shift()).concat(v);m.unshift(a.getElementById(v.shift()));for(var g in d)if(d[g].length)return h;return h.found=!0,h.trail=this.spawn(m,!0),h}},kl=function(){var e=this,n={},r=0,i=0,o=[],a=[],s={},u=function(f,h){for(var p=a.length-1,m=[],v=e.spawn();a[p].x!=f||a[p].y!=h;)m.push(a.pop().edge),p--;m.push(a.pop().edge),m.forEach(function(g){var y=g.connectedNodes().intersection(e);v.merge(g),y.forEach(function(w){var b=w.id(),I=w.connectedEdges().intersection(e);v.merge(w),n[b].cutVertex?v.merge(I.filter(function(E){return E.isLoop()})):v.merge(I)})}),o.push(v)},l=function d(f,h,p){f===p&&(i+=1),n[h]={id:r,low:r++,cutVertex:!1};var m=e.getElementById(h).connectedEdges().intersection(e);if(m.size()===0)o.push(e.spawn(e.getElementById(h)));else{var v,g,y,w;m.forEach(function(b){v=b.source().id(),g=b.target().id(),y=v===h?g:v,y!==p&&(w=b.id(),s[w]||(s[w]=!0,a.push({x:h,y,edge:b})),y in n?n[h].low=Math.min(n[h].low,n[y].id):(d(f,y,h),n[h].low=Math.min(n[h].low,n[y].low),n[h].id<=n[y].low&&(n[h].cutVertex=!0,u(h,y))))})}};e.forEach(function(d){if(d.isNode()){var f=d.id();f in n||(i=0,l(f,f),n[f].cutVertex=i>1)}});var c=Object.keys(n).filter(function(d){return n[d].cutVertex}).map(function(d){return e.getElementById(d)});return{cut:e.spawn(c),components:o}},vR={hopcroftTarjanBiconnected:kl,htbc:kl,htb:kl,hopcroftTarjanBiconnectedComponents:kl},Ol=function(){var e=this,n={},r=0,i=[],o=[],a=e.spawn(e),s=function u(l){o.push(l),n[l]={index:r,low:r++,explored:!1};var c=e.getElementById(l).connectedEdges().intersection(e);if(c.forEach(function(m){var v=m.target().id();v!==l&&(v in n||u(v),n[v].explored||(n[l].low=Math.min(n[l].low,n[v].low)))}),n[l].index===n[l].low){for(var d=e.spawn();;){var f=o.pop();if(d.merge(e.getElementById(f)),n[f].low=n[l].index,n[f].explored=!0,f===l)break}var h=d.edgesWith(d),p=d.merge(h);i.push(p),a=a.difference(p)}};return e.forEach(function(u){if(u.isNode()){var l=u.id();l in n||s(l)}}),{cut:a,components:i}},mR={tarjanStronglyConnected:Ol,tsc:Ol,tscc:Ol,tarjanStronglyConnectedComponents:Ol},Bb={};[bs,WA,ZA,KA,XA,eN,rN,MN,jo,Ho,ip,jN,eR,aR,hR,gR,vR,mR].forEach(function(t){ye(Bb,t)});var Vb=0,$b=1,jb=2,Cr=function t(e){if(!(this instanceof t))return new t(e);this.id="Thenable/1.0.7",this.state=Vb,this.fulfillValue=void 0,this.rejectReason=void 0,this.onFulfilled=[],this.onRejected=[],this.proxy={then:this.then.bind(this)},typeof e=="function"&&e.call(this,this.fulfill.bind(this),this.reject.bind(this))};Cr.prototype={fulfill:function(e){return gw(this,$b,"fulfillValue",e)},reject:function(e){return gw(this,jb,"rejectReason",e)},then:function(e,n){var r=this,i=new Cr;return r.onFulfilled.push(mw(e,i,"fulfill")),r.onRejected.push(mw(n,i,"reject")),Hb(r),i.proxy}};var gw=function(e,n,r,i){return e.state===Vb&&(e.state=n,e[r]=i,Hb(e)),e},Hb=function(e){e.state===$b?vw(e,"onFulfilled",e.fulfillValue):e.state===jb&&vw(e,"onRejected",e.rejectReason)},vw=function(e,n,r){if(e[n].length!==0){var i=e[n];e[n]=[];var o=function(){for(var s=0;s<i.length;s++)i[s](r)};typeof setImmediate=="function"?setImmediate(o):setTimeout(o,0)}},mw=function(e,n,r){return function(i){if(typeof e!="function")n[r].call(n,i);else{var o;try{o=e(i)}catch(a){n.reject(a);return}yR(n,o)}}},yR=function t(e,n){if(e===n||e.proxy===n){e.reject(new TypeError("cannot resolve promise with itself"));return}var r;if(St(n)==="object"&&n!==null||typeof n=="function")try{r=n.then}catch(o){e.reject(o);return}if(typeof r=="function"){var i=!1;try{r.call(n,function(o){i||(i=!0,o===n?e.reject(new TypeError("circular thenable chain")):t(e,o))},function(o){i||(i=!0,e.reject(o))})}catch(o){i||e.reject(o)}return}e.fulfill(n)};Cr.all=function(t){return new Cr(function(e,n){for(var r=new Array(t.length),i=0,o=function(u,l){r[u]=l,i++,i===t.length&&e(r)},a=0;a<t.length;a++)(function(s){var u=t[s],l=u!=null&&u.then!=null;if(l)u.then(function(d){o(s,d)},function(d){n(d)});else{var c=u;o(s,c)}})(a)})};Cr.resolve=function(t){return new Cr(function(e,n){e(t)})};Cr.reject=function(t){return new Cr(function(e,n){n(t)})};var Yo=typeof Promise<"u"?Promise:Cr,op=function(e,n,r){var i=bp(e),o=!i,a=this._private=ye({duration:1e3},n,r);if(a.target=e,a.style=a.style||a.css,a.started=!1,a.playing=!1,a.hooked=!1,a.applying=!1,a.progress=0,a.completes=[],a.frames=[],a.complete&&ht(a.complete)&&a.completes.push(a.complete),o){var s=e.position();a.startPosition=a.startPosition||{x:s.x,y:s.y},a.startStyle=a.startStyle||e.cy().style().getAnimationStartStyle(e,a.style)}if(i){var u=e.pan();a.startPan={x:u.x,y:u.y},a.startZoom=e.zoom()}this.length=1,this[0]=this},Oi=op.prototype;ye(Oi,{instanceString:function(){return"animation"},hook:function(){var e=this._private;if(!e.hooked){var n,r=e.target._private.animation;e.queue?n=r.queue:n=r.current,n.push(this),gn(e.target)&&e.target.cy().addToAnimationPool(e.target),e.hooked=!0}return this},play:function(){var e=this._private;return e.progress===1&&(e.progress=0),e.playing=!0,e.started=!1,e.stopped=!1,this.hook(),this},playing:function(){return this._private.playing},apply:function(){var e=this._private;return e.applying=!0,e.started=!1,e.stopped=!1,this.hook(),this},applying:function(){return this._private.applying},pause:function(){var e=this._private;return e.playing=!1,e.started=!1,this},stop:function(){var e=this._private;return e.playing=!1,e.started=!1,e.stopped=!0,this},rewind:function(){return this.progress(0)},fastforward:function(){return this.progress(1)},time:function(e){var n=this._private;return e===void 0?n.progress*n.duration:this.progress(e/n.duration)},progress:function(e){var n=this._private,r=n.playing;return e===void 0?n.progress:(r&&this.pause(),n.progress=e,n.started=!1,r&&this.play(),this)},completed:function(){return this._private.progress===1},reverse:function(){var e=this._private,n=e.playing;n&&this.pause(),e.progress=1-e.progress,e.started=!1;var r=function(l,c){var d=e[l];d!=null&&(e[l]=e[c],e[c]=d)};if(r("zoom","startZoom"),r("pan","startPan"),r("position","startPosition"),e.style)for(var i=0;i<e.style.length;i++){var o=e.style[i],a=o.name,s=e.startStyle[a];e.startStyle[a]=o,e.style[i]=s}return n&&this.play(),this},promise:function(e){var n=this._private,r;switch(e){case"frame":r=n.frames;break;default:case"complete":case"completed":r=n.completes}return new Yo(function(i,o){r.push(function(){i()})})}});Oi.complete=Oi.completed;Oi.run=Oi.play;Oi.running=Oi.playing;var wR={animated:function(){return function(){var n=this,r=n.length!==void 0,i=r?n:[n],o=this._private.cy||this;if(!o.styleEnabled())return!1;var a=i[0];if(a)return a._private.animation.current.length>0}},clearQueue:function(){return function(){var n=this,r=n.length!==void 0,i=r?n:[n],o=this._private.cy||this;if(!o.styleEnabled())return this;for(var a=0;a<i.length;a++){var s=i[a];s._private.animation.queue=[]}return this}},delay:function(){return function(n,r){var i=this._private.cy||this;return i.styleEnabled()?this.animate({delay:n,duration:n,complete:r}):this}},delayAnimation:function(){return function(n,r){var i=this._private.cy||this;return i.styleEnabled()?this.animation({delay:n,duration:n,complete:r}):this}},animation:function(){return function(n,r){var i=this,o=i.length!==void 0,a=o?i:[i],s=this._private.cy||this,u=!o,l=!u;if(!s.styleEnabled())return this;var c=s.style();n=ye({},n,r);var d=Object.keys(n).length===0;if(d)return new op(a[0],n);switch(n.duration===void 0&&(n.duration=400),n.duration){case"slow":n.duration=600;break;case"fast":n.duration=200;break}if(l&&(n.style=c.getPropsList(n.style||n.css),n.css=void 0),l&&n.renderedPosition!=null){var f=n.renderedPosition,h=s.pan(),p=s.zoom();n.position=Tb(f,p,h)}if(u&&n.panBy!=null){var m=n.panBy,v=s.pan();n.pan={x:v.x+m.x,y:v.y+m.y}}var g=n.center||n.centre;if(u&&g!=null){var y=s.getCenterPan(g.eles,n.zoom);y!=null&&(n.pan=y)}if(u&&n.fit!=null){var w=n.fit,b=s.getFitViewport(w.eles||w.boundingBox,w.padding);b!=null&&(n.pan=b.pan,n.zoom=b.zoom)}if(u&&Ue(n.zoom)){var I=s.getZoomedViewport(n.zoom);I!=null?(I.zoomed&&(n.zoom=I.zoom),I.panned&&(n.pan=I.pan)):n.zoom=null}return new op(a[0],n)}},animate:function(){return function(n,r){var i=this,o=i.length!==void 0,a=o?i:[i],s=this._private.cy||this;if(!s.styleEnabled())return this;r&&(n=ye({},n,r));for(var u=0;u<a.length;u++){var l=a[u],c=l.animated()&&(n.queue===void 0||n.queue),d=l.animation(n,c?{queue:!0}:void 0);d.play()}return this}},stop:function(){return function(n,r){var i=this,o=i.length!==void 0,a=o?i:[i],s=this._private.cy||this;if(!s.styleEnabled())return this;for(var u=0;u<a.length;u++){for(var l=a[u],c=l._private,d=c.animation.current,f=0;f<d.length;f++){var h=d[f],p=h._private;r&&(p.duration=0)}n&&(c.animation.queue=[]),r||(c.animation.current=[])}return s.notify("draw"),this}}},bR=Array.isArray,hc=bR,DR=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ER=/^\w*$/;function CR(t,e){if(hc(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||Ns(t)?!0:ER.test(t)||!DR.test(t)||e!=null&&t in Object(e)}var IR=CR,SR="[object AsyncFunction]",xR="[object Function]",TR="[object GeneratorFunction]",MR="[object Proxy]";function AR(t){if(!Ni(t))return!1;var e=yb(t);return e==xR||e==TR||e==SR||e==MR}var NR=AR,RR=uc["__core-js_shared__"],Zh=RR,yw=function(){var t=/[^.]+$/.exec(Zh&&Zh.keys&&Zh.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function _R(t){return!!yw&&yw in t}var kR=_R,OR=Function.prototype,PR=OR.toString;function LR(t){if(t!=null){try{return PR.call(t)}catch{}try{return t+""}catch{}}return""}var FR=LR,BR=/[\\^$.*+?()[\]{}|]/g,VR=/^\[object .+?Constructor\]$/,$R=Function.prototype,jR=Object.prototype,HR=$R.toString,zR=jR.hasOwnProperty,UR=RegExp("^"+HR.call(zR).replace(BR,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function qR(t){if(!Ni(t)||kR(t))return!1;var e=NR(t)?UR:VR;return e.test(FR(t))}var GR=qR;function WR(t,e){return t?.[e]}var ZR=WR;function YR(t,e){var n=ZR(t,e);return GR(n)?n:void 0}var Ap=YR,KR=Ap(Object,"create"),Cs=KR;function QR(){this.__data__=Cs?Cs(null):{},this.size=0}var XR=QR;function JR(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var e_=JR,t_="__lodash_hash_undefined__",n_=Object.prototype,r_=n_.hasOwnProperty;function i_(t){var e=this.__data__;if(Cs){var n=e[t];return n===t_?void 0:n}return r_.call(e,t)?e[t]:void 0}var o_=i_,a_=Object.prototype,s_=a_.hasOwnProperty;function u_(t){var e=this.__data__;return Cs?e[t]!==void 0:s_.call(e,t)}var l_=u_,c_="__lodash_hash_undefined__";function d_(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Cs&&e===void 0?c_:e,this}var f_=d_;function Ko(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Ko.prototype.clear=XR;Ko.prototype.delete=e_;Ko.prototype.get=o_;Ko.prototype.has=l_;Ko.prototype.set=f_;var ww=Ko;function h_(){this.__data__=[],this.size=0}var p_=h_;function g_(t,e){return t===e||t!==t&&e!==e}var zb=g_;function v_(t,e){for(var n=t.length;n--;)if(zb(t[n][0],e))return n;return-1}var pc=v_,m_=Array.prototype,y_=m_.splice;function w_(t){var e=this.__data__,n=pc(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():y_.call(e,n,1),--this.size,!0}var b_=w_;function D_(t){var e=this.__data__,n=pc(e,t);return n<0?void 0:e[n][1]}var E_=D_;function C_(t){return pc(this.__data__,t)>-1}var I_=C_;function S_(t,e){var n=this.__data__,r=pc(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var x_=S_;function Qo(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Qo.prototype.clear=p_;Qo.prototype.delete=b_;Qo.prototype.get=E_;Qo.prototype.has=I_;Qo.prototype.set=x_;var T_=Qo,M_=Ap(uc,"Map"),A_=M_;function N_(){this.size=0,this.__data__={hash:new ww,map:new(A_||T_),string:new ww}}var R_=N_;function __(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var k_=__;function O_(t,e){var n=t.__data__;return k_(e)?n[typeof e=="string"?"string":"hash"]:n.map}var gc=O_;function P_(t){var e=gc(this,t).delete(t);return this.size-=e?1:0,e}var L_=P_;function F_(t){return gc(this,t).get(t)}var B_=F_;function V_(t){return gc(this,t).has(t)}var $_=V_;function j_(t,e){var n=gc(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var H_=j_;function Xo(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Xo.prototype.clear=R_;Xo.prototype.delete=L_;Xo.prototype.get=B_;Xo.prototype.has=$_;Xo.prototype.set=H_;var Ub=Xo,z_="Expected a function";function Np(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(z_);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(Np.Cache||Ub),n}Np.Cache=Ub;var U_=Np,q_=500;function G_(t){var e=U_(t,function(r){return n.size===q_&&n.clear(),r}),n=e.cache;return e}var W_=G_,Z_=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Y_=/\\(\\)?/g,K_=W_(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(Z_,function(n,r,i,o){e.push(i?o.replace(Y_,"$1"):r||n)}),e}),qb=K_;function Q_(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var Gb=Q_,X_=1/0,bw=Uo?Uo.prototype:void 0,Dw=bw?bw.toString:void 0;function Wb(t){if(typeof t=="string")return t;if(hc(t))return Gb(t,Wb)+"";if(Ns(t))return Dw?Dw.call(t):"";var e=t+"";return e=="0"&&1/t==-X_?"-0":e}var J_=Wb;function ek(t){return t==null?"":J_(t)}var Zb=ek;function tk(t,e){return hc(t)?t:IR(t,e)?[t]:qb(Zb(t))}var Yb=tk,nk=1/0;function rk(t){if(typeof t=="string"||Ns(t))return t;var e=t+"";return e=="0"&&1/t==-nk?"-0":e}var Rp=rk;function ik(t,e){e=Yb(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[Rp(e[n++])];return n&&n==r?t:void 0}var ok=ik;function ak(t,e,n){var r=t==null?void 0:ok(t,e);return r===void 0?n:r}var sk=ak,uk=function(){try{var t=Ap(Object,"defineProperty");return t({},"",{}),t}catch{}}(),Ew=uk;function lk(t,e,n){e=="__proto__"&&Ew?Ew(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var ck=lk,dk=Object.prototype,fk=dk.hasOwnProperty;function hk(t,e,n){var r=t[e];(!(fk.call(t,e)&&zb(r,n))||n===void 0&&!(e in t))&&ck(t,e,n)}var pk=hk,gk=9007199254740991,vk=/^(?:0|[1-9]\d*)$/;function mk(t,e){var n=typeof t;return e=e??gk,!!e&&(n=="number"||n!="symbol"&&vk.test(t))&&t>-1&&t%1==0&&t<e}var yk=mk;function wk(t,e,n,r){if(!Ni(t))return t;e=Yb(e,t);for(var i=-1,o=e.length,a=o-1,s=t;s!=null&&++i<o;){var u=Rp(e[i]),l=n;if(u==="__proto__"||u==="constructor"||u==="prototype")return t;if(i!=a){var c=s[u];l=r?r(c,u,s):void 0,l===void 0&&(l=Ni(c)?c:yk(e[i+1])?[]:{})}pk(s,u,l),s=s[u]}return t}var bk=wk;function Dk(t,e,n){return t==null?t:bk(t,e,n)}var Ek=Dk;function Ck(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}var Ik=Ck;function Sk(t){return hc(t)?Gb(t,Rp):Ns(t)?[t]:Ik(qb(Zb(t)))}var xk=Sk,Tk={data:function(e){var n={field:"data",bindingEvent:"data",allowBinding:!1,allowSetting:!1,allowGetting:!1,settingEvent:"data",settingTriggersEvent:!1,triggerFnName:"trigger",immutableKeys:{},updateStyle:!1,beforeGet:function(i){},beforeSet:function(i,o){},onSet:function(i){},canSet:function(i){return!0}};return e=ye({},n,e),function(i,o){var a=e,s=this,u=s.length!==void 0,l=u?s:[s],c=u?s[0]:s;if(pe(i)){var d=i.indexOf(".")!==-1,f=d&&xk(i);if(a.allowGetting&&o===void 0){var h;return c&&(a.beforeGet(c),f&&c._private[a.field][i]===void 0?h=sk(c._private[a.field],f):h=c._private[a.field][i]),h}else if(a.allowSetting&&o!==void 0){var p=!a.immutableKeys[i];if(p){var m=sb({},i,o);a.beforeSet(s,m);for(var v=0,g=l.length;v<g;v++){var y=l[v];a.canSet(y)&&(f&&c._private[a.field][i]===void 0?Ek(y._private[a.field],f,o):y._private[a.field][i]=o)}a.updateStyle&&s.updateStyle(),a.onSet(s),a.settingTriggersEvent&&s[a.triggerFnName](a.settingEvent)}}}else if(a.allowSetting&&Ue(i)){var w=i,b,I,E=Object.keys(w);a.beforeSet(s,w);for(var D=0;D<E.length;D++){b=E[D],I=w[b];var S=!a.immutableKeys[b];if(S)for(var C=0;C<l.length;C++){var N=l[C];a.canSet(N)&&(N._private[a.field][b]=I)}}a.updateStyle&&s.updateStyle(),a.onSet(s),a.settingTriggersEvent&&s[a.triggerFnName](a.settingEvent)}else if(a.allowBinding&&ht(i)){var M=i;s.on(a.bindingEvent,M)}else if(a.allowGetting&&i===void 0){var A;return c&&(a.beforeGet(c),A=c._private[a.field]),A}return s}},removeData:function(e){var n={field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!1,immutableKeys:{}};return e=ye({},n,e),function(i){var o=e,a=this,s=a.length!==void 0,u=s?a:[a];if(pe(i)){for(var l=i.split(/\s+/),c=l.length,d=0;d<c;d++){var f=l[d];if(!Ur(f)){var h=!o.immutableKeys[f];if(h)for(var p=0,m=u.length;p<m;p++)u[p]._private[o.field][f]=void 0}}o.triggerEvent&&a[o.triggerFnName](o.event)}else if(i===void 0){for(var v=0,g=u.length;v<g;v++)for(var y=u[v]._private[o.field],w=Object.keys(y),b=0;b<w.length;b++){var I=w[b],E=!o.immutableKeys[I];E&&(y[I]=void 0)}o.triggerEvent&&a[o.triggerFnName](o.event)}return a}}},Mk={eventAliasesOn:function(e){var n=e;n.addListener=n.listen=n.bind=n.on,n.unlisten=n.unbind=n.off=n.removeListener,n.trigger=n.emit,n.pon=n.promiseOn=function(r,i){var o=this,a=Array.prototype.slice.call(arguments,0);return new Yo(function(s,u){var l=function(h){o.off.apply(o,d),s(h)},c=a.concat([l]),d=c.concat([]);o.on.apply(o,c)})}}},Qe={};[wR,Tk,Mk].forEach(function(t){ye(Qe,t)});var Ak={animate:Qe.animate(),animation:Qe.animation(),animated:Qe.animated(),clearQueue:Qe.clearQueue(),delay:Qe.delay(),delayAnimation:Qe.delayAnimation(),stop:Qe.stop()},zl={classes:function(e){var n=this;if(e===void 0){var r=[];return n[0]._private.classes.forEach(function(p){return r.push(p)}),r}else ot(e)||(e=(e||"").match(/\S+/g)||[]);for(var i=[],o=new Zo(e),a=0;a<n.length;a++){for(var s=n[a],u=s._private,l=u.classes,c=!1,d=0;d<e.length;d++){var f=e[d],h=l.has(f);if(!h){c=!0;break}}c||(c=l.size!==e.length),c&&(u.classes=o,i.push(s))}return i.length>0&&this.spawn(i).updateStyle().emit("class"),n},addClass:function(e){return this.toggleClass(e,!0)},hasClass:function(e){var n=this[0];return n!=null&&n._private.classes.has(e)},toggleClass:function(e,n){ot(e)||(e=e.match(/\S+/g)||[]);for(var r=this,i=n===void 0,o=[],a=0,s=r.length;a<s;a++)for(var u=r[a],l=u._private.classes,c=!1,d=0;d<e.length;d++){var f=e[d],h=l.has(f),p=!1;n||i&&!h?(l.add(f),p=!0):(!n||i&&h)&&(l.delete(f),p=!0),!c&&p&&(o.push(u),c=!0)}return o.length>0&&this.spawn(o).updateStyle().emit("class"),r},removeClass:function(e){return this.toggleClass(e,!1)},flashClass:function(e,n){var r=this;if(n==null)n=250;else if(n===0)return r;return r.addClass(e),setTimeout(function(){r.removeClass(e)},n),r}};zl.className=zl.classNames=zl.classes;var ze={metaChar:"[\\!\\\"\\#\\$\\%\\&\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]",comparatorOp:"=|\\!=|>|>=|<|<=|\\$=|\\^=|\\*=",boolOp:"\\?|\\!|\\^",string:`"(?:\\\\"|[^"])*"|'(?:\\\\'|[^'])*'`,number:It,meta:"degree|indegree|outdegree",separator:"\\s*,\\s*",descendant:"\\s+",child:"\\s+>\\s+",subject:"\\$",group:"node|edge|\\*",directedEdge:"\\s+->\\s+",undirectedEdge:"\\s+<->\\s+"};ze.variable="(?:[\\w-.]|(?:\\\\"+ze.metaChar+"))+";ze.className="(?:[\\w-]|(?:\\\\"+ze.metaChar+"))+";ze.value=ze.string+"|"+ze.number;ze.id=ze.variable;(function(){var t,e,n;for(t=ze.comparatorOp.split("|"),n=0;n<t.length;n++)e=t[n],ze.comparatorOp+="|@"+e;for(t=ze.comparatorOp.split("|"),n=0;n<t.length;n++)e=t[n],!(e.indexOf("!")>=0)&&e!=="="&&(ze.comparatorOp+="|\\!"+e)})();var rt=function(){return{checks:[]}},le={GROUP:0,COLLECTION:1,FILTER:2,DATA_COMPARE:3,DATA_EXIST:4,DATA_BOOL:5,META_COMPARE:6,STATE:7,ID:8,CLASS:9,UNDIRECTED_EDGE:10,DIRECTED_EDGE:11,NODE_SOURCE:12,NODE_TARGET:13,NODE_NEIGHBOR:14,CHILD:15,DESCENDANT:16,PARENT:17,ANCESTOR:18,COMPOUND_SPLIT:19,TRUE:20},ap=[{selector:":selected",matches:function(e){return e.selected()}},{selector:":unselected",matches:function(e){return!e.selected()}},{selector:":selectable",matches:function(e){return e.selectable()}},{selector:":unselectable",matches:function(e){return!e.selectable()}},{selector:":locked",matches:function(e){return e.locked()}},{selector:":unlocked",matches:function(e){return!e.locked()}},{selector:":visible",matches:function(e){return e.visible()}},{selector:":hidden",matches:function(e){return!e.visible()}},{selector:":transparent",matches:function(e){return e.transparent()}},{selector:":grabbed",matches:function(e){return e.grabbed()}},{selector:":free",matches:function(e){return!e.grabbed()}},{selector:":removed",matches:function(e){return e.removed()}},{selector:":inside",matches:function(e){return!e.removed()}},{selector:":grabbable",matches:function(e){return e.grabbable()}},{selector:":ungrabbable",matches:function(e){return!e.grabbable()}},{selector:":animated",matches:function(e){return e.animated()}},{selector:":unanimated",matches:function(e){return!e.animated()}},{selector:":parent",matches:function(e){return e.isParent()}},{selector:":childless",matches:function(e){return e.isChildless()}},{selector:":child",matches:function(e){return e.isChild()}},{selector:":orphan",matches:function(e){return e.isOrphan()}},{selector:":nonorphan",matches:function(e){return e.isChild()}},{selector:":compound",matches:function(e){return e.isNode()?e.isParent():e.source().isParent()||e.target().isParent()}},{selector:":loop",matches:function(e){return e.isLoop()}},{selector:":simple",matches:function(e){return e.isSimple()}},{selector:":active",matches:function(e){return e.active()}},{selector:":inactive",matches:function(e){return!e.active()}},{selector:":backgrounding",matches:function(e){return e.backgrounding()}},{selector:":nonbackgrounding",matches:function(e){return!e.backgrounding()}}].sort(function(t,e){return j1(t.selector,e.selector)}),Nk=function(){for(var t={},e,n=0;n<ap.length;n++)e=ap[n],t[e.selector]=e.matches;return t}(),Rk=function(e,n){return Nk[e](n)},_k="("+ap.map(function(t){return t.selector}).join("|")+")",_o=function(e){return e.replace(new RegExp("\\\\("+ze.metaChar+")","g"),function(n,r){return r})},Vr=function(e,n,r){e[e.length-1]=r},sp=[{name:"group",query:!0,regex:"("+ze.group+")",populate:function(e,n,r){var i=Vn(r,1),o=i[0];n.checks.push({type:le.GROUP,value:o==="*"?o:o+"s"})}},{name:"state",query:!0,regex:_k,populate:function(e,n,r){var i=Vn(r,1),o=i[0];n.checks.push({type:le.STATE,value:o})}},{name:"id",query:!0,regex:"\\#("+ze.id+")",populate:function(e,n,r){var i=Vn(r,1),o=i[0];n.checks.push({type:le.ID,value:_o(o)})}},{name:"className",query:!0,regex:"\\.("+ze.className+")",populate:function(e,n,r){var i=Vn(r,1),o=i[0];n.checks.push({type:le.CLASS,value:_o(o)})}},{name:"dataExists",query:!0,regex:"\\[\\s*("+ze.variable+")\\s*\\]",populate:function(e,n,r){var i=Vn(r,1),o=i[0];n.checks.push({type:le.DATA_EXIST,field:_o(o)})}},{name:"dataCompare",query:!0,regex:"\\[\\s*("+ze.variable+")\\s*("+ze.comparatorOp+")\\s*("+ze.value+")\\s*\\]",populate:function(e,n,r){var i=Vn(r,3),o=i[0],a=i[1],s=i[2],u=new RegExp("^"+ze.string+"$").exec(s)!=null;u?s=s.substring(1,s.length-1):s=parseFloat(s),n.checks.push({type:le.DATA_COMPARE,field:_o(o),operator:a,value:s})}},{name:"dataBool",query:!0,regex:"\\[\\s*("+ze.boolOp+")\\s*("+ze.variable+")\\s*\\]",populate:function(e,n,r){var i=Vn(r,2),o=i[0],a=i[1];n.checks.push({type:le.DATA_BOOL,field:_o(a),operator:o})}},{name:"metaCompare",query:!0,regex:"\\[\\[\\s*("+ze.meta+")\\s*("+ze.comparatorOp+")\\s*("+ze.number+")\\s*\\]\\]",populate:function(e,n,r){var i=Vn(r,3),o=i[0],a=i[1],s=i[2];n.checks.push({type:le.META_COMPARE,field:_o(o),operator:a,value:parseFloat(s)})}},{name:"nextQuery",separator:!0,regex:ze.separator,populate:function(e,n){var r=e.currentSubject,i=e.edgeCount,o=e.compoundCount,a=e[e.length-1];r!=null&&(a.subject=r,e.currentSubject=null),a.edgeCount=i,a.compoundCount=o,e.edgeCount=0,e.compoundCount=0;var s=e[e.length++]=rt();return s}},{name:"directedEdge",separator:!0,regex:ze.directedEdge,populate:function(e,n){if(e.currentSubject==null){var r=rt(),i=n,o=rt();return r.checks.push({type:le.DIRECTED_EDGE,source:i,target:o}),Vr(e,n,r),e.edgeCount++,o}else{var a=rt(),s=n,u=rt();return a.checks.push({type:le.NODE_SOURCE,source:s,target:u}),Vr(e,n,a),e.edgeCount++,u}}},{name:"undirectedEdge",separator:!0,regex:ze.undirectedEdge,populate:function(e,n){if(e.currentSubject==null){var r=rt(),i=n,o=rt();return r.checks.push({type:le.UNDIRECTED_EDGE,nodes:[i,o]}),Vr(e,n,r),e.edgeCount++,o}else{var a=rt(),s=n,u=rt();return a.checks.push({type:le.NODE_NEIGHBOR,node:s,neighbor:u}),Vr(e,n,a),u}}},{name:"child",separator:!0,regex:ze.child,populate:function(e,n){if(e.currentSubject==null){var r=rt(),i=rt(),o=e[e.length-1];return r.checks.push({type:le.CHILD,parent:o,child:i}),Vr(e,n,r),e.compoundCount++,i}else if(e.currentSubject===n){var a=rt(),s=e[e.length-1],u=rt(),l=rt(),c=rt(),d=rt();return a.checks.push({type:le.COMPOUND_SPLIT,left:s,right:u,subject:l}),l.checks=n.checks,n.checks=[{type:le.TRUE}],d.checks.push({type:le.TRUE}),u.checks.push({type:le.PARENT,parent:d,child:c}),Vr(e,s,a),e.currentSubject=l,e.compoundCount++,c}else{var f=rt(),h=rt(),p=[{type:le.PARENT,parent:f,child:h}];return f.checks=n.checks,n.checks=p,e.compoundCount++,h}}},{name:"descendant",separator:!0,regex:ze.descendant,populate:function(e,n){if(e.currentSubject==null){var r=rt(),i=rt(),o=e[e.length-1];return r.checks.push({type:le.DESCENDANT,ancestor:o,descendant:i}),Vr(e,n,r),e.compoundCount++,i}else if(e.currentSubject===n){var a=rt(),s=e[e.length-1],u=rt(),l=rt(),c=rt(),d=rt();return a.checks.push({type:le.COMPOUND_SPLIT,left:s,right:u,subject:l}),l.checks=n.checks,n.checks=[{type:le.TRUE}],d.checks.push({type:le.TRUE}),u.checks.push({type:le.ANCESTOR,ancestor:d,descendant:c}),Vr(e,s,a),e.currentSubject=l,e.compoundCount++,c}else{var f=rt(),h=rt(),p=[{type:le.ANCESTOR,ancestor:f,descendant:h}];return f.checks=n.checks,n.checks=p,e.compoundCount++,h}}},{name:"subject",modifier:!0,regex:ze.subject,populate:function(e,n){if(e.currentSubject!=null&&e.currentSubject!==n)return Xe("Redefinition of subject in selector `"+e.toString()+"`"),!1;e.currentSubject=n;var r=e[e.length-1],i=r.checks[0],o=i==null?null:i.type;o===le.DIRECTED_EDGE?i.type=le.NODE_TARGET:o===le.UNDIRECTED_EDGE&&(i.type=le.NODE_NEIGHBOR,i.node=i.nodes[1],i.neighbor=i.nodes[0],i.nodes=null)}}];sp.forEach(function(t){return t.regexObj=new RegExp("^"+t.regex)});var kk=function(e){for(var n,r,i,o=0;o<sp.length;o++){var a=sp[o],s=a.name,u=e.match(a.regexObj);if(u!=null){r=u,n=a,i=s;var l=u[0];e=e.substring(l.length);break}}return{expr:n,match:r,name:i,remaining:e}},Ok=function(e){var n=e.match(/^\s+/);if(n){var r=n[0];e=e.substring(r.length)}return e},Pk=function(e){var n=this,r=n.inputText=e,i=n[0]=rt();for(n.length=1,r=Ok(r);;){var o=kk(r);if(o.expr==null)return Xe("The selector `"+e+"`is invalid"),!1;var a=o.match.slice(1),s=o.expr.populate(n,i,a);if(s===!1)return!1;if(s!=null&&(i=s),r=o.remaining,r.match(/^\s*$/))break}var u=n[n.length-1];n.currentSubject!=null&&(u.subject=n.currentSubject),u.edgeCount=n.edgeCount,u.compoundCount=n.compoundCount;for(var l=0;l<n.length;l++){var c=n[l];if(c.compoundCount>0&&c.edgeCount>0)return Xe("The selector `"+e+"` is invalid because it uses both a compound selector and an edge selector"),!1;if(c.edgeCount>1)return Xe("The selector `"+e+"` is invalid because it uses multiple edge selectors"),!1;c.edgeCount===1&&Xe("The selector `"+e+"` is deprecated.  Edge selectors do not take effect on changes to source and target nodes after an edge is added, for performance reasons.  Use a class or data selector on edges instead, updating the class or data of an edge when your app detects a change in source or target nodes.")}return!0},Lk=function(){if(this.toStringCache!=null)return this.toStringCache;for(var e=function(c){return c??""},n=function(c){return pe(c)?'"'+c+'"':e(c)},r=function(c){return" "+c+" "},i=function(c,d){var f=c.type,h=c.value;switch(f){case le.GROUP:{var p=e(h);return p.substring(0,p.length-1)}case le.DATA_COMPARE:{var m=c.field,v=c.operator;return"["+m+r(e(v))+n(h)+"]"}case le.DATA_BOOL:{var g=c.operator,y=c.field;return"["+e(g)+y+"]"}case le.DATA_EXIST:{var w=c.field;return"["+w+"]"}case le.META_COMPARE:{var b=c.operator,I=c.field;return"[["+I+r(e(b))+n(h)+"]]"}case le.STATE:return h;case le.ID:return"#"+h;case le.CLASS:return"."+h;case le.PARENT:case le.CHILD:return o(c.parent,d)+r(">")+o(c.child,d);case le.ANCESTOR:case le.DESCENDANT:return o(c.ancestor,d)+" "+o(c.descendant,d);case le.COMPOUND_SPLIT:{var E=o(c.left,d),D=o(c.subject,d),S=o(c.right,d);return E+(E.length>0?" ":"")+D+S}case le.TRUE:return""}},o=function(c,d){return c.checks.reduce(function(f,h,p){return f+(d===c&&p===0?"$":"")+i(h,d)},"")},a="",s=0;s<this.length;s++){var u=this[s];a+=o(u,u.subject),this.length>1&&s<this.length-1&&(a+=", ")}return this.toStringCache=a,a},Fk={parse:Pk,toString:Lk},Kb=function(e,n,r){var i,o=pe(e),a=ie(e),s=pe(r),u,l,c=!1,d=!1,f=!1;switch(n.indexOf("!")>=0&&(n=n.replace("!",""),d=!0),n.indexOf("@")>=0&&(n=n.replace("@",""),c=!0),(o||s||c)&&(u=!o&&!a?"":""+e,l=""+r),c&&(e=u=u.toLowerCase(),r=l=l.toLowerCase()),n){case"*=":i=u.indexOf(l)>=0;break;case"$=":i=u.indexOf(l,u.length-l.length)>=0;break;case"^=":i=u.indexOf(l)===0;break;case"=":i=e===r;break;case">":f=!0,i=e>r;break;case">=":f=!0,i=e>=r;break;case"<":f=!0,i=e<r;break;case"<=":f=!0,i=e<=r;break;default:i=!1;break}return d&&(e!=null||!f)&&(i=!i),i},Bk=function(e,n){switch(n){case"?":return!!e;case"!":return!e;case"^":return e===void 0}},Vk=function(e){return e!==void 0},_p=function(e,n){return e.data(n)},$k=function(e,n){return e[n]()},gt=[],lt=function(e,n){return e.checks.every(function(r){return gt[r.type](r,n)})};gt[le.GROUP]=function(t,e){var n=t.value;return n==="*"||n===e.group()};gt[le.STATE]=function(t,e){var n=t.value;return Rk(n,e)};gt[le.ID]=function(t,e){var n=t.value;return e.id()===n};gt[le.CLASS]=function(t,e){var n=t.value;return e.hasClass(n)};gt[le.META_COMPARE]=function(t,e){var n=t.field,r=t.operator,i=t.value;return Kb($k(e,n),r,i)};gt[le.DATA_COMPARE]=function(t,e){var n=t.field,r=t.operator,i=t.value;return Kb(_p(e,n),r,i)};gt[le.DATA_BOOL]=function(t,e){var n=t.field,r=t.operator;return Bk(_p(e,n),r)};gt[le.DATA_EXIST]=function(t,e){var n=t.field;return t.operator,Vk(_p(e,n))};gt[le.UNDIRECTED_EDGE]=function(t,e){var n=t.nodes[0],r=t.nodes[1],i=e.source(),o=e.target();return lt(n,i)&&lt(r,o)||lt(r,i)&&lt(n,o)};gt[le.NODE_NEIGHBOR]=function(t,e){return lt(t.node,e)&&e.neighborhood().some(function(n){return n.isNode()&&lt(t.neighbor,n)})};gt[le.DIRECTED_EDGE]=function(t,e){return lt(t.source,e.source())&&lt(t.target,e.target())};gt[le.NODE_SOURCE]=function(t,e){return lt(t.source,e)&&e.outgoers().some(function(n){return n.isNode()&&lt(t.target,n)})};gt[le.NODE_TARGET]=function(t,e){return lt(t.target,e)&&e.incomers().some(function(n){return n.isNode()&&lt(t.source,n)})};gt[le.CHILD]=function(t,e){return lt(t.child,e)&&lt(t.parent,e.parent())};gt[le.PARENT]=function(t,e){return lt(t.parent,e)&&e.children().some(function(n){return lt(t.child,n)})};gt[le.DESCENDANT]=function(t,e){return lt(t.descendant,e)&&e.ancestors().some(function(n){return lt(t.ancestor,n)})};gt[le.ANCESTOR]=function(t,e){return lt(t.ancestor,e)&&e.descendants().some(function(n){return lt(t.descendant,n)})};gt[le.COMPOUND_SPLIT]=function(t,e){return lt(t.subject,e)&&lt(t.left,e)&&lt(t.right,e)};gt[le.TRUE]=function(){return!0};gt[le.COLLECTION]=function(t,e){var n=t.value;return n.has(e)};gt[le.FILTER]=function(t,e){var n=t.value;return n(e)};var jk=function(e){var n=this;if(n.length===1&&n[0].checks.length===1&&n[0].checks[0].type===le.ID)return e.getElementById(n[0].checks[0].value).collection();var r=function(o){for(var a=0;a<n.length;a++){var s=n[a];if(lt(s,o))return!0}return!1};return n.text()==null&&(r=function(){return!0}),e.filter(r)},Hk=function(e){for(var n=this,r=0;r<n.length;r++){var i=n[r];if(lt(i,e))return!0}return!1},zk={matches:Hk,filter:jk},Gr=function(e){this.inputText=e,this.currentSubject=null,this.compoundCount=0,this.edgeCount=0,this.length=0,e==null||pe(e)&&e.match(/^\s*$/)||(gn(e)?this.addQuery({checks:[{type:le.COLLECTION,value:e.collection()}]}):ht(e)?this.addQuery({checks:[{type:le.FILTER,value:e}]}):pe(e)?this.parse(e)||(this.invalid=!0):pt("A selector must be created from a string; found "))},Wr=Gr.prototype;[Fk,zk].forEach(function(t){return ye(Wr,t)});Wr.text=function(){return this.inputText};Wr.size=function(){return this.length};Wr.eq=function(t){return this[t]};Wr.sameText=function(t){return!this.invalid&&!t.invalid&&this.text()===t.text()};Wr.addQuery=function(t){this[this.length++]=t};Wr.selector=Wr.toString;var Hr={allAre:function(e){var n=new Gr(e);return this.every(function(r){return n.matches(r)})},is:function(e){var n=new Gr(e);return this.some(function(r){return n.matches(r)})},some:function(e,n){for(var r=0;r<this.length;r++){var i=n?e.apply(n,[this[r],r,this]):e(this[r],r,this);if(i)return!0}return!1},every:function(e,n){for(var r=0;r<this.length;r++){var i=n?e.apply(n,[this[r],r,this]):e(this[r],r,this);if(!i)return!1}return!0},same:function(e){if(this===e)return!0;e=this.cy().collection(e);var n=this.length,r=e.length;return n!==r?!1:n===1?this[0]===e[0]:this.every(function(i){return e.hasElementWithId(i.id())})},anySame:function(e){return e=this.cy().collection(e),this.some(function(n){return e.hasElementWithId(n.id())})},allAreNeighbors:function(e){e=this.cy().collection(e);var n=this.neighborhood();return e.every(function(r){return n.hasElementWithId(r.id())})},contains:function(e){e=this.cy().collection(e);var n=this;return e.every(function(r){return n.hasElementWithId(r.id())})}};Hr.allAreNeighbours=Hr.allAreNeighbors;Hr.has=Hr.contains;Hr.equal=Hr.equals=Hr.same;var Sn=function(e,n){return function(i,o,a,s){var u=i,l=this,c;if(u==null?c="":gn(u)&&u.length===1&&(c=u.id()),l.length===1&&c){var d=l[0]._private,f=d.traversalCache=d.traversalCache||{},h=f[n]=f[n]||[],p=Ri(c),m=h[p];return m||(h[p]=e.call(l,i,o,a,s))}else return e.call(l,i,o,a,s)}},Wo={parent:function(e){var n=[];if(this.length===1){var r=this[0]._private.parent;if(r)return r}for(var i=0;i<this.length;i++){var o=this[i],a=o._private.parent;a&&n.push(a)}return this.spawn(n,!0).filter(e)},parents:function(e){for(var n=[],r=this.parent();r.nonempty();){for(var i=0;i<r.length;i++){var o=r[i];n.push(o)}r=r.parent()}return this.spawn(n,!0).filter(e)},commonAncestors:function(e){for(var n,r=0;r<this.length;r++){var i=this[r],o=i.parents();n=n||o,n=n.intersect(o)}return n.filter(e)},orphans:function(e){return this.stdFilter(function(n){return n.isOrphan()}).filter(e)},nonorphans:function(e){return this.stdFilter(function(n){return n.isChild()}).filter(e)},children:Sn(function(t){for(var e=[],n=0;n<this.length;n++)for(var r=this[n],i=r._private.children,o=0;o<i.length;o++)e.push(i[o]);return this.spawn(e,!0).filter(t)},"children"),siblings:function(e){return this.parent().children().not(this).filter(e)},isParent:function(){var e=this[0];if(e)return e.isNode()&&e._private.children.length!==0},isChildless:function(){var e=this[0];if(e)return e.isNode()&&e._private.children.length===0},isChild:function(){var e=this[0];if(e)return e.isNode()&&e._private.parent!=null},isOrphan:function(){var e=this[0];if(e)return e.isNode()&&e._private.parent==null},descendants:function(e){var n=[];function r(i){for(var o=0;o<i.length;o++){var a=i[o];n.push(a),a.children().nonempty()&&r(a.children())}}return r(this.children()),this.spawn(n,!0).filter(e)}};function kp(t,e,n,r){for(var i=[],o=new Zo,a=t.cy(),s=a.hasCompoundNodes(),u=0;u<t.length;u++){var l=t[u];n?i.push(l):s&&r(i,o,l)}for(;i.length>0;){var c=i.shift();e(c),o.add(c.id()),s&&r(i,o,c)}return t}function Qb(t,e,n){if(n.isParent())for(var r=n._private.children,i=0;i<r.length;i++){var o=r[i];e.has(o.id())||t.push(o)}}Wo.forEachDown=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return kp(this,t,e,Qb)};function Xb(t,e,n){if(n.isChild()){var r=n._private.parent;e.has(r.id())||t.push(r)}}Wo.forEachUp=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return kp(this,t,e,Xb)};function Uk(t,e,n){Xb(t,e,n),Qb(t,e,n)}Wo.forEachUpAndDown=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return kp(this,t,e,Uk)};Wo.ancestors=Wo.parents;var Is,Jb;Is=Jb={data:Qe.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),removeData:Qe.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),scratch:Qe.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:Qe.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),rscratch:Qe.data({field:"rscratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeRscratch:Qe.removeData({field:"rscratch",triggerEvent:!1}),id:function(){var e=this[0];if(e)return e._private.data.id}};Is.attr=Is.data;Is.removeAttr=Is.removeData;var qk=Jb,vc={};function Yh(t){return function(e){var n=this;if(e===void 0&&(e=!0),n.length!==0)if(n.isNode()&&!n.removed()){for(var r=0,i=n[0],o=i._private.edges,a=0;a<o.length;a++){var s=o[a];!e&&s.isLoop()||(r+=t(i,s))}return r}else return}}ye(vc,{degree:Yh(function(t,e){return e.source().same(e.target())?2:1}),indegree:Yh(function(t,e){return e.target().same(t)?1:0}),outdegree:Yh(function(t,e){return e.source().same(t)?1:0})});function ko(t,e){return function(n){for(var r,i=this.nodes(),o=0;o<i.length;o++){var a=i[o],s=a[t](n);s!==void 0&&(r===void 0||e(s,r))&&(r=s)}return r}}ye(vc,{minDegree:ko("degree",function(t,e){return t<e}),maxDegree:ko("degree",function(t,e){return t>e}),minIndegree:ko("indegree",function(t,e){return t<e}),maxIndegree:ko("indegree",function(t,e){return t>e}),minOutdegree:ko("outdegree",function(t,e){return t<e}),maxOutdegree:ko("outdegree",function(t,e){return t>e})});ye(vc,{totalDegree:function(e){for(var n=0,r=this.nodes(),i=0;i<r.length;i++)n+=r[i].degree(e);return n}});var Hn,eD,tD=function(e,n,r){for(var i=0;i<e.length;i++){var o=e[i];if(!o.locked()){var a=o._private.position,s={x:n.x!=null?n.x-a.x:0,y:n.y!=null?n.y-a.y:0};o.isParent()&&!(s.x===0&&s.y===0)&&o.children().shift(s,r),o.dirtyBoundingBoxCache()}}},Cw={field:"position",bindingEvent:"position",allowBinding:!0,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!0,triggerFnName:"emitAndNotify",allowGetting:!0,validKeys:["x","y"],beforeGet:function(e){e.updateCompoundBounds()},beforeSet:function(e,n){tD(e,n,!1)},onSet:function(e){e.dirtyCompoundBoundsCache()},canSet:function(e){return!e.locked()}};Hn=eD={position:Qe.data(Cw),silentPosition:Qe.data(ye({},Cw,{allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!1,beforeSet:function(e,n){tD(e,n,!0)},onSet:function(e){e.dirtyCompoundBoundsCache()}})),positions:function(e,n){if(Ue(e))n?this.silentPosition(e):this.position(e);else if(ht(e)){var r=e,i=this.cy();i.startBatch();for(var o=0;o<this.length;o++){var a=this[o],s=void 0;(s=r(a,o))&&(n?a.silentPosition(s):a.position(s))}i.endBatch()}return this},silentPositions:function(e){return this.positions(e,!0)},shift:function(e,n,r){var i;if(Ue(e)?(i={x:ie(e.x)?e.x:0,y:ie(e.y)?e.y:0},r=n):pe(e)&&ie(n)&&(i={x:0,y:0},i[e]=n),i!=null){var o=this.cy();o.startBatch();for(var a=0;a<this.length;a++){var s=this[a];if(!(o.hasCompoundNodes()&&s.isChild()&&s.ancestors().anySame(this))){var u=s.position(),l={x:u.x+i.x,y:u.y+i.y};r?s.silentPosition(l):s.position(l)}}o.endBatch()}return this},silentShift:function(e,n){return Ue(e)?this.shift(e,!0):pe(e)&&ie(n)&&this.shift(e,n,!0),this},renderedPosition:function(e,n){var r=this[0],i=this.cy(),o=i.zoom(),a=i.pan(),s=Ue(e)?e:void 0,u=s!==void 0||n!==void 0&&pe(e);if(r&&r.isNode())if(u)for(var l=0;l<this.length;l++){var c=this[l];n!==void 0?c.position(e,(n-a[e])/o):s!==void 0&&c.position(Tb(s,o,a))}else{var d=r.position();return s=dc(d,o,a),e===void 0?s:s[e]}else if(!u)return;return this},relativePosition:function(e,n){var r=this[0],i=this.cy(),o=Ue(e)?e:void 0,a=o!==void 0||n!==void 0&&pe(e),s=i.hasCompoundNodes();if(r&&r.isNode())if(a)for(var u=0;u<this.length;u++){var l=this[u],c=s?l.parent():null,d=c&&c.length>0,f=d;d&&(c=c[0]);var h=f?c.position():{x:0,y:0};n!==void 0?l.position(e,n+h[e]):o!==void 0&&l.position({x:o.x+h.x,y:o.y+h.y})}else{var p=r.position(),m=s?r.parent():null,v=m&&m.length>0,g=v;v&&(m=m[0]);var y=g?m.position():{x:0,y:0};return o={x:p.x-y.x,y:p.y-y.y},e===void 0?o:o[e]}else if(!a)return;return this}};Hn.modelPosition=Hn.point=Hn.position;Hn.modelPositions=Hn.points=Hn.positions;Hn.renderedPoint=Hn.renderedPosition;Hn.relativePoint=Hn.relativePosition;var Gk=eD,zo,Kr;zo=Kr={};Kr.renderedBoundingBox=function(t){var e=this.boundingBox(t),n=this.cy(),r=n.zoom(),i=n.pan(),o=e.x1*r+i.x,a=e.x2*r+i.x,s=e.y1*r+i.y,u=e.y2*r+i.y;return{x1:o,x2:a,y1:s,y2:u,w:a-o,h:u-s}};Kr.dirtyCompoundBoundsCache=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,e=this.cy();return!e.styleEnabled()||!e.hasCompoundNodes()?this:(this.forEachUp(function(n){if(n.isParent()){var r=n._private;r.compoundBoundsClean=!1,r.bbCache=null,t||n.emitAndNotify("bounds")}}),this)};Kr.updateCompoundBounds=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,e=this.cy();if(!e.styleEnabled()||!e.hasCompoundNodes())return this;if(!t&&e.batching())return this;function n(a){if(!a.isParent())return;var s=a._private,u=a.children(),l=a.pstyle("compound-sizing-wrt-labels").value==="include",c={width:{val:a.pstyle("min-width").pfValue,left:a.pstyle("min-width-bias-left"),right:a.pstyle("min-width-bias-right")},height:{val:a.pstyle("min-height").pfValue,top:a.pstyle("min-height-bias-top"),bottom:a.pstyle("min-height-bias-bottom")}},d=u.boundingBox({includeLabels:l,includeOverlays:!1,useCache:!1}),f=s.position;(d.w===0||d.h===0)&&(d={w:a.pstyle("width").pfValue,h:a.pstyle("height").pfValue},d.x1=f.x-d.w/2,d.x2=f.x+d.w/2,d.y1=f.y-d.h/2,d.y2=f.y+d.h/2);function h(C,N,M){var A=0,R=0,T=N+M;return C>0&&T>0&&(A=N/T*C,R=M/T*C),{biasDiff:A,biasComplementDiff:R}}function p(C,N,M,A){if(M.units==="%")switch(A){case"width":return C>0?M.pfValue*C:0;case"height":return N>0?M.pfValue*N:0;case"average":return C>0&&N>0?M.pfValue*(C+N)/2:0;case"min":return C>0&&N>0?C>N?M.pfValue*N:M.pfValue*C:0;case"max":return C>0&&N>0?C>N?M.pfValue*C:M.pfValue*N:0;default:return 0}else return M.units==="px"?M.pfValue:0}var m=c.width.left.value;c.width.left.units==="px"&&c.width.val>0&&(m=m*100/c.width.val);var v=c.width.right.value;c.width.right.units==="px"&&c.width.val>0&&(v=v*100/c.width.val);var g=c.height.top.value;c.height.top.units==="px"&&c.height.val>0&&(g=g*100/c.height.val);var y=c.height.bottom.value;c.height.bottom.units==="px"&&c.height.val>0&&(y=y*100/c.height.val);var w=h(c.width.val-d.w,m,v),b=w.biasDiff,I=w.biasComplementDiff,E=h(c.height.val-d.h,g,y),D=E.biasDiff,S=E.biasComplementDiff;s.autoPadding=p(d.w,d.h,a.pstyle("padding"),a.pstyle("padding-relative-to").value),s.autoWidth=Math.max(d.w,c.width.val),f.x=(-b+d.x1+d.x2+I)/2,s.autoHeight=Math.max(d.h,c.height.val),f.y=(-D+d.y1+d.y2+S)/2}for(var r=0;r<this.length;r++){var i=this[r],o=i._private;(!o.compoundBoundsClean||t)&&(n(i),e.batching()||(o.compoundBoundsClean=!0))}return this};var In=function(e){return e===1/0||e===-1/0?0:e},$n=function(e,n,r,i,o){i-n===0||o-r===0||n==null||r==null||i==null||o==null||(e.x1=n<e.x1?n:e.x1,e.x2=i>e.x2?i:e.x2,e.y1=r<e.y1?r:e.y1,e.y2=o>e.y2?o:e.y2,e.w=e.x2-e.x1,e.h=e.y2-e.y1)},xi=function(e,n){return n==null?e:$n(e,n.x1,n.y1,n.x2,n.y2)},ss=function(e,n,r){return jn(e,n,r)},Pl=function(e,n,r){if(!n.cy().headless()){var i=n._private,o=i.rstyle,a=o.arrowWidth/2,s=n.pstyle(r+"-arrow-shape").value,u,l;if(s!=="none"){r==="source"?(u=o.srcX,l=o.srcY):r==="target"?(u=o.tgtX,l=o.tgtY):(u=o.midX,l=o.midY);var c=i.arrowBounds=i.arrowBounds||{},d=c[r]=c[r]||{};d.x1=u-a,d.y1=l-a,d.x2=u+a,d.y2=l+a,d.w=d.x2-d.x1,d.h=d.y2-d.y1,jl(d,1),$n(e,d.x1,d.y1,d.x2,d.y2)}}},Kh=function(e,n,r){if(!n.cy().headless()){var i;r?i=r+"-":i="";var o=n._private,a=o.rstyle,s=n.pstyle(i+"label").strValue;if(s){var u=n.pstyle("text-halign"),l=n.pstyle("text-valign"),c=ss(a,"labelWidth",r),d=ss(a,"labelHeight",r),f=ss(a,"labelX",r),h=ss(a,"labelY",r),p=n.pstyle(i+"text-margin-x").pfValue,m=n.pstyle(i+"text-margin-y").pfValue,v=n.isEdge(),g=n.pstyle(i+"text-rotation"),y=n.pstyle("text-outline-width").pfValue,w=n.pstyle("text-border-width").pfValue,b=w/2,I=n.pstyle("text-background-padding").pfValue,E=2,D=d,S=c,C=S/2,N=D/2,M,A,R,T;if(v)M=f-C,A=f+C,R=h-N,T=h+N;else{switch(u.value){case"left":M=f-S,A=f;break;case"center":M=f-C,A=f+C;break;case"right":M=f,A=f+S;break}switch(l.value){case"top":R=h-D,T=h;break;case"center":R=h-N,T=h+N;break;case"bottom":R=h,T=h+D;break}}var O=p-Math.max(y,b)-I-E,_=p+Math.max(y,b)+I+E,k=m-Math.max(y,b)-I-E,P=m+Math.max(y,b)+I+E;M+=O,A+=_,R+=k,T+=P;var V=r||"main",z=o.labelBounds,B=z[V]=z[V]||{};B.x1=M,B.y1=R,B.x2=A,B.y2=T,B.w=A-M,B.h=T-R,B.leftPad=O,B.rightPad=_,B.topPad=k,B.botPad=P;var $=v&&g.strValue==="autorotate",W=g.pfValue!=null&&g.pfValue!==0;if($||W){var K=$?ss(o.rstyle,"labelAngle",r):g.pfValue,Q=Math.cos(K),X=Math.sin(K),J=(M+A)/2,q=(R+T)/2;if(!v){switch(u.value){case"left":J=A;break;case"right":J=M;break}switch(l.value){case"top":q=T;break;case"bottom":q=R;break}}var L=function(ce,se){return ce=ce-J,se=se-q,{x:ce*Q-se*X+J,y:ce*X+se*Q+q}},U=L(M,R),Z=L(M,T),re=L(A,R),ve=L(A,T);M=Math.min(U.x,Z.x,re.x,ve.x),A=Math.max(U.x,Z.x,re.x,ve.x),R=Math.min(U.y,Z.y,re.y,ve.y),T=Math.max(U.y,Z.y,re.y,ve.y)}var ne=V+"Rot",te=z[ne]=z[ne]||{};te.x1=M,te.y1=R,te.x2=A,te.y2=T,te.w=A-M,te.h=T-R,$n(e,M,R,A,T),$n(o.labelBounds.all,M,R,A,T)}return e}},Wk=function(e,n){if(!n.cy().headless()){var r=n.pstyle("outline-opacity").value,i=n.pstyle("outline-width").value;if(r>0&&i>0){var o=n.pstyle("outline-offset").value,a=n.pstyle("shape").value,s=i+o,u=(e.w+s*2)/e.w,l=(e.h+s*2)/e.h,c=0,d=0;["diamond","pentagon","round-triangle"].includes(a)?(u=(e.w+s*2.4)/e.w,d=-s/3.6):["concave-hexagon","rhomboid","right-rhomboid"].includes(a)?u=(e.w+s*2.4)/e.w:a==="star"?(u=(e.w+s*2.8)/e.w,l=(e.h+s*2.6)/e.h,d=-s/3.8):a==="triangle"?(u=(e.w+s*2.8)/e.w,l=(e.h+s*2.4)/e.h,d=-s/1.4):a==="vee"&&(u=(e.w+s*4.4)/e.w,l=(e.h+s*3.8)/e.h,d=-s*.5);var f=e.h*l-e.h,h=e.w*u-e.w;if(Hl(e,[Math.ceil(f/2),Math.ceil(h/2)]),c!=0||d!==0){var p=pN(e,c,d);Ab(e,p)}}}},Zk=function(e,n){var r=e._private.cy,i=r.styleEnabled(),o=r.headless(),a=rn(),s=e._private,u=e.isNode(),l=e.isEdge(),c,d,f,h,p,m,v=s.rstyle,g=u&&i?e.pstyle("bounds-expansion").pfValue:[0],y=function(de){return de.pstyle("display").value!=="none"},w=!i||y(e)&&(!l||y(e.source())&&y(e.target()));if(w){var b=0,I=0;i&&n.includeOverlays&&(b=e.pstyle("overlay-opacity").value,b!==0&&(I=e.pstyle("overlay-padding").value));var E=0,D=0;i&&n.includeUnderlays&&(E=e.pstyle("underlay-opacity").value,E!==0&&(D=e.pstyle("underlay-padding").value));var S=Math.max(I,D),C=0,N=0;if(i&&(C=e.pstyle("width").pfValue,N=C/2),u&&n.includeNodes){var M=e.position();p=M.x,m=M.y;var A=e.outerWidth(),R=A/2,T=e.outerHeight(),O=T/2;c=p-R,d=p+R,f=m-O,h=m+O,$n(a,c,f,d,h),i&&n.includeOutlines&&Wk(a,e)}else if(l&&n.includeEdges)if(i&&!o){var _=e.pstyle("curve-style").strValue;if(c=Math.min(v.srcX,v.midX,v.tgtX),d=Math.max(v.srcX,v.midX,v.tgtX),f=Math.min(v.srcY,v.midY,v.tgtY),h=Math.max(v.srcY,v.midY,v.tgtY),c-=N,d+=N,f-=N,h+=N,$n(a,c,f,d,h),_==="haystack"){var k=v.haystackPts;if(k&&k.length===2){if(c=k[0].x,f=k[0].y,d=k[1].x,h=k[1].y,c>d){var P=c;c=d,d=P}if(f>h){var V=f;f=h,h=V}$n(a,c-N,f-N,d+N,h+N)}}else if(_==="bezier"||_==="unbundled-bezier"||_.endsWith("segments")||_.endsWith("taxi")){var z;switch(_){case"bezier":case"unbundled-bezier":z=v.bezierPts;break;case"segments":case"taxi":case"round-segments":case"round-taxi":z=v.linePts;break}if(z!=null)for(var B=0;B<z.length;B++){var $=z[B];c=$.x-N,d=$.x+N,f=$.y-N,h=$.y+N,$n(a,c,f,d,h)}}}else{var W=e.source(),K=W.position(),Q=e.target(),X=Q.position();if(c=K.x,d=X.x,f=K.y,h=X.y,c>d){var J=c;c=d,d=J}if(f>h){var q=f;f=h,h=q}c-=N,d+=N,f-=N,h+=N,$n(a,c,f,d,h)}if(i&&n.includeEdges&&l&&(Pl(a,e,"mid-source"),Pl(a,e,"mid-target"),Pl(a,e,"source"),Pl(a,e,"target")),i){var L=e.pstyle("ghost").value==="yes";if(L){var U=e.pstyle("ghost-offset-x").pfValue,Z=e.pstyle("ghost-offset-y").pfValue;$n(a,a.x1+U,a.y1+Z,a.x2+U,a.y2+Z)}}var re=s.bodyBounds=s.bodyBounds||{};nw(re,a),Hl(re,g),jl(re,1),i&&(c=a.x1,d=a.x2,f=a.y1,h=a.y2,$n(a,c-S,f-S,d+S,h+S));var ve=s.overlayBounds=s.overlayBounds||{};nw(ve,a),Hl(ve,g),jl(ve,1);var ne=s.labelBounds=s.labelBounds||{};ne.all!=null?hN(ne.all):ne.all=rn(),i&&n.includeLabels&&(n.includeMainLabels&&Kh(a,e,null),l&&(n.includeSourceLabels&&Kh(a,e,"source"),n.includeTargetLabels&&Kh(a,e,"target")))}return a.x1=In(a.x1),a.y1=In(a.y1),a.x2=In(a.x2),a.y2=In(a.y2),a.w=In(a.x2-a.x1),a.h=In(a.y2-a.y1),a.w>0&&a.h>0&&w&&(Hl(a,g),jl(a,1)),a},nD=function(e){var n=0,r=function(a){return(a?1:0)<<n++},i=0;return i+=r(e.incudeNodes),i+=r(e.includeEdges),i+=r(e.includeLabels),i+=r(e.includeMainLabels),i+=r(e.includeSourceLabels),i+=r(e.includeTargetLabels),i+=r(e.includeOverlays),i+=r(e.includeOutlines),i},rD=function(e){if(e.isEdge()){var n=e.source().position(),r=e.target().position(),i=function(a){return Math.round(a)};return OA([i(n.x),i(n.y),i(r.x),i(r.y)])}else return 0},Iw=function(e,n){var r=e._private,i,o=e.isEdge(),a=n==null?Sw:nD(n),s=a===Sw,u=rD(e),l=r.bbCachePosKey===u,c=n.useCache&&l,d=function(m){return m._private.bbCache==null||m._private.styleDirty},f=!c||d(e)||o&&(d(e.source())||d(e.target()));if(f?(l||e.recalculateRenderedStyle(c),i=Zk(e,Ss),r.bbCache=i,r.bbCachePosKey=u):i=r.bbCache,!s){var h=e.isNode();i=rn(),(n.includeNodes&&h||n.includeEdges&&!h)&&(n.includeOverlays?xi(i,r.overlayBounds):xi(i,r.bodyBounds)),n.includeLabels&&(n.includeMainLabels&&(!o||n.includeSourceLabels&&n.includeTargetLabels)?xi(i,r.labelBounds.all):(n.includeMainLabels&&xi(i,r.labelBounds.mainRot),n.includeSourceLabels&&xi(i,r.labelBounds.sourceRot),n.includeTargetLabels&&xi(i,r.labelBounds.targetRot))),i.w=i.x2-i.x1,i.h=i.y2-i.y1}return i},Ss={includeNodes:!0,includeEdges:!0,includeLabels:!0,includeMainLabels:!0,includeSourceLabels:!0,includeTargetLabels:!0,includeOverlays:!0,includeUnderlays:!0,includeOutlines:!0,useCache:!0},Sw=nD(Ss),xw=Vt(Ss);Kr.boundingBox=function(t){var e;if(this.length===1&&this[0]._private.bbCache!=null&&!this[0]._private.styleDirty&&(t===void 0||t.useCache===void 0||t.useCache===!0))t===void 0?t=Ss:t=xw(t),e=Iw(this[0],t);else{e=rn(),t=t||Ss;var n=xw(t),r=this,i=r.cy(),o=i.styleEnabled();if(o)for(var a=0;a<r.length;a++){var s=r[a],u=s._private,l=rD(s),c=u.bbCachePosKey===l,d=n.useCache&&c&&!u.styleDirty;s.recalculateRenderedStyle(d)}this.updateCompoundBounds(!t.useCache);for(var f=0;f<r.length;f++){var h=r[f];xi(e,Iw(h,n))}}return e.x1=In(e.x1),e.y1=In(e.y1),e.x2=In(e.x2),e.y2=In(e.y2),e.w=In(e.x2-e.x1),e.h=In(e.y2-e.y1),e};Kr.dirtyBoundingBoxCache=function(){for(var t=0;t<this.length;t++){var e=this[t]._private;e.bbCache=null,e.bbCachePosKey=null,e.bodyBounds=null,e.overlayBounds=null,e.labelBounds.all=null,e.labelBounds.source=null,e.labelBounds.target=null,e.labelBounds.main=null,e.labelBounds.sourceRot=null,e.labelBounds.targetRot=null,e.labelBounds.mainRot=null,e.arrowBounds.source=null,e.arrowBounds.target=null,e.arrowBounds["mid-source"]=null,e.arrowBounds["mid-target"]=null}return this.emitAndNotify("bounds"),this};Kr.boundingBoxAt=function(t){var e=this.nodes(),n=this.cy(),r=n.hasCompoundNodes(),i=n.collection();if(r&&(i=e.filter(function(l){return l.isParent()}),e=e.not(i)),Ue(t)){var o=t;t=function(){return o}}var a=function(c,d){return c._private.bbAtOldPos=t(c,d)},s=function(c){return c._private.bbAtOldPos};n.startBatch(),e.forEach(a).silentPositions(t),r&&(i.dirtyCompoundBoundsCache(),i.dirtyBoundingBoxCache(),i.updateCompoundBounds(!0));var u=fN(this.boundingBox({useCache:!1}));return e.silentPositions(s),r&&(i.dirtyCompoundBoundsCache(),i.dirtyBoundingBoxCache(),i.updateCompoundBounds(!0)),n.endBatch(),u};zo.boundingbox=zo.bb=zo.boundingBox;zo.renderedBoundingbox=zo.renderedBoundingBox;var Yk=Kr,hs,_s;hs=_s={};var iD=function(e){e.uppercaseName=Y0(e.name),e.autoName="auto"+e.uppercaseName,e.labelName="label"+e.uppercaseName,e.outerName="outer"+e.uppercaseName,e.uppercaseOuterName=Y0(e.outerName),hs[e.name]=function(){var r=this[0],i=r._private,o=i.cy,a=o._private.styleEnabled;if(r)if(a){if(r.isParent())return r.updateCompoundBounds(),i[e.autoName]||0;var s=r.pstyle(e.name);switch(s.strValue){case"label":return r.recalculateRenderedStyle(),i.rstyle[e.labelName]||0;default:return s.pfValue}}else return 1},hs["outer"+e.uppercaseName]=function(){var r=this[0],i=r._private,o=i.cy,a=o._private.styleEnabled;if(r)if(a){var s=r[e.name](),u=r.pstyle("border-width").pfValue,l=2*r.padding();return s+u+l}else return 1},hs["rendered"+e.uppercaseName]=function(){var r=this[0];if(r){var i=r[e.name]();return i*this.cy().zoom()}},hs["rendered"+e.uppercaseOuterName]=function(){var r=this[0];if(r){var i=r[e.outerName]();return i*this.cy().zoom()}}};iD({name:"width"});iD({name:"height"});_s.padding=function(){var t=this[0],e=t._private;return t.isParent()?(t.updateCompoundBounds(),e.autoPadding!==void 0?e.autoPadding:t.pstyle("padding").pfValue):t.pstyle("padding").pfValue};_s.paddedHeight=function(){var t=this[0];return t.height()+2*t.padding()};_s.paddedWidth=function(){var t=this[0];return t.width()+2*t.padding()};var Kk=_s,Qk=function(e,n){if(e.isEdge())return n(e)},Xk=function(e,n){if(e.isEdge()){var r=e.cy();return dc(n(e),r.zoom(),r.pan())}},Jk=function(e,n){if(e.isEdge()){var r=e.cy(),i=r.pan(),o=r.zoom();return n(e).map(function(a){return dc(a,o,i)})}},eO=function(e){return e.renderer().getControlPoints(e)},tO=function(e){return e.renderer().getSegmentPoints(e)},nO=function(e){return e.renderer().getSourceEndpoint(e)},rO=function(e){return e.renderer().getTargetEndpoint(e)},iO=function(e){return e.renderer().getEdgeMidpoint(e)},Tw={controlPoints:{get:eO,mult:!0},segmentPoints:{get:tO,mult:!0},sourceEndpoint:{get:nO},targetEndpoint:{get:rO},midpoint:{get:iO}},oO=function(e){return"rendered"+e[0].toUpperCase()+e.substr(1)},aO=Object.keys(Tw).reduce(function(t,e){var n=Tw[e],r=oO(e);return t[e]=function(){return Qk(this,n.get)},n.mult?t[r]=function(){return Jk(this,n.get)}:t[r]=function(){return Xk(this,n.get)},t},{}),sO=ye({},Gk,Yk,Kk,aO);var oD=function(e,n){this.recycle(e,n)};function us(){return!1}function Ll(){return!0}oD.prototype={instanceString:function(){return"event"},recycle:function(e,n){if(this.isImmediatePropagationStopped=this.isPropagationStopped=this.isDefaultPrevented=us,e!=null&&e.preventDefault?(this.type=e.type,this.isDefaultPrevented=e.defaultPrevented?Ll:us):e!=null&&e.type?n=e:this.type=e,n!=null&&(this.originalEvent=n.originalEvent,this.type=n.type!=null?n.type:this.type,this.cy=n.cy,this.target=n.target,this.position=n.position,this.renderedPosition=n.renderedPosition,this.namespace=n.namespace,this.layout=n.layout),this.cy!=null&&this.position!=null&&this.renderedPosition==null){var r=this.position,i=this.cy.zoom(),o=this.cy.pan();this.renderedPosition={x:r.x*i+o.x,y:r.y*i+o.y}}this.timeStamp=e&&e.timeStamp||Date.now()},preventDefault:function(){this.isDefaultPrevented=Ll;var e=this.originalEvent;e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){this.isPropagationStopped=Ll;var e=this.originalEvent;e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=Ll,this.stopPropagation()},isDefaultPrevented:us,isPropagationStopped:us,isImmediatePropagationStopped:us};var aD=/^([^.]+)(\.(?:[^.]+))?$/,uO=".*",sD={qualifierCompare:function(e,n){return e===n},eventMatches:function(){return!0},addEventFields:function(){},callbackContext:function(e){return e},beforeEmit:function(){},afterEmit:function(){},bubble:function(){return!1},parent:function(){return null},context:null},Mw=Object.keys(sD),lO={};function mc(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:lO,e=arguments.length>1?arguments[1]:void 0,n=0;n<Mw.length;n++){var r=Mw[n];this[r]=t[r]||sD[r]}this.context=e||this.context,this.listeners=[],this.emitting=0}var Zr=mc.prototype,uD=function(e,n,r,i,o,a,s){ht(i)&&(o=i,i=null),s&&(a==null?a=s:a=ye({},a,s));for(var u=ot(r)?r:r.split(/\s+/),l=0;l<u.length;l++){var c=u[l];if(!Ur(c)){var d=c.match(aD);if(d){var f=d[1],h=d[2]?d[2]:null,p=n(e,c,f,h,i,o,a);if(p===!1)break}}}},Aw=function(e,n){return e.addEventFields(e.context,n),new oD(n.type,n)},cO=function(e,n,r){if(N1(r)){n(e,r);return}else if(Ue(r)){n(e,Aw(e,r));return}for(var i=ot(r)?r:r.split(/\s+/),o=0;o<i.length;o++){var a=i[o];if(!Ur(a)){var s=a.match(aD);if(s){var u=s[1],l=s[2]?s[2]:null,c=Aw(e,{type:u,namespace:l,target:e.context});n(e,c)}}}};Zr.on=Zr.addListener=function(t,e,n,r,i){return uD(this,function(o,a,s,u,l,c,d){ht(c)&&o.listeners.push({event:a,callback:c,type:s,namespace:u,qualifier:l,conf:d})},t,e,n,r,i),this};Zr.one=function(t,e,n,r){return this.on(t,e,n,r,{one:!0})};Zr.removeListener=Zr.off=function(t,e,n,r){var i=this;this.emitting!==0&&(this.listeners=VA(this.listeners));for(var o=this.listeners,a=function(l){var c=o[l];uD(i,function(d,f,h,p,m,v){if((c.type===h||t==="*")&&(!p&&c.namespace!==".*"||c.namespace===p)&&(!m||d.qualifierCompare(c.qualifier,m))&&(!v||c.callback===v))return o.splice(l,1),!1},t,e,n,r)},s=o.length-1;s>=0;s--)a(s);return this};Zr.removeAllListeners=function(){return this.removeListener("*")};Zr.emit=Zr.trigger=function(t,e,n){var r=this.listeners,i=r.length;return this.emitting++,ot(e)||(e=[e]),cO(this,function(o,a){n!=null&&(r=[{event:a.event,type:a.type,namespace:a.namespace,callback:n}],i=r.length);for(var s=function(c){var d=r[c];if(d.type===a.type&&(!d.namespace||d.namespace===a.namespace||d.namespace===uO)&&o.eventMatches(o.context,d,a)){var f=[a];e!=null&&jA(f,e),o.beforeEmit(o.context,d,a),d.conf&&d.conf.one&&(o.listeners=o.listeners.filter(function(m){return m!==d}));var h=o.callbackContext(o.context,d,a),p=d.callback.apply(h,f);o.afterEmit(o.context,d,a),p===!1&&(a.stopPropagation(),a.preventDefault())}},u=0;u<i;u++)s(u);o.bubble(o.context)&&!a.isPropagationStopped()&&o.parent(o.context).emit(a,e)},t),this.emitting--,this};var dO={qualifierCompare:function(e,n){return e==null||n==null?e==null&&n==null:e.sameText(n)},eventMatches:function(e,n,r){var i=n.qualifier;return i!=null?e!==r.target&&As(r.target)&&i.matches(r.target):!0},addEventFields:function(e,n){n.cy=e.cy(),n.target=e},callbackContext:function(e,n,r){return n.qualifier!=null?r.target:e},beforeEmit:function(e,n){n.conf&&n.conf.once&&n.conf.onceCollection.removeListener(n.event,n.qualifier,n.callback)},bubble:function(){return!0},parent:function(e){return e.isChild()?e.parent():e.cy()}},Fl=function(e){return pe(e)?new Gr(e):e},lD={createEmitter:function(){for(var e=0;e<this.length;e++){var n=this[e],r=n._private;r.emitter||(r.emitter=new mc(dO,n))}return this},emitter:function(){return this._private.emitter},on:function(e,n,r){for(var i=Fl(n),o=0;o<this.length;o++){var a=this[o];a.emitter().on(e,i,r)}return this},removeListener:function(e,n,r){for(var i=Fl(n),o=0;o<this.length;o++){var a=this[o];a.emitter().removeListener(e,i,r)}return this},removeAllListeners:function(){for(var e=0;e<this.length;e++){var n=this[e];n.emitter().removeAllListeners()}return this},one:function(e,n,r){for(var i=Fl(n),o=0;o<this.length;o++){var a=this[o];a.emitter().one(e,i,r)}return this},once:function(e,n,r){for(var i=Fl(n),o=0;o<this.length;o++){var a=this[o];a.emitter().on(e,i,r,{once:!0,onceCollection:this})}},emit:function(e,n){for(var r=0;r<this.length;r++){var i=this[r];i.emitter().emit(e,n)}return this},emitAndNotify:function(e,n){if(this.length!==0)return this.cy().notify(e,this),this.emit(e,n),this}};Qe.eventAliasesOn(lD);var cD={nodes:function(e){return this.filter(function(n){return n.isNode()}).filter(e)},edges:function(e){return this.filter(function(n){return n.isEdge()}).filter(e)},byGroup:function(){for(var e=this.spawn(),n=this.spawn(),r=0;r<this.length;r++){var i=this[r];i.isNode()?e.push(i):n.push(i)}return{nodes:e,edges:n}},filter:function(e,n){if(e===void 0)return this;if(pe(e)||gn(e))return new Gr(e).filter(this);if(ht(e)){for(var r=this.spawn(),i=this,o=0;o<i.length;o++){var a=i[o],s=n?e.apply(n,[a,o,i]):e(a,o,i);s&&r.push(a)}return r}return this.spawn()},not:function(e){if(e){pe(e)&&(e=this.filter(e));for(var n=this.spawn(),r=0;r<this.length;r++){var i=this[r],o=e.has(i);o||n.push(i)}return n}else return this},absoluteComplement:function(){var e=this.cy();return e.mutableElements().not(this)},intersect:function(e){if(pe(e)){var n=e;return this.filter(n)}for(var r=this.spawn(),i=this,o=e,a=this.length<e.length,s=a?i:o,u=a?o:i,l=0;l<s.length;l++){var c=s[l];u.has(c)&&r.push(c)}return r},xor:function(e){var n=this._private.cy;pe(e)&&(e=n.$(e));var r=this.spawn(),i=this,o=e,a=function(u,l){for(var c=0;c<u.length;c++){var d=u[c],f=d._private.data.id,h=l.hasElementWithId(f);h||r.push(d)}};return a(i,o),a(o,i),r},diff:function(e){var n=this._private.cy;pe(e)&&(e=n.$(e));var r=this.spawn(),i=this.spawn(),o=this.spawn(),a=this,s=e,u=function(c,d,f){for(var h=0;h<c.length;h++){var p=c[h],m=p._private.data.id,v=d.hasElementWithId(m);v?o.merge(p):f.push(p)}};return u(a,s,r),u(s,a,i),{left:r,right:i,both:o}},add:function(e){var n=this._private.cy;if(!e)return this;if(pe(e)){var r=e;e=n.mutableElements().filter(r)}for(var i=this.spawnSelf(),o=0;o<e.length;o++){var a=e[o],s=!this.has(a);s&&i.push(a)}return i},merge:function(e){var n=this._private,r=n.cy;if(!e)return this;if(e&&pe(e)){var i=e;e=r.mutableElements().filter(i)}for(var o=n.map,a=0;a<e.length;a++){var s=e[a],u=s._private.data.id,l=!o.has(u);if(l){var c=this.length++;this[c]=s,o.set(u,{ele:s,index:c})}}return this},unmergeAt:function(e){var n=this[e],r=n.id(),i=this._private,o=i.map;this[e]=void 0,o.delete(r);var a=e===this.length-1;if(this.length>1&&!a){var s=this.length-1,u=this[s],l=u._private.data.id;this[s]=void 0,this[e]=u,o.set(l,{ele:u,index:e})}return this.length--,this},unmergeOne:function(e){e=e[0];var n=this._private,r=e._private.data.id,i=n.map,o=i.get(r);if(!o)return this;var a=o.index;return this.unmergeAt(a),this},unmerge:function(e){var n=this._private.cy;if(!e)return this;if(e&&pe(e)){var r=e;e=n.mutableElements().filter(r)}for(var i=0;i<e.length;i++)this.unmergeOne(e[i]);return this},unmergeBy:function(e){for(var n=this.length-1;n>=0;n--){var r=this[n];e(r)&&this.unmergeAt(n)}return this},map:function(e,n){for(var r=[],i=this,o=0;o<i.length;o++){var a=i[o],s=n?e.apply(n,[a,o,i]):e(a,o,i);r.push(s)}return r},reduce:function(e,n){for(var r=n,i=this,o=0;o<i.length;o++)r=e(r,i[o],o,i);return r},max:function(e,n){for(var r=-1/0,i,o=this,a=0;a<o.length;a++){var s=o[a],u=n?e.apply(n,[s,a,o]):e(s,a,o);u>r&&(r=u,i=s)}return{value:r,ele:i}},min:function(e,n){for(var r=1/0,i,o=this,a=0;a<o.length;a++){var s=o[a],u=n?e.apply(n,[s,a,o]):e(s,a,o);u<r&&(r=u,i=s)}return{value:r,ele:i}}},Ge=cD;Ge.u=Ge["|"]=Ge["+"]=Ge.union=Ge.or=Ge.add;Ge["\\"]=Ge["!"]=Ge["-"]=Ge.difference=Ge.relativeComplement=Ge.subtract=Ge.not;Ge.n=Ge["&"]=Ge["."]=Ge.and=Ge.intersection=Ge.intersect;Ge["^"]=Ge["(+)"]=Ge["(-)"]=Ge.symmetricDifference=Ge.symdiff=Ge.xor;Ge.fnFilter=Ge.filterFn=Ge.stdFilter=Ge.filter;Ge.complement=Ge.abscomp=Ge.absoluteComplement;var fO={isNode:function(){return this.group()==="nodes"},isEdge:function(){return this.group()==="edges"},isLoop:function(){return this.isEdge()&&this.source()[0]===this.target()[0]},isSimple:function(){return this.isEdge()&&this.source()[0]!==this.target()[0]},group:function(){var e=this[0];if(e)return e._private.group}},dD=function(e,n){var r=e.cy(),i=r.hasCompoundNodes();function o(c){var d=c.pstyle("z-compound-depth");return d.value==="auto"?i?c.zDepth():0:d.value==="bottom"?-1:d.value==="top"?Ep:0}var a=o(e)-o(n);if(a!==0)return a;function s(c){var d=c.pstyle("z-index-compare");return d.value==="auto"&&c.isNode()?1:0}var u=s(e)-s(n);if(u!==0)return u;var l=e.pstyle("z-index").value-n.pstyle("z-index").value;return l!==0?l:e.poolIndex()-n.poolIndex()},nc={forEach:function(e,n){if(ht(e))for(var r=this.length,i=0;i<r;i++){var o=this[i],a=n?e.apply(n,[o,i,this]):e(o,i,this);if(a===!1)break}return this},toArray:function(){for(var e=[],n=0;n<this.length;n++)e.push(this[n]);return e},slice:function(e,n){var r=[],i=this.length;n==null&&(n=i),e==null&&(e=0),e<0&&(e=i+e),n<0&&(n=i+n);for(var o=e;o>=0&&o<n&&o<i;o++)r.push(this[o]);return this.spawn(r)},size:function(){return this.length},eq:function(e){return this[e]||this.spawn()},first:function(){return this[0]||this.spawn()},last:function(){return this[this.length-1]||this.spawn()},empty:function(){return this.length===0},nonempty:function(){return!this.empty()},sort:function(e){if(!ht(e))return this;var n=this.toArray().sort(e);return this.spawn(n)},sortByZIndex:function(){return this.sort(dD)},zDepth:function(){var e=this[0];if(e){var n=e._private,r=n.group;if(r==="nodes"){var i=n.data.parent?e.parents().size():0;return e.isParent()?i:Ep-1}else{var o=n.source,a=n.target,s=o.zDepth(),u=a.zDepth();return Math.max(s,u,0)}}}};nc.each=nc.forEach;var hO=function(){var e="undefined",n=(typeof Symbol>"u"?"undefined":St(Symbol))!=e&&St(Symbol.iterator)!=e;n&&(nc[Symbol.iterator]=function(){var r=this,i={value:void 0,done:!1},o=0,a=this.length;return sb({next:function(){return o<a?i.value=r[o++]:(i.value=void 0,i.done=!0),i}},Symbol.iterator,function(){return this})})};hO();var pO=Vt({nodeDimensionsIncludeLabels:!1}),Ul={layoutDimensions:function(e){e=pO(e);var n;if(!this.takesUpSpace())n={w:0,h:0};else if(e.nodeDimensionsIncludeLabels){var r=this.boundingBox();n={w:r.w,h:r.h}}else n={w:this.outerWidth(),h:this.outerHeight()};return(n.w===0||n.h===0)&&(n.w=n.h=1),n},layoutPositions:function(e,n,r){var i=this.nodes().filter(function(I){return!I.isParent()}),o=this.cy(),a=n.eles,s=function(E){return E.id()},u=ms(r,s);e.emit({type:"layoutstart",layout:e}),e.animations=[];var l=function(E,D,S){var C={x:D.x1+D.w/2,y:D.y1+D.h/2},N={x:(S.x-C.x)*E,y:(S.y-C.y)*E};return{x:C.x+N.x,y:C.y+N.y}},c=n.spacingFactor&&n.spacingFactor!==1,d=function(){if(!c)return null;for(var E=rn(),D=0;D<i.length;D++){var S=i[D],C=u(S,D);gN(E,C.x,C.y)}return E},f=d(),h=ms(function(I,E){var D=u(I,E);if(c){var S=Math.abs(n.spacingFactor);D=l(S,f,D)}return n.transform!=null&&(D=n.transform(I,D)),D},s);if(n.animate){for(var p=0;p<i.length;p++){var m=i[p],v=h(m,p),g=n.animateFilter==null||n.animateFilter(m,p);if(g){var y=m.animation({position:v,duration:n.animationDuration,easing:n.animationEasing});e.animations.push(y)}else m.position(v)}if(n.fit){var w=o.animation({fit:{boundingBox:a.boundingBoxAt(h),padding:n.padding},duration:n.animationDuration,easing:n.animationEasing});e.animations.push(w)}else if(n.zoom!==void 0&&n.pan!==void 0){var b=o.animation({zoom:n.zoom,pan:n.pan,duration:n.animationDuration,easing:n.animationEasing});e.animations.push(b)}e.animations.forEach(function(I){return I.play()}),e.one("layoutready",n.ready),e.emit({type:"layoutready",layout:e}),Yo.all(e.animations.map(function(I){return I.promise()})).then(function(){e.one("layoutstop",n.stop),e.emit({type:"layoutstop",layout:e})})}else i.positions(h),n.fit&&o.fit(n.eles,n.padding),n.zoom!=null&&o.zoom(n.zoom),n.pan&&o.pan(n.pan),e.one("layoutready",n.ready),e.emit({type:"layoutready",layout:e}),e.one("layoutstop",n.stop),e.emit({type:"layoutstop",layout:e});return this},layout:function(e){var n=this.cy();return n.makeLayout(ye({},e,{eles:this}))}};Ul.createLayout=Ul.makeLayout=Ul.layout;function fD(t,e,n){var r=n._private,i=r.styleCache=r.styleCache||[],o;return(o=i[t])!=null||(o=i[t]=e(n)),o}function yc(t,e){return t=Ri(t),function(r){return fD(t,e,r)}}function wc(t,e){t=Ri(t);var n=function(i){return e.call(i)};return function(){var i=this[0];if(i)return fD(t,n,i)}}var Ft={recalculateRenderedStyle:function(e){var n=this.cy(),r=n.renderer(),i=n.styleEnabled();return r&&i&&r.recalculateRenderedStyle(this,e),this},dirtyStyleCache:function(){var e=this.cy(),n=function(o){return o._private.styleCache=null};if(e.hasCompoundNodes()){var r;r=this.spawnSelf().merge(this.descendants()).merge(this.parents()),r.merge(r.connectedEdges()),r.forEach(n)}else this.forEach(function(i){n(i),i.connectedEdges().forEach(n)});return this},updateStyle:function(e){var n=this._private.cy;if(!n.styleEnabled())return this;if(n.batching()){var r=n._private.batchStyleEles;return r.merge(this),this}var i=n.hasCompoundNodes(),o=this;e=!!(e||e===void 0),i&&(o=this.spawnSelf().merge(this.descendants()).merge(this.parents()));var a=o;return e?a.emitAndNotify("style"):a.emit("style"),o.forEach(function(s){return s._private.styleDirty=!0}),this},cleanStyle:function(){var e=this.cy();if(e.styleEnabled())for(var n=0;n<this.length;n++){var r=this[n];r._private.styleDirty&&(r._private.styleDirty=!1,e.style().apply(r))}},parsedStyle:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=this[0],i=r.cy();if(i.styleEnabled()&&r){this.cleanStyle();var o=r._private.style[e];return o??(n?i.style().getDefaultProperty(e):null)}},numericStyle:function(e){var n=this[0];if(n.cy().styleEnabled()&&n){var r=n.pstyle(e);return r.pfValue!==void 0?r.pfValue:r.value}},numericStyleUnits:function(e){var n=this[0];if(n.cy().styleEnabled()&&n)return n.pstyle(e).units},renderedStyle:function(e){var n=this.cy();if(!n.styleEnabled())return this;var r=this[0];if(r)return n.style().getRenderedStyle(r,e)},style:function(e,n){var r=this.cy();if(!r.styleEnabled())return this;var i=!1,o=r.style();if(Ue(e)){var a=e;o.applyBypass(this,a,i),this.emitAndNotify("style")}else if(pe(e))if(n===void 0){var s=this[0];return s?o.getStylePropertyValue(s,e):void 0}else o.applyBypass(this,e,n,i),this.emitAndNotify("style");else if(e===void 0){var u=this[0];return u?o.getRawStyle(u):void 0}return this},removeStyle:function(e){var n=this.cy();if(!n.styleEnabled())return this;var r=!1,i=n.style(),o=this;if(e===void 0)for(var a=0;a<o.length;a++){var s=o[a];i.removeAllBypasses(s,r)}else{e=e.split(/\s+/);for(var u=0;u<o.length;u++){var l=o[u];i.removeBypasses(l,e,r)}}return this.emitAndNotify("style"),this},show:function(){return this.css("display","element"),this},hide:function(){return this.css("display","none"),this},effectiveOpacity:function(){var e=this.cy();if(!e.styleEnabled())return 1;var n=e.hasCompoundNodes(),r=this[0];if(r){var i=r._private,o=r.pstyle("opacity").value;if(!n)return o;var a=i.data.parent?r.parents():null;if(a)for(var s=0;s<a.length;s++){var u=a[s],l=u.pstyle("opacity").value;o=l*o}return o}},transparent:function(){var e=this.cy();if(!e.styleEnabled())return!1;var n=this[0],r=n.cy().hasCompoundNodes();if(n)return r?n.effectiveOpacity()===0:n.pstyle("opacity").value===0},backgrounding:function(){var e=this.cy();if(!e.styleEnabled())return!1;var n=this[0];return!!n._private.backgrounding}};function Qh(t,e){var n=t._private,r=n.data.parent?t.parents():null;if(r)for(var i=0;i<r.length;i++){var o=r[i];if(!e(o))return!1}return!0}function Op(t){var e=t.ok,n=t.edgeOkViaNode||t.ok,r=t.parentOk||t.ok;return function(){var i=this.cy();if(!i.styleEnabled())return!0;var o=this[0],a=i.hasCompoundNodes();if(o){var s=o._private;if(!e(o))return!1;if(o.isNode())return!a||Qh(o,r);var u=s.source,l=s.target;return n(u)&&(!a||Qh(u,n))&&(u===l||n(l)&&(!a||Qh(l,n)))}}}var Jo=yc("eleTakesUpSpace",function(t){return t.pstyle("display").value==="element"&&t.width()!==0&&(t.isNode()?t.height()!==0:!0)});Ft.takesUpSpace=wc("takesUpSpace",Op({ok:Jo}));var gO=yc("eleInteractive",function(t){return t.pstyle("events").value==="yes"&&t.pstyle("visibility").value==="visible"&&Jo(t)}),vO=yc("parentInteractive",function(t){return t.pstyle("visibility").value==="visible"&&Jo(t)});Ft.interactive=wc("interactive",Op({ok:gO,parentOk:vO,edgeOkViaNode:Jo}));Ft.noninteractive=function(){var t=this[0];if(t)return!t.interactive()};var mO=yc("eleVisible",function(t){return t.pstyle("visibility").value==="visible"&&t.pstyle("opacity").pfValue!==0&&Jo(t)}),yO=Jo;Ft.visible=wc("visible",Op({ok:mO,edgeOkViaNode:yO}));Ft.hidden=function(){var t=this[0];if(t)return!t.visible()};Ft.isBundledBezier=wc("isBundledBezier",function(){return this.cy().styleEnabled()?!this.removed()&&this.pstyle("curve-style").value==="bezier"&&this.takesUpSpace():!1});Ft.bypass=Ft.css=Ft.style;Ft.renderedCss=Ft.renderedStyle;Ft.removeBypass=Ft.removeCss=Ft.removeStyle;Ft.pstyle=Ft.parsedStyle;var zr={};function Nw(t){return function(){var e=arguments,n=[];if(e.length===2){var r=e[0],i=e[1];this.on(t.event,r,i)}else if(e.length===1&&ht(e[0])){var o=e[0];this.on(t.event,o)}else if(e.length===0||e.length===1&&ot(e[0])){for(var a=e.length===1?e[0]:null,s=0;s<this.length;s++){var u=this[s],l=!t.ableField||u._private[t.ableField],c=u._private[t.field]!=t.value;if(t.overrideAble){var d=t.overrideAble(u);if(d!==void 0&&(l=d,!d))return this}l&&(u._private[t.field]=t.value,c&&n.push(u))}var f=this.spawn(n);f.updateStyle(),f.emit(t.event),a&&f.emit(a)}return this}}function ea(t){zr[t.field]=function(){var e=this[0];if(e){if(t.overrideField){var n=t.overrideField(e);if(n!==void 0)return n}return e._private[t.field]}},zr[t.on]=Nw({event:t.on,field:t.field,ableField:t.ableField,overrideAble:t.overrideAble,value:!0}),zr[t.off]=Nw({event:t.off,field:t.field,ableField:t.ableField,overrideAble:t.overrideAble,value:!1})}ea({field:"locked",overrideField:function(e){return e.cy().autolock()?!0:void 0},on:"lock",off:"unlock"});ea({field:"grabbable",overrideField:function(e){return e.cy().autoungrabify()||e.pannable()?!1:void 0},on:"grabify",off:"ungrabify"});ea({field:"selected",ableField:"selectable",overrideAble:function(e){return e.cy().autounselectify()?!1:void 0},on:"select",off:"unselect"});ea({field:"selectable",overrideField:function(e){return e.cy().autounselectify()?!1:void 0},on:"selectify",off:"unselectify"});zr.deselect=zr.unselect;zr.grabbed=function(){var t=this[0];if(t)return t._private.grabbed};ea({field:"active",on:"activate",off:"unactivate"});ea({field:"pannable",on:"panify",off:"unpanify"});zr.inactive=function(){var t=this[0];if(t)return!t._private.active};var Wt={},Rw=function(e){return function(r){for(var i=this,o=[],a=0;a<i.length;a++){var s=i[a];if(s.isNode()){for(var u=!1,l=s.connectedEdges(),c=0;c<l.length;c++){var d=l[c],f=d.source(),h=d.target();if(e.noIncomingEdges&&h===s&&f!==s||e.noOutgoingEdges&&f===s&&h!==s){u=!0;break}}u||o.push(s)}}return this.spawn(o,!0).filter(r)}},_w=function(e){return function(n){for(var r=this,i=[],o=0;o<r.length;o++){var a=r[o];if(a.isNode())for(var s=a.connectedEdges(),u=0;u<s.length;u++){var l=s[u],c=l.source(),d=l.target();e.outgoing&&c===a?(i.push(l),i.push(d)):e.incoming&&d===a&&(i.push(l),i.push(c))}}return this.spawn(i,!0).filter(n)}},kw=function(e){return function(n){for(var r=this,i=[],o={};;){var a=e.outgoing?r.outgoers():r.incomers();if(a.length===0)break;for(var s=!1,u=0;u<a.length;u++){var l=a[u],c=l.id();o[c]||(o[c]=!0,i.push(l),s=!0)}if(!s)break;r=a}return this.spawn(i,!0).filter(n)}};Wt.clearTraversalCache=function(){for(var t=0;t<this.length;t++)this[t]._private.traversalCache=null};ye(Wt,{roots:Rw({noIncomingEdges:!0}),leaves:Rw({noOutgoingEdges:!0}),outgoers:Sn(_w({outgoing:!0}),"outgoers"),successors:kw({outgoing:!0}),incomers:Sn(_w({incoming:!0}),"incomers"),predecessors:kw({incoming:!0})});ye(Wt,{neighborhood:Sn(function(t){for(var e=[],n=this.nodes(),r=0;r<n.length;r++)for(var i=n[r],o=i.connectedEdges(),a=0;a<o.length;a++){var s=o[a],u=s.source(),l=s.target(),c=i===u?l:u;c.length>0&&e.push(c[0]),e.push(s[0])}return this.spawn(e,!0).filter(t)},"neighborhood"),closedNeighborhood:function(e){return this.neighborhood().add(this).filter(e)},openNeighborhood:function(e){return this.neighborhood(e)}});Wt.neighbourhood=Wt.neighborhood;Wt.closedNeighbourhood=Wt.closedNeighborhood;Wt.openNeighbourhood=Wt.openNeighborhood;ye(Wt,{source:Sn(function(e){var n=this[0],r;return n&&(r=n._private.source||n.cy().collection()),r&&e?r.filter(e):r},"source"),target:Sn(function(e){var n=this[0],r;return n&&(r=n._private.target||n.cy().collection()),r&&e?r.filter(e):r},"target"),sources:Ow({attr:"source"}),targets:Ow({attr:"target"})});function Ow(t){return function(n){for(var r=[],i=0;i<this.length;i++){var o=this[i],a=o._private[t.attr];a&&r.push(a)}return this.spawn(r,!0).filter(n)}}ye(Wt,{edgesWith:Sn(Pw(),"edgesWith"),edgesTo:Sn(Pw({thisIsSrc:!0}),"edgesTo")});function Pw(t){return function(n){var r=[],i=this._private.cy,o=t||{};pe(n)&&(n=i.$(n));for(var a=0;a<n.length;a++)for(var s=n[a]._private.edges,u=0;u<s.length;u++){var l=s[u],c=l._private.data,d=this.hasElementWithId(c.source)&&n.hasElementWithId(c.target),f=n.hasElementWithId(c.source)&&this.hasElementWithId(c.target),h=d||f;h&&((o.thisIsSrc||o.thisIsTgt)&&(o.thisIsSrc&&!d||o.thisIsTgt&&!f)||r.push(l))}return this.spawn(r,!0)}}ye(Wt,{connectedEdges:Sn(function(t){for(var e=[],n=this,r=0;r<n.length;r++){var i=n[r];if(i.isNode())for(var o=i._private.edges,a=0;a<o.length;a++){var s=o[a];e.push(s)}}return this.spawn(e,!0).filter(t)},"connectedEdges"),connectedNodes:Sn(function(t){for(var e=[],n=this,r=0;r<n.length;r++){var i=n[r];i.isEdge()&&(e.push(i.source()[0]),e.push(i.target()[0]))}return this.spawn(e,!0).filter(t)},"connectedNodes"),parallelEdges:Sn(Lw(),"parallelEdges"),codirectedEdges:Sn(Lw({codirected:!0}),"codirectedEdges")});function Lw(t){var e={codirected:!1};return t=ye({},e,t),function(r){for(var i=[],o=this.edges(),a=t,s=0;s<o.length;s++)for(var u=o[s],l=u._private,c=l.source,d=c._private.data.id,f=l.data.target,h=c._private.edges,p=0;p<h.length;p++){var m=h[p],v=m._private.data,g=v.target,y=v.source,w=g===f&&y===d,b=d===g&&f===y;(a.codirected&&w||!a.codirected&&(w||b))&&i.push(m)}return this.spawn(i,!0).filter(r)}}ye(Wt,{components:function(e){var n=this,r=n.cy(),i=r.collection(),o=e==null?n.nodes():e.nodes(),a=[];e!=null&&o.empty()&&(o=e.sources());var s=function(c,d){i.merge(c),o.unmerge(c),d.merge(c)};if(o.empty())return n.spawn();var u=function(){var c=r.collection();a.push(c);var d=o[0];s(d,c),n.bfs({directed:!1,roots:d,visit:function(h){return s(h,c)}}),c.forEach(function(f){f.connectedEdges().forEach(function(h){n.has(h)&&c.has(h.source())&&c.has(h.target())&&c.merge(h)})})};do u();while(o.length>0);return a},component:function(){var e=this[0];return e.cy().mutableElements().components(e)[0]}});Wt.componentsOf=Wt.components;var Bt=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(e===void 0){pt("A collection must have a reference to the core");return}var o=new tr,a=!1;if(!n)n=[];else if(n.length>0&&Ue(n[0])&&!As(n[0])){a=!0;for(var s=[],u=new Zo,l=0,c=n.length;l<c;l++){var d=n[l];d.data==null&&(d.data={});var f=d.data;if(f.id==null)f.id=Sb();else if(e.hasElementWithId(f.id)||u.has(f.id))continue;var h=new cc(e,d,!1);s.push(h),u.add(f.id)}n=s}this.length=0;for(var p=0,m=n.length;p<m;p++){var v=n[p][0];if(v!=null){var g=v._private.data.id;(!r||!o.has(g))&&(r&&o.set(g,{index:this.length,ele:v}),this[this.length]=v,this.length++)}}this._private={eles:this,cy:e,get map(){return this.lazyMap==null&&this.rebuildMap(),this.lazyMap},set map(y){this.lazyMap=y},rebuildMap:function(){for(var w=this.lazyMap=new tr,b=this.eles,I=0;I<b.length;I++){var E=b[I];w.set(E.id(),{index:I,ele:E})}}},r&&(this._private.map=o),a&&!i&&this.restore()},ut=cc.prototype=Bt.prototype=Object.create(Array.prototype);ut.instanceString=function(){return"collection"};ut.spawn=function(t,e){return new Bt(this.cy(),t,e)};ut.spawnSelf=function(){return this.spawn(this)};ut.cy=function(){return this._private.cy};ut.renderer=function(){return this._private.cy.renderer()};ut.element=function(){return this[0]};ut.collection=function(){return db(this)?this:new Bt(this._private.cy,[this])};ut.unique=function(){return new Bt(this._private.cy,this,!0)};ut.hasElementWithId=function(t){return t=""+t,this._private.map.has(t)};ut.getElementById=function(t){t=""+t;var e=this._private.cy,n=this._private.map.get(t);return n?n.ele:new Bt(e)};ut.$id=ut.getElementById;ut.poolIndex=function(){var t=this._private.cy,e=t._private.elements,n=this[0]._private.data.id;return e._private.map.get(n).index};ut.indexOf=function(t){var e=t[0]._private.data.id;return this._private.map.get(e).index};ut.indexOfId=function(t){return t=""+t,this._private.map.get(t).index};ut.json=function(t){var e=this.element(),n=this.cy();if(e==null&&t)return this;if(e!=null){var r=e._private;if(Ue(t)){if(n.startBatch(),t.data){e.data(t.data);var i=r.data;if(e.isEdge()){var o=!1,a={},s=t.data.source,u=t.data.target;s!=null&&s!=i.source&&(a.source=""+s,o=!0),u!=null&&u!=i.target&&(a.target=""+u,o=!0),o&&(e=e.move(a))}else{var l="parent"in t.data,c=t.data.parent;l&&(c!=null||i.parent!=null)&&c!=i.parent&&(c===void 0&&(c=null),c!=null&&(c=""+c),e=e.move({parent:c}))}}t.position&&e.position(t.position);var d=function(m,v,g){var y=t[m];y!=null&&y!==r[m]&&(y?e[v]():e[g]())};return d("removed","remove","restore"),d("selected","select","unselect"),d("selectable","selectify","unselectify"),d("locked","lock","unlock"),d("grabbable","grabify","ungrabify"),d("pannable","panify","unpanify"),t.classes!=null&&e.classes(t.classes),n.endBatch(),this}else if(t===void 0){var f={data:er(r.data),position:er(r.position),group:r.group,removed:r.removed,selected:r.selected,selectable:r.selectable,locked:r.locked,grabbable:r.grabbable,pannable:r.pannable,classes:null};f.classes="";var h=0;return r.classes.forEach(function(p){return f.classes+=h++===0?p:" "+p}),f}}};ut.jsons=function(){for(var t=[],e=0;e<this.length;e++){var n=this[e],r=n.json();t.push(r)}return t};ut.clone=function(){for(var t=this.cy(),e=[],n=0;n<this.length;n++){var r=this[n],i=r.json(),o=new cc(t,i,!1);e.push(o)}return new Bt(t,e)};ut.copy=ut.clone;ut.restore=function(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=this,r=n.cy(),i=r._private,o=[],a=[],s,u=0,l=n.length;u<l;u++){var c=n[u];e&&!c.removed()||(c.isNode()?o.push(c):a.push(c))}s=o.concat(a);var d,f=function(){s.splice(d,1),d--};for(d=0;d<s.length;d++){var h=s[d],p=h._private,m=p.data;if(h.clearTraversalCache(),!(!e&&!p.removed)){if(m.id===void 0)m.id=Sb();else if(ie(m.id))m.id=""+m.id;else if(Ur(m.id)||!pe(m.id)){pt("Can not create element with invalid string ID `"+m.id+"`"),f();continue}else if(r.hasElementWithId(m.id)){pt("Can not create second element with ID `"+m.id+"`"),f();continue}}var v=m.id;if(h.isNode()){var g=p.position;g.x==null&&(g.x=0),g.y==null&&(g.y=0)}if(h.isEdge()){for(var y=h,w=["source","target"],b=w.length,I=!1,E=0;E<b;E++){var D=w[E],S=m[D];ie(S)&&(S=m[D]=""+m[D]),S==null||S===""?(pt("Can not create edge `"+v+"` with unspecified "+D),I=!0):r.hasElementWithId(S)||(pt("Can not create edge `"+v+"` with nonexistant "+D+" `"+S+"`"),I=!0)}if(I){f();continue}var C=r.getElementById(m.source),N=r.getElementById(m.target);C.same(N)?C._private.edges.push(y):(C._private.edges.push(y),N._private.edges.push(y)),y._private.source=C,y._private.target=N}p.map=new tr,p.map.set(v,{ele:h,index:0}),p.removed=!1,e&&r.addToPool(h)}for(var M=0;M<o.length;M++){var A=o[M],R=A._private.data;ie(R.parent)&&(R.parent=""+R.parent);var T=R.parent,O=T!=null;if(O||A._private.parent){var _=A._private.parent?r.collection().merge(A._private.parent):r.getElementById(T);if(_.empty())R.parent=void 0;else if(_[0].removed())Xe("Node added with missing parent, reference to parent removed"),R.parent=void 0,A._private.parent=null;else{for(var k=!1,P=_;!P.empty();){if(A.same(P)){k=!0,R.parent=void 0;break}P=P.parent()}k||(_[0]._private.children.push(A),A._private.parent=_[0],i.hasCompoundNodes=!0)}}}if(s.length>0){for(var V=s.length===n.length?n:new Bt(r,s),z=0;z<V.length;z++){var B=V[z];B.isNode()||(B.parallelEdges().clearTraversalCache(),B.source().clearTraversalCache(),B.target().clearTraversalCache())}var $;i.hasCompoundNodes?$=r.collection().merge(V).merge(V.connectedNodes()).merge(V.parent()):$=V,$.dirtyCompoundBoundsCache().dirtyBoundingBoxCache().updateStyle(t),t?V.emitAndNotify("add"):e&&V.emit("add")}return n};ut.removed=function(){var t=this[0];return t&&t._private.removed};ut.inside=function(){var t=this[0];return t&&!t._private.removed};ut.remove=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=this,r=[],i={},o=n._private.cy;function a(T){for(var O=T._private.edges,_=0;_<O.length;_++)u(O[_])}function s(T){for(var O=T._private.children,_=0;_<O.length;_++)u(O[_])}function u(T){var O=i[T.id()];e&&T.removed()||O||(i[T.id()]=!0,T.isNode()?(r.push(T),a(T),s(T)):r.unshift(T))}for(var l=0,c=n.length;l<c;l++){var d=n[l];u(d)}function f(T,O){var _=T._private.edges;qr(_,O),T.clearTraversalCache()}function h(T){T.clearTraversalCache()}var p=[];p.ids={};function m(T,O){O=O[0],T=T[0];var _=T._private.children,k=T.id();qr(_,O),O._private.parent=null,p.ids[k]||(p.ids[k]=!0,p.push(T))}n.dirtyCompoundBoundsCache(),e&&o.removeFromPool(r);for(var v=0;v<r.length;v++){var g=r[v];if(g.isEdge()){var y=g.source()[0],w=g.target()[0];f(y,g),f(w,g);for(var b=g.parallelEdges(),I=0;I<b.length;I++){var E=b[I];h(E),E.isBundledBezier()&&E.dirtyBoundingBoxCache()}}else{var D=g.parent();D.length!==0&&m(D,g)}e&&(g._private.removed=!0)}var S=o._private.elements;o._private.hasCompoundNodes=!1;for(var C=0;C<S.length;C++){var N=S[C];if(N.isParent()){o._private.hasCompoundNodes=!0;break}}var M=new Bt(this.cy(),r);M.size()>0&&(t?M.emitAndNotify("remove"):e&&M.emit("remove"));for(var A=0;A<p.length;A++){var R=p[A];(!e||!R.removed())&&R.updateStyle()}return M};ut.move=function(t){var e=this._private.cy,n=this,r=!1,i=!1,o=function(p){return p==null?p:""+p};if(t.source!==void 0||t.target!==void 0){var a=o(t.source),s=o(t.target),u=a!=null&&e.hasElementWithId(a),l=s!=null&&e.hasElementWithId(s);(u||l)&&(e.batch(function(){n.remove(r,i),n.emitAndNotify("moveout");for(var h=0;h<n.length;h++){var p=n[h],m=p._private.data;p.isEdge()&&(u&&(m.source=a),l&&(m.target=s))}n.restore(r,i)}),n.emitAndNotify("move"))}else if(t.parent!==void 0){var c=o(t.parent),d=c===null||e.hasElementWithId(c);if(d){var f=c===null?void 0:c;e.batch(function(){var h=n.remove(r,i);h.emitAndNotify("moveout");for(var p=0;p<n.length;p++){var m=n[p],v=m._private.data;m.isNode()&&(v.parent=f)}h.restore(r,i)}),n.emitAndNotify("move")}}return this};[Bb,Ak,zl,Hr,Wo,qk,vc,sO,lD,cD,fO,nc,Ul,Ft,zr,Wt].forEach(function(t){ye(ut,t)});var wO={add:function(e){var n,r=this;if(gn(e)){var i=e;if(i._private.cy===r)n=i.restore();else{for(var o=[],a=0;a<i.length;a++){var s=i[a];o.push(s.json())}n=new Bt(r,o)}}else if(ot(e)){var u=e;n=new Bt(r,u)}else if(Ue(e)&&(ot(e.nodes)||ot(e.edges))){for(var l=e,c=[],d=["nodes","edges"],f=0,h=d.length;f<h;f++){var p=d[f],m=l[p];if(ot(m))for(var v=0,g=m.length;v<g;v++){var y=ye({group:p},m[v]);c.push(y)}}n=new Bt(r,c)}else{var w=e;n=new cc(r,w).collection()}return n},remove:function(e){if(!gn(e)){if(pe(e)){var n=e;e=this.$(n)}}return e.remove()}};function bO(t,e,n,r){var i=4,o=.001,a=1e-7,s=10,u=11,l=1/(u-1),c=typeof Float32Array<"u";if(arguments.length!==4)return!1;for(var d=0;d<4;++d)if(typeof arguments[d]!="number"||isNaN(arguments[d])||!isFinite(arguments[d]))return!1;t=Math.min(t,1),n=Math.min(n,1),t=Math.max(t,0),n=Math.max(n,0);var f=c?new Float32Array(u):new Array(u);function h(N,M){return 1-3*M+3*N}function p(N,M){return 3*M-6*N}function m(N){return 3*N}function v(N,M,A){return((h(M,A)*N+p(M,A))*N+m(M))*N}function g(N,M,A){return 3*h(M,A)*N*N+2*p(M,A)*N+m(M)}function y(N,M){for(var A=0;A<i;++A){var R=g(M,t,n);if(R===0)return M;var T=v(M,t,n)-N;M-=T/R}return M}function w(){for(var N=0;N<u;++N)f[N]=v(N*l,t,n)}function b(N,M,A){var R,T,O=0;do T=M+(A-M)/2,R=v(T,t,n)-N,R>0?A=T:M=T;while(Math.abs(R)>a&&++O<s);return T}function I(N){for(var M=0,A=1,R=u-1;A!==R&&f[A]<=N;++A)M+=l;--A;var T=(N-f[A])/(f[A+1]-f[A]),O=M+T*l,_=g(O,t,n);return _>=o?y(N,O):_===0?O:b(N,M,M+l)}var E=!1;function D(){E=!0,(t!==e||n!==r)&&w()}var S=function(M){return E||D(),t===e&&n===r?M:M===0?0:M===1?1:v(I(M),e,r)};S.getControlPoints=function(){return[{x:t,y:e},{x:n,y:r}]};var C="generateBezier("+[t,e,n,r]+")";return S.toString=function(){return C},S}var DO=function(){function t(r){return-r.tension*r.x-r.friction*r.v}function e(r,i,o){var a={x:r.x+o.dx*i,v:r.v+o.dv*i,tension:r.tension,friction:r.friction};return{dx:a.v,dv:t(a)}}function n(r,i){var o={dx:r.v,dv:t(r)},a=e(r,i*.5,o),s=e(r,i*.5,a),u=e(r,i,s),l=1/6*(o.dx+2*(a.dx+s.dx)+u.dx),c=1/6*(o.dv+2*(a.dv+s.dv)+u.dv);return r.x=r.x+l*i,r.v=r.v+c*i,r}return function r(i,o,a){var s={x:-1,v:0,tension:null,friction:null},u=[0],l=0,c=1/1e4,d=16/1e3,f,h,p;for(i=parseFloat(i)||500,o=parseFloat(o)||20,a=a||null,s.tension=i,s.friction=o,f=a!==null,f?(l=r(i,o),h=l/a*d):h=d;p=n(p||s,h),u.push(1+p.x),l+=16,Math.abs(p.x)>c&&Math.abs(p.v)>c;);return f?function(m){return u[m*(u.length-1)|0]}:l}}(),st=function(e,n,r,i){var o=bO(e,n,r,i);return function(a,s,u){return a+(s-a)*o(u)}},ql={linear:function(e,n,r){return e+(n-e)*r},ease:st(.25,.1,.25,1),"ease-in":st(.42,0,1,1),"ease-out":st(0,0,.58,1),"ease-in-out":st(.42,0,.58,1),"ease-in-sine":st(.47,0,.745,.715),"ease-out-sine":st(.39,.575,.565,1),"ease-in-out-sine":st(.445,.05,.55,.95),"ease-in-quad":st(.55,.085,.68,.53),"ease-out-quad":st(.25,.46,.45,.94),"ease-in-out-quad":st(.455,.03,.515,.955),"ease-in-cubic":st(.55,.055,.675,.19),"ease-out-cubic":st(.215,.61,.355,1),"ease-in-out-cubic":st(.645,.045,.355,1),"ease-in-quart":st(.895,.03,.685,.22),"ease-out-quart":st(.165,.84,.44,1),"ease-in-out-quart":st(.77,0,.175,1),"ease-in-quint":st(.755,.05,.855,.06),"ease-out-quint":st(.23,1,.32,1),"ease-in-out-quint":st(.86,0,.07,1),"ease-in-expo":st(.95,.05,.795,.035),"ease-out-expo":st(.19,1,.22,1),"ease-in-out-expo":st(1,0,0,1),"ease-in-circ":st(.6,.04,.98,.335),"ease-out-circ":st(.075,.82,.165,1),"ease-in-out-circ":st(.785,.135,.15,.86),spring:function(e,n,r){if(r===0)return ql.linear;var i=DO(e,n,r);return function(o,a,s){return o+(a-o)*i(s)}},"cubic-bezier":st};function Fw(t,e,n,r,i){if(r===1||e===n)return n;var o=i(e,n,r);return t==null||((t.roundValue||t.color)&&(o=Math.round(o)),t.min!==void 0&&(o=Math.max(o,t.min)),t.max!==void 0&&(o=Math.min(o,t.max))),o}function Bw(t,e){return t.pfValue!=null||t.value!=null?t.pfValue!=null&&(e==null||e.type.units!=="%")?t.pfValue:t.value:t}function Oo(t,e,n,r,i){var o=i!=null?i.type:null;n<0?n=0:n>1&&(n=1);var a=Bw(t,i),s=Bw(e,i);if(ie(a)&&ie(s))return Fw(o,a,s,n,r);if(ot(a)&&ot(s)){for(var u=[],l=0;l<s.length;l++){var c=a[l],d=s[l];if(c!=null&&d!=null){var f=Fw(o,c,d,n,r);u.push(f)}else u.push(d)}return u}}function EO(t,e,n,r){var i=!r,o=t._private,a=e._private,s=a.easing,u=a.startTime,l=r?t:t.cy(),c=l.style();if(!a.easingImpl)if(s==null)a.easingImpl=ql.linear;else{var d;if(pe(s)){var f=c.parse("transition-timing-function",s);d=f.value}else d=s;var h,p;pe(d)?(h=d,p=[]):(h=d[1],p=d.slice(2).map(function(V){return+V})),p.length>0?(h==="spring"&&p.push(a.duration),a.easingImpl=ql[h].apply(null,p)):a.easingImpl=ql[h]}var m=a.easingImpl,v;if(a.duration===0?v=1:v=(n-u)/a.duration,a.applying&&(v=a.progress),v<0?v=0:v>1&&(v=1),a.delay==null){var g=a.startPosition,y=a.position;if(y&&i&&!t.locked()){var w={};ls(g.x,y.x)&&(w.x=Oo(g.x,y.x,v,m)),ls(g.y,y.y)&&(w.y=Oo(g.y,y.y,v,m)),t.position(w)}var b=a.startPan,I=a.pan,E=o.pan,D=I!=null&&r;D&&(ls(b.x,I.x)&&(E.x=Oo(b.x,I.x,v,m)),ls(b.y,I.y)&&(E.y=Oo(b.y,I.y,v,m)),t.emit("pan"));var S=a.startZoom,C=a.zoom,N=C!=null&&r;N&&(ls(S,C)&&(o.zoom=Ds(o.minZoom,Oo(S,C,v,m),o.maxZoom)),t.emit("zoom")),(D||N)&&t.emit("viewport");var M=a.style;if(M&&M.length>0&&i){for(var A=0;A<M.length;A++){var R=M[A],T=R.name,O=R,_=a.startStyle[T],k=c.properties[_.name],P=Oo(_,O,v,m,k);c.overrideBypass(t,T,P)}t.emit("style")}}return a.progress=v,v}function ls(t,e){return t==null||e==null?!1:ie(t)&&ie(e)?!0:!!(t&&e)}function CO(t,e,n,r){var i=e._private;i.started=!0,i.startTime=n-i.progress*i.duration}function Vw(t,e){var n=e._private.aniEles,r=[];function i(c,d){var f=c._private,h=f.animation.current,p=f.animation.queue,m=!1;if(h.length===0){var v=p.shift();v&&h.push(v)}for(var g=function(E){for(var D=E.length-1;D>=0;D--){var S=E[D];S()}E.splice(0,E.length)},y=h.length-1;y>=0;y--){var w=h[y],b=w._private;if(b.stopped){h.splice(y,1),b.hooked=!1,b.playing=!1,b.started=!1,g(b.frames);continue}!b.playing&&!b.applying||(b.playing&&b.applying&&(b.applying=!1),b.started||CO(c,w,t),EO(c,w,t,d),b.applying&&(b.applying=!1),g(b.frames),b.step!=null&&b.step(t),w.completed()&&(h.splice(y,1),b.hooked=!1,b.playing=!1,b.started=!1,g(b.completes)),m=!0)}return!d&&h.length===0&&p.length===0&&r.push(c),m}for(var o=!1,a=0;a<n.length;a++){var s=n[a],u=i(s);o=o||u}var l=i(e,!0);(o||l)&&(n.length>0?e.notify("draw",n):e.notify("draw")),n.unmerge(r),e.emit("step")}var IO={animate:Qe.animate(),animation:Qe.animation(),animated:Qe.animated(),clearQueue:Qe.clearQueue(),delay:Qe.delay(),delayAnimation:Qe.delayAnimation(),stop:Qe.stop(),addToAnimationPool:function(e){var n=this;n.styleEnabled()&&n._private.aniEles.merge(e)},stopAnimationLoop:function(){this._private.animationsRunning=!1},startAnimationLoop:function(){var e=this;if(e._private.animationsRunning=!0,!e.styleEnabled())return;function n(){e._private.animationsRunning&&Ql(function(o){Vw(o,e),n()})}var r=e.renderer();r&&r.beforeRender?r.beforeRender(function(o,a){Vw(a,e)},r.beforeRenderPriorities.animations):n()}},SO={qualifierCompare:function(e,n){return e==null||n==null?e==null&&n==null:e.sameText(n)},eventMatches:function(e,n,r){var i=n.qualifier;return i!=null?e!==r.target&&As(r.target)&&i.matches(r.target):!0},addEventFields:function(e,n){n.cy=e,n.target=e},callbackContext:function(e,n,r){return n.qualifier!=null?r.target:e}},Bl=function(e){return pe(e)?new Gr(e):e},hD={createEmitter:function(){var e=this._private;return e.emitter||(e.emitter=new mc(SO,this)),this},emitter:function(){return this._private.emitter},on:function(e,n,r){return this.emitter().on(e,Bl(n),r),this},removeListener:function(e,n,r){return this.emitter().removeListener(e,Bl(n),r),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},one:function(e,n,r){return this.emitter().one(e,Bl(n),r),this},once:function(e,n,r){return this.emitter().one(e,Bl(n),r),this},emit:function(e,n){return this.emitter().emit(e,n),this},emitAndNotify:function(e,n){return this.emit(e),this.notify(e,n),this}};Qe.eventAliasesOn(hD);var up={png:function(e){var n=this._private.renderer;return e=e||{},n.png(e)},jpg:function(e){var n=this._private.renderer;return e=e||{},e.bg=e.bg||"#fff",n.jpg(e)}};up.jpeg=up.jpg;var Gl={layout:function(e){var n=this;if(e==null){pt("Layout options must be specified to make a layout");return}if(e.name==null){pt("A `name` must be specified to make a layout");return}var r=e.name,i=n.extension("layout",r);if(i==null){pt("No such layout `"+r+"` found.  Did you forget to import it and `cytoscape.use()` it?");return}var o;pe(e.eles)?o=n.$(e.eles):o=e.eles!=null?e.eles:n.$();var a=new i(ye({},e,{cy:n,eles:o}));return a}};Gl.createLayout=Gl.makeLayout=Gl.layout;var xO={notify:function(e,n){var r=this._private;if(this.batching()){r.batchNotifications=r.batchNotifications||{};var i=r.batchNotifications[e]=r.batchNotifications[e]||this.collection();n!=null&&i.merge(n);return}if(r.notificationsEnabled){var o=this.renderer();this.destroyed()||!o||o.notify(e,n)}},notifications:function(e){var n=this._private;return e===void 0?n.notificationsEnabled:(n.notificationsEnabled=!!e,this)},noNotifications:function(e){this.notifications(!1),e(),this.notifications(!0)},batching:function(){return this._private.batchCount>0},startBatch:function(){var e=this._private;return e.batchCount==null&&(e.batchCount=0),e.batchCount===0&&(e.batchStyleEles=this.collection(),e.batchNotifications={}),e.batchCount++,this},endBatch:function(){var e=this._private;if(e.batchCount===0)return this;if(e.batchCount--,e.batchCount===0){e.batchStyleEles.updateStyle();var n=this.renderer();Object.keys(e.batchNotifications).forEach(function(r){var i=e.batchNotifications[r];i.empty()?n.notify(r):n.notify(r,i)})}return this},batch:function(e){return this.startBatch(),e(),this.endBatch(),this},batchData:function(e){var n=this;return this.batch(function(){for(var r=Object.keys(e),i=0;i<r.length;i++){var o=r[i],a=e[o],s=n.getElementById(o);s.data(a)}})}},TO=Vt({hideEdgesOnViewport:!1,textureOnViewport:!1,motionBlur:!1,motionBlurOpacity:.05,pixelRatio:void 0,desktopTapThreshold:4,touchTapThreshold:8,wheelSensitivity:1,debug:!1,showFps:!1}),lp={renderTo:function(e,n,r,i){var o=this._private.renderer;return o.renderTo(e,n,r,i),this},renderer:function(){return this._private.renderer},forceRender:function(){return this.notify("draw"),this},resize:function(){return this.invalidateSize(),this.emitAndNotify("resize"),this},initRenderer:function(e){var n=this,r=n.extension("renderer",e.name);if(r==null){pt("Can not initialise: No such renderer `".concat(e.name,"` found. Did you forget to import it and `cytoscape.use()` it?"));return}e.wheelSensitivity!==void 0&&Xe("You have set a custom wheel sensitivity.  This will make your app zoom unnaturally when using mainstream mice.  You should change this value from the default only if you can guarantee that all your users will use the same hardware and OS configuration as your current machine.");var i=TO(e);i.cy=n,n._private.renderer=new r(i),this.notify("init")},destroyRenderer:function(){var e=this;e.notify("destroy");var n=e.container();if(n)for(n._cyreg=null;n.childNodes.length>0;)n.removeChild(n.childNodes[0]);e._private.renderer=null,e.mutableElements().forEach(function(r){var i=r._private;i.rscratch={},i.rstyle={},i.animation.current=[],i.animation.queue=[]})},onRender:function(e){return this.on("render",e)},offRender:function(e){return this.off("render",e)}};lp.invalidateDimensions=lp.resize;var Wl={collection:function(e,n){return pe(e)?this.$(e):gn(e)?e.collection():ot(e)?(n||(n={}),new Bt(this,e,n.unique,n.removed)):new Bt(this)},nodes:function(e){var n=this.$(function(r){return r.isNode()});return e?n.filter(e):n},edges:function(e){var n=this.$(function(r){return r.isEdge()});return e?n.filter(e):n},$:function(e){var n=this._private.elements;return e?n.filter(e):n.spawnSelf()},mutableElements:function(){return this._private.elements}};Wl.elements=Wl.filter=Wl.$;var Yt={},gs="t",MO="f";Yt.apply=function(t){for(var e=this,n=e._private,r=n.cy,i=r.collection(),o=0;o<t.length;o++){var a=t[o],s=e.getContextMeta(a);if(!s.empty){var u=e.getContextStyle(s),l=e.applyContextStyle(s,u,a);a._private.appliedInitStyle?e.updateTransitions(a,l.diffProps):a._private.appliedInitStyle=!0;var c=e.updateStyleHints(a);c&&i.push(a)}}return i};Yt.getPropertiesDiff=function(t,e){var n=this,r=n._private.propDiffs=n._private.propDiffs||{},i=t+"-"+e,o=r[i];if(o)return o;for(var a=[],s={},u=0;u<n.length;u++){var l=n[u],c=t[u]===gs,d=e[u]===gs,f=c!==d,h=l.mappedProperties.length>0;if(f||d&&h){var p=void 0;f&&h||f?p=l.properties:h&&(p=l.mappedProperties);for(var m=0;m<p.length;m++){for(var v=p[m],g=v.name,y=!1,w=u+1;w<n.length;w++){var b=n[w],I=e[w]===gs;if(I&&(y=b.properties[v.name]!=null,y))break}!s[g]&&!y&&(s[g]=!0,a.push(g))}}}return r[i]=a,a};Yt.getContextMeta=function(t){for(var e=this,n="",r,i=t._private.styleCxtKey||"",o=0;o<e.length;o++){var a=e[o],s=a.selector&&a.selector.matches(t);s?n+=gs:n+=MO}return r=e.getPropertiesDiff(i,n),t._private.styleCxtKey=n,{key:n,diffPropNames:r,empty:r.length===0}};Yt.getContextStyle=function(t){var e=t.key,n=this,r=this._private.contextStyles=this._private.contextStyles||{};if(r[e])return r[e];for(var i={_private:{key:e}},o=0;o<n.length;o++){var a=n[o],s=e[o]===gs;if(s)for(var u=0;u<a.properties.length;u++){var l=a.properties[u];i[l.name]=l}}return r[e]=i,i};Yt.applyContextStyle=function(t,e,n){for(var r=this,i=t.diffPropNames,o={},a=r.types,s=0;s<i.length;s++){var u=i[s],l=e[u],c=n.pstyle(u);if(!l)if(c)c.bypass?l={name:u,deleteBypassed:!0}:l={name:u,delete:!0};else continue;if(c!==l){if(l.mapped===a.fn&&c!=null&&c.mapping!=null&&c.mapping.value===l.value){var d=c.mapping,f=d.fnValue=l.value(n);if(f===d.prevFnValue)continue}var h=o[u]={prev:c};r.applyParsedProperty(n,l),h.next=n.pstyle(u),h.next&&h.next.bypass&&(h.next=h.next.bypassed)}}return{diffProps:o}};Yt.updateStyleHints=function(t){var e=t._private,n=this,r=n.propertyGroupNames,i=n.propertyGroupKeys,o=function(Z,re,ve){return n.getPropertiesHash(Z,re,ve)},a=e.styleKey;if(t.removed())return!1;var s=e.group==="nodes",u=t._private.style;r=Object.keys(u);for(var l=0;l<i.length;l++){var c=i[l];e.styleKeys[c]=[Fo,ds]}for(var d=function(Z,re){return e.styleKeys[re][0]=ys(Z,e.styleKeys[re][0])},f=function(Z,re){return e.styleKeys[re][1]=ws(Z,e.styleKeys[re][1])},h=function(Z,re){d(Z,re),f(Z,re)},p=function(Z,re){for(var ve=0;ve<Z.length;ve++){var ne=Z.charCodeAt(ve);d(ne,re),f(ne,re)}},m=2e9,v=function(Z){return-128<Z&&Z<128&&Math.floor(Z)!==Z?m-(Z*1024|0):Z},g=0;g<r.length;g++){var y=r[g],w=u[y];if(w!=null){var b=this.properties[y],I=b.type,E=b.groupKey,D=void 0;b.hashOverride!=null?D=b.hashOverride(t,w):w.pfValue!=null&&(D=w.pfValue);var S=b.enums==null?w.value:null,C=D!=null,N=S!=null,M=C||N,A=w.units;if(I.number&&M&&!I.multiple){var R=C?D:S;h(v(R),E),!C&&A!=null&&p(A,E)}else p(w.strValue,E)}}for(var T=[Fo,ds],O=0;O<i.length;O++){var _=i[O],k=e.styleKeys[_];T[0]=ys(k[0],T[0]),T[1]=ws(k[1],T[1])}e.styleKey=kA(T[0],T[1]);var P=e.styleKeys;e.labelDimsKey=Br(P.labelDimensions);var V=o(t,["label"],P.labelDimensions);if(e.labelKey=Br(V),e.labelStyleKey=Br(Al(P.commonLabel,V)),!s){var z=o(t,["source-label"],P.labelDimensions);e.sourceLabelKey=Br(z),e.sourceLabelStyleKey=Br(Al(P.commonLabel,z));var B=o(t,["target-label"],P.labelDimensions);e.targetLabelKey=Br(B),e.targetLabelStyleKey=Br(Al(P.commonLabel,B))}if(s){var $=e.styleKeys,W=$.nodeBody,K=$.nodeBorder,Q=$.nodeOutline,X=$.backgroundImage,J=$.compound,q=$.pie,L=[W,K,Q,X,J,q].filter(function(U){return U!=null}).reduce(Al,[Fo,ds]);e.nodeKey=Br(L),e.hasPie=q!=null&&q[0]!==Fo&&q[1]!==ds}return a!==e.styleKey};Yt.clearStyleHints=function(t){var e=t._private;e.styleCxtKey="",e.styleKeys={},e.styleKey=null,e.labelKey=null,e.labelStyleKey=null,e.sourceLabelKey=null,e.sourceLabelStyleKey=null,e.targetLabelKey=null,e.targetLabelStyleKey=null,e.nodeKey=null,e.hasPie=null};Yt.applyParsedProperty=function(t,e){var n=this,r=e,i=t._private.style,o,a=n.types,s=n.properties[r.name].type,u=r.bypass,l=i[r.name],c=l&&l.bypass,d=t._private,f="mapping",h=function(W){return W==null?null:W.pfValue!=null?W.pfValue:W.value},p=function(){var W=h(l),K=h(r);n.checkTriggers(t,r.name,W,K)};if(e.name==="curve-style"&&t.isEdge()&&(e.value!=="bezier"&&t.isLoop()||e.value==="haystack"&&(t.source().isParent()||t.target().isParent()))&&(r=e=this.parse(e.name,"bezier",u)),r.delete)return i[r.name]=void 0,p(),!0;if(r.deleteBypassed)return l?l.bypass?(l.bypassed=void 0,p(),!0):!1:(p(),!0);if(r.deleteBypass)return l?l.bypass?(i[r.name]=l.bypassed,p(),!0):!1:(p(),!0);var m=function(){Xe("Do not assign mappings to elements without corresponding data (i.e. ele `"+t.id()+"` has no mapping for property `"+r.name+"` with data field `"+r.field+"`); try a `["+r.field+"]` selector to limit scope to elements with `"+r.field+"` defined")};switch(r.mapped){case a.mapData:{for(var v=r.field.split("."),g=d.data,y=0;y<v.length&&g;y++){var w=v[y];g=g[w]}if(g==null)return m(),!1;var b;if(ie(g)){var I=r.fieldMax-r.fieldMin;I===0?b=0:b=(g-r.fieldMin)/I}else return Xe("Do not use continuous mappers without specifying numeric data (i.e. `"+r.field+": "+g+"` for `"+t.id()+"` is non-numeric)"),!1;if(b<0?b=0:b>1&&(b=1),s.color){var E=r.valueMin[0],D=r.valueMax[0],S=r.valueMin[1],C=r.valueMax[1],N=r.valueMin[2],M=r.valueMax[2],A=r.valueMin[3]==null?1:r.valueMin[3],R=r.valueMax[3]==null?1:r.valueMax[3],T=[Math.round(E+(D-E)*b),Math.round(S+(C-S)*b),Math.round(N+(M-N)*b),Math.round(A+(R-A)*b)];o={bypass:r.bypass,name:r.name,value:T,strValue:"rgb("+T[0]+", "+T[1]+", "+T[2]+")"}}else if(s.number){var O=r.valueMin+(r.valueMax-r.valueMin)*b;o=this.parse(r.name,O,r.bypass,f)}else return!1;if(!o)return m(),!1;o.mapping=r,r=o;break}case a.data:{for(var _=r.field.split("."),k=d.data,P=0;P<_.length&&k;P++){var V=_[P];k=k[V]}if(k!=null&&(o=this.parse(r.name,k,r.bypass,f)),!o)return m(),!1;o.mapping=r,r=o;break}case a.fn:{var z=r.value,B=r.fnValue!=null?r.fnValue:z(t);if(r.prevFnValue=B,B==null)return Xe("Custom function mappers may not return null (i.e. `"+r.name+"` for ele `"+t.id()+"` is null)"),!1;if(o=this.parse(r.name,B,r.bypass,f),!o)return Xe("Custom function mappers may not return invalid values for the property type (i.e. `"+r.name+"` for ele `"+t.id()+"` is invalid)"),!1;o.mapping=er(r),r=o;break}case void 0:break;default:return!1}return u?(c?r.bypassed=l.bypassed:r.bypassed=l,i[r.name]=r):c?l.bypassed=r:i[r.name]=r,p(),!0};Yt.cleanElements=function(t,e){for(var n=0;n<t.length;n++){var r=t[n];if(this.clearStyleHints(r),r.dirtyCompoundBoundsCache(),r.dirtyBoundingBoxCache(),!e)r._private.style={};else for(var i=r._private.style,o=Object.keys(i),a=0;a<o.length;a++){var s=o[a],u=i[s];u!=null&&(u.bypass?u.bypassed=null:i[s]=null)}}};Yt.update=function(){var t=this._private.cy,e=t.mutableElements();e.updateStyle()};Yt.updateTransitions=function(t,e){var n=this,r=t._private,i=t.pstyle("transition-property").value,o=t.pstyle("transition-duration").pfValue,a=t.pstyle("transition-delay").pfValue;if(i.length>0&&o>0){for(var s={},u=!1,l=0;l<i.length;l++){var c=i[l],d=t.pstyle(c),f=e[c];if(f){var h=f.prev,p=h,m=f.next!=null?f.next:d,v=!1,g=void 0,y=1e-6;p&&(ie(p.pfValue)&&ie(m.pfValue)?(v=m.pfValue-p.pfValue,g=p.pfValue+y*v):ie(p.value)&&ie(m.value)?(v=m.value-p.value,g=p.value+y*v):ot(p.value)&&ot(m.value)&&(v=p.value[0]!==m.value[0]||p.value[1]!==m.value[1]||p.value[2]!==m.value[2],g=p.strValue),v&&(s[c]=m.strValue,this.applyBypass(t,c,g),u=!0))}}if(!u)return;r.transitioning=!0,new Yo(function(w){a>0?t.delayAnimation(a).play().promise().then(w):w()}).then(function(){return t.animation({style:s,duration:o,easing:t.pstyle("transition-timing-function").value,queue:!1}).play().promise()}).then(function(){n.removeBypasses(t,i),t.emitAndNotify("style"),r.transitioning=!1})}else r.transitioning&&(this.removeBypasses(t,i),t.emitAndNotify("style"),r.transitioning=!1)};Yt.checkTrigger=function(t,e,n,r,i,o){var a=this.properties[e],s=i(a);s!=null&&s(n,r)&&o(a)};Yt.checkZOrderTrigger=function(t,e,n,r){var i=this;this.checkTrigger(t,e,n,r,function(o){return o.triggersZOrder},function(){i._private.cy.notify("zorder",t)})};Yt.checkBoundsTrigger=function(t,e,n,r){this.checkTrigger(t,e,n,r,function(i){return i.triggersBounds},function(i){t.dirtyCompoundBoundsCache(),t.dirtyBoundingBoxCache(),i.triggersBoundsOfParallelBeziers&&e==="curve-style"&&(n==="bezier"||r==="bezier")&&t.parallelEdges().forEach(function(o){o.dirtyBoundingBoxCache()}),i.triggersBoundsOfConnectedEdges&&e==="display"&&(n==="none"||r==="none")&&t.connectedEdges().forEach(function(o){o.dirtyBoundingBoxCache()})})};Yt.checkTriggers=function(t,e,n,r){t.dirtyStyleCache(),this.checkZOrderTrigger(t,e,n,r),this.checkBoundsTrigger(t,e,n,r)};var ks={};ks.applyBypass=function(t,e,n,r){var i=this,o=[],a=!0;if(e==="*"||e==="**"){if(n!==void 0)for(var s=0;s<i.properties.length;s++){var u=i.properties[s],l=u.name,c=this.parse(l,n,!0);c&&o.push(c)}}else if(pe(e)){var d=this.parse(e,n,!0);d&&o.push(d)}else if(Ue(e)){var f=e;r=n;for(var h=Object.keys(f),p=0;p<h.length;p++){var m=h[p],v=f[m];if(v===void 0&&(v=f[sc(m)]),v!==void 0){var g=this.parse(m,v,!0);g&&o.push(g)}}}else return!1;if(o.length===0)return!1;for(var y=!1,w=0;w<t.length;w++){for(var b=t[w],I={},E=void 0,D=0;D<o.length;D++){var S=o[D];if(r){var C=b.pstyle(S.name);E=I[S.name]={prev:C}}y=this.applyParsedProperty(b,er(S))||y,r&&(E.next=b.pstyle(S.name))}y&&this.updateStyleHints(b),r&&this.updateTransitions(b,I,a)}return y};ks.overrideBypass=function(t,e,n){e=Dp(e);for(var r=0;r<t.length;r++){var i=t[r],o=i._private.style[e],a=this.properties[e].type,s=a.color,u=a.mutiple,l=o?o.pfValue!=null?o.pfValue:o.value:null;!o||!o.bypass?this.applyBypass(i,e,n):(o.value=n,o.pfValue!=null&&(o.pfValue=n),s?o.strValue="rgb("+n.join(",")+")":u?o.strValue=n.join(" "):o.strValue=""+n,this.updateStyleHints(i)),this.checkTriggers(i,e,l,n)}};ks.removeAllBypasses=function(t,e){return this.removeBypasses(t,this.propertyNames,e)};ks.removeBypasses=function(t,e,n){for(var r=!0,i=0;i<t.length;i++){for(var o=t[i],a={},s=0;s<e.length;s++){var u=e[s],l=this.properties[u],c=o.pstyle(l.name);if(!(!c||!c.bypass)){var d="",f=this.parse(u,d,!0),h=a[l.name]={prev:c};this.applyParsedProperty(o,f),h.next=o.pstyle(l.name)}}this.updateStyleHints(o),n&&this.updateTransitions(o,a,r)}};var Pp={};Pp.getEmSizeInPixels=function(){var t=this.containerCss("font-size");return t!=null?parseFloat(t):1};Pp.containerCss=function(t){var e=this._private.cy,n=e.container(),r=e.window();if(r&&n&&r.getComputedStyle)return r.getComputedStyle(n).getPropertyValue(t)};var nr={};nr.getRenderedStyle=function(t,e){return e?this.getStylePropertyValue(t,e,!0):this.getRawStyle(t,!0)};nr.getRawStyle=function(t,e){var n=this;if(t=t[0],t){for(var r={},i=0;i<n.properties.length;i++){var o=n.properties[i],a=n.getStylePropertyValue(t,o.name,e);a!=null&&(r[o.name]=a,r[sc(o.name)]=a)}return r}};nr.getIndexedStyle=function(t,e,n,r){var i=t.pstyle(e)[n][r];return i??t.cy().style().getDefaultProperty(e)[n][0]};nr.getStylePropertyValue=function(t,e,n){var r=this;if(t=t[0],t){var i=r.properties[e];i.alias&&(i=i.pointsTo);var o=i.type,a=t.pstyle(i.name);if(a){var s=a.value,u=a.units,l=a.strValue;if(n&&o.number&&s!=null&&ie(s)){var c=t.cy().zoom(),d=function(v){return v*c},f=function(v,g){return d(v)+g},h=ot(s),p=h?u.every(function(m){return m!=null}):u!=null;return p?h?s.map(function(m,v){return f(m,u[v])}).join(" "):f(s,u):h?s.map(function(m){return pe(m)?m:""+d(m)}).join(" "):""+d(s)}else if(l!=null)return l}return null}};nr.getAnimationStartStyle=function(t,e){for(var n={},r=0;r<e.length;r++){var i=e[r],o=i.name,a=t.pstyle(o);a!==void 0&&(Ue(a)?a=this.parse(o,a.strValue):a=this.parse(o,a)),a&&(n[o]=a)}return n};nr.getPropsList=function(t){var e=this,n=[],r=t,i=e.properties;if(r)for(var o=Object.keys(r),a=0;a<o.length;a++){var s=o[a],u=r[s],l=i[s]||i[Dp(s)],c=this.parse(l.name,u);c&&n.push(c)}return n};nr.getNonDefaultPropertiesHash=function(t,e,n){var r=n.slice(),i,o,a,s,u,l;for(u=0;u<e.length;u++)if(i=e[u],o=t.pstyle(i,!1),o!=null)if(o.pfValue!=null)r[0]=ys(s,r[0]),r[1]=ws(s,r[1]);else for(a=o.strValue,l=0;l<a.length;l++)s=a.charCodeAt(l),r[0]=ys(s,r[0]),r[1]=ws(s,r[1]);return r};nr.getPropertiesHash=nr.getNonDefaultPropertiesHash;var bc={};bc.appendFromJson=function(t){for(var e=this,n=0;n<t.length;n++){var r=t[n],i=r.selector,o=r.style||r.css,a=Object.keys(o);e.selector(i);for(var s=0;s<a.length;s++){var u=a[s],l=o[u];e.css(u,l)}}return e};bc.fromJson=function(t){var e=this;return e.resetToDefault(),e.appendFromJson(t),e};bc.json=function(){for(var t=[],e=this.defaultLength;e<this.length;e++){for(var n=this[e],r=n.selector,i=n.properties,o={},a=0;a<i.length;a++){var s=i[a];o[s.name]=s.strValue}t.push({selector:r?r.toString():"core",style:o})}return t};var Lp={};Lp.appendFromString=function(t){var e=this,n=this,r=""+t,i,o,a;r=r.replace(/[/][*](\s|.)+?[*][/]/g,"");function s(){r.length>i.length?r=r.substr(i.length):r=""}function u(){o.length>a.length?o=o.substr(a.length):o=""}for(;;){var l=r.match(/^\s*$/);if(l)break;var c=r.match(/^\s*((?:.|\s)+?)\s*\{((?:.|\s)+?)\}/);if(!c){Xe("Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: "+r);break}i=c[0];var d=c[1];if(d!=="core"){var f=new Gr(d);if(f.invalid){Xe("Skipping parsing of block: Invalid selector found in string stylesheet: "+d),s();continue}}var h=c[2],p=!1;o=h;for(var m=[];;){var v=o.match(/^\s*$/);if(v)break;var g=o.match(/^\s*(.+?)\s*:\s*(.+?)(?:\s*;|\s*$)/);if(!g){Xe("Skipping parsing of block: Invalid formatting of style property and value definitions found in:"+h),p=!0;break}a=g[0];var y=g[1],w=g[2],b=e.properties[y];if(!b){Xe("Skipping property: Invalid property name in: "+a),u();continue}var I=n.parse(y,w);if(!I){Xe("Skipping property: Invalid property definition in: "+a),u();continue}m.push({name:y,val:w}),u()}if(p){s();break}n.selector(d);for(var E=0;E<m.length;E++){var D=m[E];n.css(D.name,D.val)}s()}return n};Lp.fromString=function(t){var e=this;return e.resetToDefault(),e.appendFromString(t),e};var Lt={};(function(){var t=It,e=L1,n=B1,r=V1,i=$1,o=function(L){return"^"+L+"\\s*\\(\\s*([\\w\\.]+)\\s*\\)$"},a=function(L){var U=t+"|\\w+|"+e+"|"+n+"|"+r+"|"+i;return"^"+L+"\\s*\\(([\\w\\.]+)\\s*\\,\\s*("+t+")\\s*\\,\\s*("+t+")\\s*,\\s*("+U+")\\s*\\,\\s*("+U+")\\)$"},s=[`^url\\s*\\(\\s*['"]?(.+?)['"]?\\s*\\)$`,"^(none)$","^(.+)$"];Lt.types={time:{number:!0,min:0,units:"s|ms",implicitUnits:"ms"},percent:{number:!0,min:0,max:100,units:"%",implicitUnits:"%"},percentages:{number:!0,min:0,max:100,units:"%",implicitUnits:"%",multiple:!0},zeroOneNumber:{number:!0,min:0,max:1,unitless:!0},zeroOneNumbers:{number:!0,min:0,max:1,unitless:!0,multiple:!0},nOneOneNumber:{number:!0,min:-1,max:1,unitless:!0},nonNegativeInt:{number:!0,min:0,integer:!0,unitless:!0},nonNegativeNumber:{number:!0,min:0,unitless:!0},position:{enums:["parent","origin"]},nodeSize:{number:!0,min:0,enums:["label"]},number:{number:!0,unitless:!0},numbers:{number:!0,unitless:!0,multiple:!0},positiveNumber:{number:!0,unitless:!0,min:0,strictMin:!0},size:{number:!0,min:0},bidirectionalSize:{number:!0},bidirectionalSizeMaybePercent:{number:!0,allowPercent:!0},bidirectionalSizes:{number:!0,multiple:!0},sizeMaybePercent:{number:!0,min:0,allowPercent:!0},axisDirection:{enums:["horizontal","leftward","rightward","vertical","upward","downward","auto"]},paddingRelativeTo:{enums:["width","height","average","min","max"]},bgWH:{number:!0,min:0,allowPercent:!0,enums:["auto"],multiple:!0},bgPos:{number:!0,allowPercent:!0,multiple:!0},bgRelativeTo:{enums:["inner","include-padding"],multiple:!0},bgRepeat:{enums:["repeat","repeat-x","repeat-y","no-repeat"],multiple:!0},bgFit:{enums:["none","contain","cover"],multiple:!0},bgCrossOrigin:{enums:["anonymous","use-credentials","null"],multiple:!0},bgClip:{enums:["none","node"],multiple:!0},bgContainment:{enums:["inside","over"],multiple:!0},color:{color:!0},colors:{color:!0,multiple:!0},fill:{enums:["solid","linear-gradient","radial-gradient"]},bool:{enums:["yes","no"]},bools:{enums:["yes","no"],multiple:!0},lineStyle:{enums:["solid","dotted","dashed"]},lineCap:{enums:["butt","round","square"]},linePosition:{enums:["center","inside","outside"]},lineJoin:{enums:["round","bevel","miter"]},borderStyle:{enums:["solid","dotted","dashed","double"]},curveStyle:{enums:["bezier","unbundled-bezier","haystack","segments","straight","straight-triangle","taxi","round-segments","round-taxi"]},radiusType:{enums:["arc-radius","influence-radius"],multiple:!0},fontFamily:{regex:'^([\\w- \\"]+(?:\\s*,\\s*[\\w- \\"]+)*)$'},fontStyle:{enums:["italic","normal","oblique"]},fontWeight:{enums:["normal","bold","bolder","lighter","100","200","300","400","500","600","800","900",100,200,300,400,500,600,700,800,900]},textDecoration:{enums:["none","underline","overline","line-through"]},textTransform:{enums:["none","uppercase","lowercase"]},textWrap:{enums:["none","wrap","ellipsis"]},textOverflowWrap:{enums:["whitespace","anywhere"]},textBackgroundShape:{enums:["rectangle","roundrectangle","round-rectangle"]},nodeShape:{enums:["rectangle","roundrectangle","round-rectangle","cutrectangle","cut-rectangle","bottomroundrectangle","bottom-round-rectangle","barrel","ellipse","triangle","round-triangle","square","pentagon","round-pentagon","hexagon","round-hexagon","concavehexagon","concave-hexagon","heptagon","round-heptagon","octagon","round-octagon","tag","round-tag","star","diamond","round-diamond","vee","rhomboid","right-rhomboid","polygon"]},overlayShape:{enums:["roundrectangle","round-rectangle","ellipse"]},cornerRadius:{number:!0,min:0,units:"px|em",implicitUnits:"px",enums:["auto"]},compoundIncludeLabels:{enums:["include","exclude"]},arrowShape:{enums:["tee","triangle","triangle-tee","circle-triangle","triangle-cross","triangle-backcurve","vee","square","circle","diamond","chevron","none"]},arrowFill:{enums:["filled","hollow"]},arrowWidth:{number:!0,units:"%|px|em",implicitUnits:"px",enums:["match-line"]},display:{enums:["element","none"]},visibility:{enums:["hidden","visible"]},zCompoundDepth:{enums:["bottom","orphan","auto","top"]},zIndexCompare:{enums:["auto","manual"]},valign:{enums:["top","center","bottom"]},halign:{enums:["left","center","right"]},justification:{enums:["left","center","right","auto"]},text:{string:!0},data:{mapping:!0,regex:o("data")},layoutData:{mapping:!0,regex:o("layoutData")},scratch:{mapping:!0,regex:o("scratch")},mapData:{mapping:!0,regex:a("mapData")},mapLayoutData:{mapping:!0,regex:a("mapLayoutData")},mapScratch:{mapping:!0,regex:a("mapScratch")},fn:{mapping:!0,fn:!0},url:{regexes:s,singleRegexMatchValue:!0},urls:{regexes:s,singleRegexMatchValue:!0,multiple:!0},propList:{propList:!0},angle:{number:!0,units:"deg|rad",implicitUnits:"rad"},textRotation:{number:!0,units:"deg|rad",implicitUnits:"rad",enums:["none","autorotate"]},polygonPointList:{number:!0,multiple:!0,evenMultiple:!0,min:-1,max:1,unitless:!0},edgeDistances:{enums:["intersection","node-position","endpoints"]},edgeEndpoint:{number:!0,multiple:!0,units:"%|px|em|deg|rad",implicitUnits:"px",enums:["inside-to-node","outside-to-node","outside-to-node-or-label","outside-to-line","outside-to-line-or-label"],singleEnum:!0,validate:function(L,U){switch(L.length){case 2:return U[0]!=="deg"&&U[0]!=="rad"&&U[1]!=="deg"&&U[1]!=="rad";case 1:return pe(L[0])||U[0]==="deg"||U[0]==="rad";default:return!1}}},easing:{regexes:["^(spring)\\s*\\(\\s*("+t+")\\s*,\\s*("+t+")\\s*\\)$","^(cubic-bezier)\\s*\\(\\s*("+t+")\\s*,\\s*("+t+")\\s*,\\s*("+t+")\\s*,\\s*("+t+")\\s*\\)$"],enums:["linear","ease","ease-in","ease-out","ease-in-out","ease-in-sine","ease-out-sine","ease-in-out-sine","ease-in-quad","ease-out-quad","ease-in-out-quad","ease-in-cubic","ease-out-cubic","ease-in-out-cubic","ease-in-quart","ease-out-quart","ease-in-out-quart","ease-in-quint","ease-out-quint","ease-in-out-quint","ease-in-expo","ease-out-expo","ease-in-out-expo","ease-in-circ","ease-out-circ","ease-in-out-circ"]},gradientDirection:{enums:["to-bottom","to-top","to-left","to-right","to-bottom-right","to-bottom-left","to-top-right","to-top-left","to-right-bottom","to-left-bottom","to-right-top","to-left-top"]},boundsExpansion:{number:!0,multiple:!0,min:0,validate:function(L){var U=L.length;return U===1||U===2||U===4}}};var u={zeroNonZero:function(L,U){return(L==null||U==null)&&L!==U||L==0&&U!=0?!0:L!=0&&U==0},any:function(L,U){return L!=U},emptyNonEmpty:function(L,U){var Z=Ur(L),re=Ur(U);return Z&&!re||!Z&&re}},l=Lt.types,c=[{name:"label",type:l.text,triggersBounds:u.any,triggersZOrder:u.emptyNonEmpty},{name:"text-rotation",type:l.textRotation,triggersBounds:u.any},{name:"text-margin-x",type:l.bidirectionalSize,triggersBounds:u.any},{name:"text-margin-y",type:l.bidirectionalSize,triggersBounds:u.any}],d=[{name:"source-label",type:l.text,triggersBounds:u.any},{name:"source-text-rotation",type:l.textRotation,triggersBounds:u.any},{name:"source-text-margin-x",type:l.bidirectionalSize,triggersBounds:u.any},{name:"source-text-margin-y",type:l.bidirectionalSize,triggersBounds:u.any},{name:"source-text-offset",type:l.size,triggersBounds:u.any}],f=[{name:"target-label",type:l.text,triggersBounds:u.any},{name:"target-text-rotation",type:l.textRotation,triggersBounds:u.any},{name:"target-text-margin-x",type:l.bidirectionalSize,triggersBounds:u.any},{name:"target-text-margin-y",type:l.bidirectionalSize,triggersBounds:u.any},{name:"target-text-offset",type:l.size,triggersBounds:u.any}],h=[{name:"font-family",type:l.fontFamily,triggersBounds:u.any},{name:"font-style",type:l.fontStyle,triggersBounds:u.any},{name:"font-weight",type:l.fontWeight,triggersBounds:u.any},{name:"font-size",type:l.size,triggersBounds:u.any},{name:"text-transform",type:l.textTransform,triggersBounds:u.any},{name:"text-wrap",type:l.textWrap,triggersBounds:u.any},{name:"text-overflow-wrap",type:l.textOverflowWrap,triggersBounds:u.any},{name:"text-max-width",type:l.size,triggersBounds:u.any},{name:"text-outline-width",type:l.size,triggersBounds:u.any},{name:"line-height",type:l.positiveNumber,triggersBounds:u.any}],p=[{name:"text-valign",type:l.valign,triggersBounds:u.any},{name:"text-halign",type:l.halign,triggersBounds:u.any},{name:"color",type:l.color},{name:"text-outline-color",type:l.color},{name:"text-outline-opacity",type:l.zeroOneNumber},{name:"text-background-color",type:l.color},{name:"text-background-opacity",type:l.zeroOneNumber},{name:"text-background-padding",type:l.size,triggersBounds:u.any},{name:"text-border-opacity",type:l.zeroOneNumber},{name:"text-border-color",type:l.color},{name:"text-border-width",type:l.size,triggersBounds:u.any},{name:"text-border-style",type:l.borderStyle,triggersBounds:u.any},{name:"text-background-shape",type:l.textBackgroundShape,triggersBounds:u.any},{name:"text-justification",type:l.justification}],m=[{name:"events",type:l.bool,triggersZOrder:u.any},{name:"text-events",type:l.bool,triggersZOrder:u.any}],v=[{name:"display",type:l.display,triggersZOrder:u.any,triggersBounds:u.any,triggersBoundsOfConnectedEdges:!0},{name:"visibility",type:l.visibility,triggersZOrder:u.any},{name:"opacity",type:l.zeroOneNumber,triggersZOrder:u.zeroNonZero},{name:"text-opacity",type:l.zeroOneNumber},{name:"min-zoomed-font-size",type:l.size},{name:"z-compound-depth",type:l.zCompoundDepth,triggersZOrder:u.any},{name:"z-index-compare",type:l.zIndexCompare,triggersZOrder:u.any},{name:"z-index",type:l.number,triggersZOrder:u.any}],g=[{name:"overlay-padding",type:l.size,triggersBounds:u.any},{name:"overlay-color",type:l.color},{name:"overlay-opacity",type:l.zeroOneNumber,triggersBounds:u.zeroNonZero},{name:"overlay-shape",type:l.overlayShape,triggersBounds:u.any},{name:"overlay-corner-radius",type:l.cornerRadius}],y=[{name:"underlay-padding",type:l.size,triggersBounds:u.any},{name:"underlay-color",type:l.color},{name:"underlay-opacity",type:l.zeroOneNumber,triggersBounds:u.zeroNonZero},{name:"underlay-shape",type:l.overlayShape,triggersBounds:u.any},{name:"underlay-corner-radius",type:l.cornerRadius}],w=[{name:"transition-property",type:l.propList},{name:"transition-duration",type:l.time},{name:"transition-delay",type:l.time},{name:"transition-timing-function",type:l.easing}],b=function(L,U){return U.value==="label"?-L.poolIndex():U.pfValue},I=[{name:"height",type:l.nodeSize,triggersBounds:u.any,hashOverride:b},{name:"width",type:l.nodeSize,triggersBounds:u.any,hashOverride:b},{name:"shape",type:l.nodeShape,triggersBounds:u.any},{name:"shape-polygon-points",type:l.polygonPointList,triggersBounds:u.any},{name:"corner-radius",type:l.cornerRadius},{name:"background-color",type:l.color},{name:"background-fill",type:l.fill},{name:"background-opacity",type:l.zeroOneNumber},{name:"background-blacken",type:l.nOneOneNumber},{name:"background-gradient-stop-colors",type:l.colors},{name:"background-gradient-stop-positions",type:l.percentages},{name:"background-gradient-direction",type:l.gradientDirection},{name:"padding",type:l.sizeMaybePercent,triggersBounds:u.any},{name:"padding-relative-to",type:l.paddingRelativeTo,triggersBounds:u.any},{name:"bounds-expansion",type:l.boundsExpansion,triggersBounds:u.any}],E=[{name:"border-color",type:l.color},{name:"border-opacity",type:l.zeroOneNumber},{name:"border-width",type:l.size,triggersBounds:u.any},{name:"border-style",type:l.borderStyle},{name:"border-cap",type:l.lineCap},{name:"border-join",type:l.lineJoin},{name:"border-dash-pattern",type:l.numbers},{name:"border-dash-offset",type:l.number},{name:"border-position",type:l.linePosition}],D=[{name:"outline-color",type:l.color},{name:"outline-opacity",type:l.zeroOneNumber},{name:"outline-width",type:l.size,triggersBounds:u.any},{name:"outline-style",type:l.borderStyle},{name:"outline-offset",type:l.size,triggersBounds:u.any}],S=[{name:"background-image",type:l.urls},{name:"background-image-crossorigin",type:l.bgCrossOrigin},{name:"background-image-opacity",type:l.zeroOneNumbers},{name:"background-image-containment",type:l.bgContainment},{name:"background-image-smoothing",type:l.bools},{name:"background-position-x",type:l.bgPos},{name:"background-position-y",type:l.bgPos},{name:"background-width-relative-to",type:l.bgRelativeTo},{name:"background-height-relative-to",type:l.bgRelativeTo},{name:"background-repeat",type:l.bgRepeat},{name:"background-fit",type:l.bgFit},{name:"background-clip",type:l.bgClip},{name:"background-width",type:l.bgWH},{name:"background-height",type:l.bgWH},{name:"background-offset-x",type:l.bgPos},{name:"background-offset-y",type:l.bgPos}],C=[{name:"position",type:l.position,triggersBounds:u.any},{name:"compound-sizing-wrt-labels",type:l.compoundIncludeLabels,triggersBounds:u.any},{name:"min-width",type:l.size,triggersBounds:u.any},{name:"min-width-bias-left",type:l.sizeMaybePercent,triggersBounds:u.any},{name:"min-width-bias-right",type:l.sizeMaybePercent,triggersBounds:u.any},{name:"min-height",type:l.size,triggersBounds:u.any},{name:"min-height-bias-top",type:l.sizeMaybePercent,triggersBounds:u.any},{name:"min-height-bias-bottom",type:l.sizeMaybePercent,triggersBounds:u.any}],N=[{name:"line-style",type:l.lineStyle},{name:"line-color",type:l.color},{name:"line-fill",type:l.fill},{name:"line-cap",type:l.lineCap},{name:"line-opacity",type:l.zeroOneNumber},{name:"line-dash-pattern",type:l.numbers},{name:"line-dash-offset",type:l.number},{name:"line-outline-width",type:l.size},{name:"line-outline-color",type:l.color},{name:"line-gradient-stop-colors",type:l.colors},{name:"line-gradient-stop-positions",type:l.percentages},{name:"curve-style",type:l.curveStyle,triggersBounds:u.any,triggersBoundsOfParallelBeziers:!0},{name:"haystack-radius",type:l.zeroOneNumber,triggersBounds:u.any},{name:"source-endpoint",type:l.edgeEndpoint,triggersBounds:u.any},{name:"target-endpoint",type:l.edgeEndpoint,triggersBounds:u.any},{name:"control-point-step-size",type:l.size,triggersBounds:u.any},{name:"control-point-distances",type:l.bidirectionalSizes,triggersBounds:u.any},{name:"control-point-weights",type:l.numbers,triggersBounds:u.any},{name:"segment-distances",type:l.bidirectionalSizes,triggersBounds:u.any},{name:"segment-weights",type:l.numbers,triggersBounds:u.any},{name:"segment-radii",type:l.numbers,triggersBounds:u.any},{name:"radius-type",type:l.radiusType,triggersBounds:u.any},{name:"taxi-turn",type:l.bidirectionalSizeMaybePercent,triggersBounds:u.any},{name:"taxi-turn-min-distance",type:l.size,triggersBounds:u.any},{name:"taxi-direction",type:l.axisDirection,triggersBounds:u.any},{name:"taxi-radius",type:l.number,triggersBounds:u.any},{name:"edge-distances",type:l.edgeDistances,triggersBounds:u.any},{name:"arrow-scale",type:l.positiveNumber,triggersBounds:u.any},{name:"loop-direction",type:l.angle,triggersBounds:u.any},{name:"loop-sweep",type:l.angle,triggersBounds:u.any},{name:"source-distance-from-node",type:l.size,triggersBounds:u.any},{name:"target-distance-from-node",type:l.size,triggersBounds:u.any}],M=[{name:"ghost",type:l.bool,triggersBounds:u.any},{name:"ghost-offset-x",type:l.bidirectionalSize,triggersBounds:u.any},{name:"ghost-offset-y",type:l.bidirectionalSize,triggersBounds:u.any},{name:"ghost-opacity",type:l.zeroOneNumber}],A=[{name:"selection-box-color",type:l.color},{name:"selection-box-opacity",type:l.zeroOneNumber},{name:"selection-box-border-color",type:l.color},{name:"selection-box-border-width",type:l.size},{name:"active-bg-color",type:l.color},{name:"active-bg-opacity",type:l.zeroOneNumber},{name:"active-bg-size",type:l.size},{name:"outside-texture-bg-color",type:l.color},{name:"outside-texture-bg-opacity",type:l.zeroOneNumber}],R=[];Lt.pieBackgroundN=16,R.push({name:"pie-size",type:l.sizeMaybePercent});for(var T=1;T<=Lt.pieBackgroundN;T++)R.push({name:"pie-"+T+"-background-color",type:l.color}),R.push({name:"pie-"+T+"-background-size",type:l.percent}),R.push({name:"pie-"+T+"-background-opacity",type:l.zeroOneNumber});var O=[],_=Lt.arrowPrefixes=["source","mid-source","target","mid-target"];[{name:"arrow-shape",type:l.arrowShape,triggersBounds:u.any},{name:"arrow-color",type:l.color},{name:"arrow-fill",type:l.arrowFill},{name:"arrow-width",type:l.arrowWidth}].forEach(function(q){_.forEach(function(L){var U=L+"-"+q.name,Z=q.type,re=q.triggersBounds;O.push({name:U,type:Z,triggersBounds:re})})},{});var k=Lt.properties=[].concat(m,w,v,g,y,M,p,h,c,d,f,I,E,D,S,R,C,N,O,A),P=Lt.propertyGroups={behavior:m,transition:w,visibility:v,overlay:g,underlay:y,ghost:M,commonLabel:p,labelDimensions:h,mainLabel:c,sourceLabel:d,targetLabel:f,nodeBody:I,nodeBorder:E,nodeOutline:D,backgroundImage:S,pie:R,compound:C,edgeLine:N,edgeArrow:O,core:A},V=Lt.propertyGroupNames={},z=Lt.propertyGroupKeys=Object.keys(P);z.forEach(function(q){V[q]=P[q].map(function(L){return L.name}),P[q].forEach(function(L){return L.groupKey=q})});var B=Lt.aliases=[{name:"content",pointsTo:"label"},{name:"control-point-distance",pointsTo:"control-point-distances"},{name:"control-point-weight",pointsTo:"control-point-weights"},{name:"segment-distance",pointsTo:"segment-distances"},{name:"segment-weight",pointsTo:"segment-weights"},{name:"segment-radius",pointsTo:"segment-radii"},{name:"edge-text-rotation",pointsTo:"text-rotation"},{name:"padding-left",pointsTo:"padding"},{name:"padding-right",pointsTo:"padding"},{name:"padding-top",pointsTo:"padding"},{name:"padding-bottom",pointsTo:"padding"}];Lt.propertyNames=k.map(function(q){return q.name});for(var $=0;$<k.length;$++){var W=k[$];k[W.name]=W}for(var K=0;K<B.length;K++){var Q=B[K],X=k[Q.pointsTo],J={name:Q.name,alias:!0,pointsTo:X};k.push(J),k[Q.name]=J}})();Lt.getDefaultProperty=function(t){return this.getDefaultProperties()[t]};Lt.getDefaultProperties=function(){var t=this._private;if(t.defaultProperties!=null)return t.defaultProperties;for(var e=ye({"selection-box-color":"#ddd","selection-box-opacity":.65,"selection-box-border-color":"#aaa","selection-box-border-width":1,"active-bg-color":"black","active-bg-opacity":.15,"active-bg-size":30,"outside-texture-bg-color":"#000","outside-texture-bg-opacity":.125,events:"yes","text-events":"no","text-valign":"top","text-halign":"center","text-justification":"auto","line-height":1,color:"#000","text-outline-color":"#000","text-outline-width":0,"text-outline-opacity":1,"text-opacity":1,"text-decoration":"none","text-transform":"none","text-wrap":"none","text-overflow-wrap":"whitespace","text-max-width":9999,"text-background-color":"#000","text-background-opacity":0,"text-background-shape":"rectangle","text-background-padding":0,"text-border-opacity":0,"text-border-width":0,"text-border-style":"solid","text-border-color":"#000","font-family":"Helvetica Neue, Helvetica, sans-serif","font-style":"normal","font-weight":"normal","font-size":16,"min-zoomed-font-size":0,"text-rotation":"none","source-text-rotation":"none","target-text-rotation":"none",visibility:"visible",display:"element",opacity:1,"z-compound-depth":"auto","z-index-compare":"auto","z-index":0,label:"","text-margin-x":0,"text-margin-y":0,"source-label":"","source-text-offset":0,"source-text-margin-x":0,"source-text-margin-y":0,"target-label":"","target-text-offset":0,"target-text-margin-x":0,"target-text-margin-y":0,"overlay-opacity":0,"overlay-color":"#000","overlay-padding":10,"overlay-shape":"round-rectangle","overlay-corner-radius":"auto","underlay-opacity":0,"underlay-color":"#000","underlay-padding":10,"underlay-shape":"round-rectangle","underlay-corner-radius":"auto","transition-property":"none","transition-duration":0,"transition-delay":0,"transition-timing-function":"linear","background-blacken":0,"background-color":"#999","background-fill":"solid","background-opacity":1,"background-image":"none","background-image-crossorigin":"anonymous","background-image-opacity":1,"background-image-containment":"inside","background-image-smoothing":"yes","background-position-x":"50%","background-position-y":"50%","background-offset-x":0,"background-offset-y":0,"background-width-relative-to":"include-padding","background-height-relative-to":"include-padding","background-repeat":"no-repeat","background-fit":"none","background-clip":"node","background-width":"auto","background-height":"auto","border-color":"#000","border-opacity":1,"border-width":0,"border-style":"solid","border-dash-pattern":[4,2],"border-dash-offset":0,"border-cap":"butt","border-join":"miter","border-position":"center","outline-color":"#999","outline-opacity":1,"outline-width":0,"outline-offset":0,"outline-style":"solid",height:30,width:30,shape:"ellipse","shape-polygon-points":"-1, -1,   1, -1,   1, 1,   -1, 1","corner-radius":"auto","bounds-expansion":0,"background-gradient-direction":"to-bottom","background-gradient-stop-colors":"#999","background-gradient-stop-positions":"0%",ghost:"no","ghost-offset-y":0,"ghost-offset-x":0,"ghost-opacity":0,padding:0,"padding-relative-to":"width",position:"origin","compound-sizing-wrt-labels":"include","min-width":0,"min-width-bias-left":0,"min-width-bias-right":0,"min-height":0,"min-height-bias-top":0,"min-height-bias-bottom":0},{"pie-size":"100%"},[{name:"pie-{{i}}-background-color",value:"black"},{name:"pie-{{i}}-background-size",value:"0%"},{name:"pie-{{i}}-background-opacity",value:1}].reduce(function(u,l){for(var c=1;c<=Lt.pieBackgroundN;c++){var d=l.name.replace("{{i}}",c),f=l.value;u[d]=f}return u},{}),{"line-style":"solid","line-color":"#999","line-fill":"solid","line-cap":"butt","line-opacity":1,"line-outline-width":0,"line-outline-color":"#000","line-gradient-stop-colors":"#999","line-gradient-stop-positions":"0%","control-point-step-size":40,"control-point-weights":.5,"segment-weights":.5,"segment-distances":20,"segment-radii":15,"radius-type":"arc-radius","taxi-turn":"50%","taxi-radius":15,"taxi-turn-min-distance":10,"taxi-direction":"auto","edge-distances":"intersection","curve-style":"haystack","haystack-radius":0,"arrow-scale":1,"loop-direction":"-45deg","loop-sweep":"-90deg","source-distance-from-node":0,"target-distance-from-node":0,"source-endpoint":"outside-to-node","target-endpoint":"outside-to-node","line-dash-pattern":[6,3],"line-dash-offset":0},[{name:"arrow-shape",value:"none"},{name:"arrow-color",value:"#999"},{name:"arrow-fill",value:"filled"},{name:"arrow-width",value:1}].reduce(function(u,l){return Lt.arrowPrefixes.forEach(function(c){var d=c+"-"+l.name,f=l.value;u[d]=f}),u},{})),n={},r=0;r<this.properties.length;r++){var i=this.properties[r];if(!i.pointsTo){var o=i.name,a=e[o],s=this.parse(o,a);n[o]=s}}return t.defaultProperties=n,t.defaultProperties};Lt.addDefaultStylesheet=function(){this.selector(":parent").css({shape:"rectangle",padding:10,"background-color":"#eee","border-color":"#ccc","border-width":1}).selector("edge").css({width:3}).selector(":loop").css({"curve-style":"bezier"}).selector("edge:compound").css({"curve-style":"bezier","source-endpoint":"outside-to-line","target-endpoint":"outside-to-line"}).selector(":selected").css({"background-color":"#0169D9","line-color":"#0169D9","source-arrow-color":"#0169D9","target-arrow-color":"#0169D9","mid-source-arrow-color":"#0169D9","mid-target-arrow-color":"#0169D9"}).selector(":parent:selected").css({"background-color":"#CCE1F9","border-color":"#aec8e5"}).selector(":active").css({"overlay-color":"black","overlay-padding":10,"overlay-opacity":.25}),this.defaultLength=this.length};var Dc={};Dc.parse=function(t,e,n,r){var i=this;if(ht(e))return i.parseImplWarn(t,e,n,r);var o=r==="mapping"||r===!0||r===!1||r==null?"dontcare":r,a=n?"t":"f",s=""+e,u=Eb(t,s,a,o),l=i.propCache=i.propCache||[],c;return(c=l[u])||(c=l[u]=i.parseImplWarn(t,e,n,r)),(n||r==="mapping")&&(c=er(c),c&&(c.value=er(c.value))),c};Dc.parseImplWarn=function(t,e,n,r){var i=this.parseImpl(t,e,n,r);return!i&&e!=null&&Xe("The style property `".concat(t,": ").concat(e,"` is invalid")),i&&(i.name==="width"||i.name==="height")&&e==="label"&&Xe("The style value of `label` is deprecated for `"+i.name+"`"),i};Dc.parseImpl=function(t,e,n,r){var i=this;t=Dp(t);var o=i.properties[t],a=e,s=i.types;if(!o||e===void 0)return null;o.alias&&(o=o.pointsTo,t=o.name);var u=pe(e);u&&(e=e.trim());var l=o.type;if(!l)return null;if(n&&(e===""||e===null))return{name:t,value:e,bypass:!0,deleteBypass:!0};if(ht(e))return{name:t,value:e,strValue:"fn",mapped:s.fn,bypass:n};var c,d;if(!(!u||r||e.length<7||e[1]!=="a")){if(e.length>=7&&e[0]==="d"&&(c=new RegExp(s.data.regex).exec(e))){if(n)return!1;var f=s.data;return{name:t,value:c,strValue:""+e,mapped:f,field:c[1],bypass:n}}else if(e.length>=10&&e[0]==="m"&&(d=new RegExp(s.mapData.regex).exec(e))){if(n||l.multiple)return!1;var h=s.mapData;if(!(l.color||l.number))return!1;var p=this.parse(t,d[4]);if(!p||p.mapped)return!1;var m=this.parse(t,d[5]);if(!m||m.mapped)return!1;if(p.pfValue===m.pfValue||p.strValue===m.strValue)return Xe("`"+t+": "+e+"` is not a valid mapper because the output range is zero; converting to `"+t+": "+p.strValue+"`"),this.parse(t,p.strValue);if(l.color){var v=p.value,g=m.value,y=v[0]===g[0]&&v[1]===g[1]&&v[2]===g[2]&&(v[3]===g[3]||(v[3]==null||v[3]===1)&&(g[3]==null||g[3]===1));if(y)return!1}return{name:t,value:d,strValue:""+e,mapped:h,field:d[1],fieldMin:parseFloat(d[2]),fieldMax:parseFloat(d[3]),valueMin:p.value,valueMax:m.value,bypass:n}}}if(l.multiple&&r!=="multiple"){var w;if(u?w=e.split(/\s+/):ot(e)?w=e:w=[e],l.evenMultiple&&w.length%2!==0)return null;for(var b=[],I=[],E=[],D="",S=!1,C=0;C<w.length;C++){var N=i.parse(t,w[C],n,"multiple");S=S||pe(N.value),b.push(N.value),E.push(N.pfValue!=null?N.pfValue:N.value),I.push(N.units),D+=(C>0?" ":"")+N.strValue}return l.validate&&!l.validate(b,I)?null:l.singleEnum&&S?b.length===1&&pe(b[0])?{name:t,value:b[0],strValue:b[0],bypass:n}:null:{name:t,value:b,pfValue:E,strValue:D,bypass:n,units:I}}var M=function(){for(var L=0;L<l.enums.length;L++){var U=l.enums[L];if(U===e)return{name:t,value:e,strValue:""+e,bypass:n}}return null};if(l.number){var A,R="px";if(l.units&&(A=l.units),l.implicitUnits&&(R=l.implicitUnits),!l.unitless)if(u){var T="px|em"+(l.allowPercent?"|\\%":"");A&&(T=A);var O=e.match("^("+It+")("+T+")?$");O&&(e=O[1],A=O[2]||R)}else(!A||l.implicitUnits)&&(A=R);if(e=parseFloat(e),isNaN(e)&&l.enums===void 0)return null;if(isNaN(e)&&l.enums!==void 0)return e=a,M();if(l.integer&&!A1(e)||l.min!==void 0&&(e<l.min||l.strictMin&&e===l.min)||l.max!==void 0&&(e>l.max||l.strictMax&&e===l.max))return null;var _={name:t,value:e,strValue:""+e+(A||""),units:A,bypass:n};return l.unitless||A!=="px"&&A!=="em"?_.pfValue=e:_.pfValue=A==="px"||!A?e:this.getEmSizeInPixels()*e,(A==="ms"||A==="s")&&(_.pfValue=A==="ms"?e:1e3*e),(A==="deg"||A==="rad")&&(_.pfValue=A==="rad"?e:lN(e)),A==="%"&&(_.pfValue=e/100),_}else if(l.propList){var k=[],P=""+e;if(P!=="none"){for(var V=P.split(/\s*,\s*|\s+/),z=0;z<V.length;z++){var B=V[z].trim();i.properties[B]?k.push(B):Xe("`"+B+"` is not a valid property name")}if(k.length===0)return null}return{name:t,value:k,strValue:k.length===0?"none":k.join(" "),bypass:n}}else if(l.color){var $=G1(e);return $?{name:t,value:$,pfValue:$,strValue:"rgb("+$[0]+","+$[1]+","+$[2]+")",bypass:n}:null}else if(l.regex||l.regexes){if(l.enums){var W=M();if(W)return W}for(var K=l.regexes?l.regexes:[l.regex],Q=0;Q<K.length;Q++){var X=new RegExp(K[Q]),J=X.exec(e);if(J)return{name:t,value:l.singleRegexMatchValue?J[1]:J,strValue:""+e,bypass:n}}return null}else return l.string?{name:t,value:""+e,strValue:""+e,bypass:n}:l.enums?M():null};var Gt=function t(e){if(!(this instanceof t))return new t(e);if(!bp(e)){pt("A style must have a core reference");return}this._private={cy:e,coreStyle:{}},this.length=0,this.resetToDefault()},Zt=Gt.prototype;Zt.instanceString=function(){return"style"};Zt.clear=function(){for(var t=this._private,e=t.cy,n=e.elements(),r=0;r<this.length;r++)this[r]=void 0;return this.length=0,t.contextStyles={},t.propDiffs={},this.cleanElements(n,!0),n.forEach(function(i){var o=i[0]._private;o.styleDirty=!0,o.appliedInitStyle=!1}),this};Zt.resetToDefault=function(){return this.clear(),this.addDefaultStylesheet(),this};Zt.core=function(t){return this._private.coreStyle[t]||this.getDefaultProperty(t)};Zt.selector=function(t){var e=t==="core"?null:new Gr(t),n=this.length++;return this[n]={selector:e,properties:[],mappedProperties:[],index:n},this};Zt.css=function(){var t=this,e=arguments;if(e.length===1)for(var n=e[0],r=0;r<t.properties.length;r++){var i=t.properties[r],o=n[i.name];o===void 0&&(o=n[sc(i.name)]),o!==void 0&&this.cssRule(i.name,o)}else e.length===2&&this.cssRule(e[0],e[1]);return this};Zt.style=Zt.css;Zt.cssRule=function(t,e){var n=this.parse(t,e);if(n){var r=this.length-1;this[r].properties.push(n),this[r].properties[n.name]=n,n.name.match(/pie-(\d+)-background-size/)&&n.value&&(this._private.hasPie=!0),n.mapped&&this[r].mappedProperties.push(n);var i=!this[r].selector;i&&(this._private.coreStyle[n.name]=n)}return this};Zt.append=function(t){return fb(t)?t.appendToStyle(this):ot(t)?this.appendFromJson(t):pe(t)&&this.appendFromString(t),this};Gt.fromJson=function(t,e){var n=new Gt(t);return n.fromJson(e),n};Gt.fromString=function(t,e){return new Gt(t).fromString(e)};[Yt,ks,Pp,nr,bc,Lp,Lt,Dc].forEach(function(t){ye(Zt,t)});Gt.types=Zt.types;Gt.properties=Zt.properties;Gt.propertyGroups=Zt.propertyGroups;Gt.propertyGroupNames=Zt.propertyGroupNames;Gt.propertyGroupKeys=Zt.propertyGroupKeys;var AO={style:function(e){if(e){var n=this.setStyle(e);n.update()}return this._private.style},setStyle:function(e){var n=this._private;return fb(e)?n.style=e.generateStyle(this):ot(e)?n.style=Gt.fromJson(this,e):pe(e)?n.style=Gt.fromString(this,e):n.style=Gt(this),n.style},updateStyle:function(){this.mutableElements().updateStyle()}},NO="single",Pi={autolock:function(e){if(e!==void 0)this._private.autolock=!!e;else return this._private.autolock;return this},autoungrabify:function(e){if(e!==void 0)this._private.autoungrabify=!!e;else return this._private.autoungrabify;return this},autounselectify:function(e){if(e!==void 0)this._private.autounselectify=!!e;else return this._private.autounselectify;return this},selectionType:function(e){var n=this._private;if(n.selectionType==null&&(n.selectionType=NO),e!==void 0)(e==="additive"||e==="single")&&(n.selectionType=e);else return n.selectionType;return this},panningEnabled:function(e){if(e!==void 0)this._private.panningEnabled=!!e;else return this._private.panningEnabled;return this},userPanningEnabled:function(e){if(e!==void 0)this._private.userPanningEnabled=!!e;else return this._private.userPanningEnabled;return this},zoomingEnabled:function(e){if(e!==void 0)this._private.zoomingEnabled=!!e;else return this._private.zoomingEnabled;return this},userZoomingEnabled:function(e){if(e!==void 0)this._private.userZoomingEnabled=!!e;else return this._private.userZoomingEnabled;return this},boxSelectionEnabled:function(e){if(e!==void 0)this._private.boxSelectionEnabled=!!e;else return this._private.boxSelectionEnabled;return this},pan:function(){var e=arguments,n=this._private.pan,r,i,o,a,s;switch(e.length){case 0:return n;case 1:if(pe(e[0]))return r=e[0],n[r];if(Ue(e[0])){if(!this._private.panningEnabled)return this;o=e[0],a=o.x,s=o.y,ie(a)&&(n.x=a),ie(s)&&(n.y=s),this.emit("pan viewport")}break;case 2:if(!this._private.panningEnabled)return this;r=e[0],i=e[1],(r==="x"||r==="y")&&ie(i)&&(n[r]=i),this.emit("pan viewport");break}return this.notify("viewport"),this},panBy:function(e,n){var r=arguments,i=this._private.pan,o,a,s,u,l;if(!this._private.panningEnabled)return this;switch(r.length){case 1:Ue(e)&&(s=r[0],u=s.x,l=s.y,ie(u)&&(i.x+=u),ie(l)&&(i.y+=l),this.emit("pan viewport"));break;case 2:o=e,a=n,(o==="x"||o==="y")&&ie(a)&&(i[o]+=a),this.emit("pan viewport");break}return this.notify("viewport"),this},fit:function(e,n){var r=this.getFitViewport(e,n);if(r){var i=this._private;i.zoom=r.zoom,i.pan=r.pan,this.emit("pan zoom viewport"),this.notify("viewport")}return this},getFitViewport:function(e,n){if(ie(e)&&n===void 0&&(n=e,e=void 0),!(!this._private.panningEnabled||!this._private.zoomingEnabled)){var r;if(pe(e)){var i=e;e=this.$(i)}else if(_1(e)){var o=e;r={x1:o.x1,y1:o.y1,x2:o.x2,y2:o.y2},r.w=r.x2-r.x1,r.h=r.y2-r.y1}else gn(e)||(e=this.mutableElements());if(!(gn(e)&&e.empty())){r=r||e.boundingBox();var a=this.width(),s=this.height(),u;if(n=ie(n)?n:0,!isNaN(a)&&!isNaN(s)&&a>0&&s>0&&!isNaN(r.w)&&!isNaN(r.h)&&r.w>0&&r.h>0){u=Math.min((a-2*n)/r.w,(s-2*n)/r.h),u=u>this._private.maxZoom?this._private.maxZoom:u,u=u<this._private.minZoom?this._private.minZoom:u;var l={x:(a-u*(r.x1+r.x2))/2,y:(s-u*(r.y1+r.y2))/2};return{zoom:u,pan:l}}}}},zoomRange:function(e,n){var r=this._private;if(n==null){var i=e;e=i.min,n=i.max}return ie(e)&&ie(n)&&e<=n?(r.minZoom=e,r.maxZoom=n):ie(e)&&n===void 0&&e<=r.maxZoom?r.minZoom=e:ie(n)&&e===void 0&&n>=r.minZoom&&(r.maxZoom=n),this},minZoom:function(e){return e===void 0?this._private.minZoom:this.zoomRange({min:e})},maxZoom:function(e){return e===void 0?this._private.maxZoom:this.zoomRange({max:e})},getZoomedViewport:function(e){var n=this._private,r=n.pan,i=n.zoom,o,a,s=!1;if(n.zoomingEnabled||(s=!0),ie(e)?a=e:Ue(e)&&(a=e.level,e.position!=null?o=dc(e.position,i,r):e.renderedPosition!=null&&(o=e.renderedPosition),o!=null&&!n.panningEnabled&&(s=!0)),a=a>n.maxZoom?n.maxZoom:a,a=a<n.minZoom?n.minZoom:a,s||!ie(a)||a===i||o!=null&&(!ie(o.x)||!ie(o.y)))return null;if(o!=null){var u=r,l=i,c=a,d={x:-c/l*(o.x-u.x)+o.x,y:-c/l*(o.y-u.y)+o.y};return{zoomed:!0,panned:!0,zoom:c,pan:d}}else return{zoomed:!0,panned:!1,zoom:a,pan:r}},zoom:function(e){if(e===void 0)return this._private.zoom;var n=this.getZoomedViewport(e),r=this._private;return n==null||!n.zoomed?this:(r.zoom=n.zoom,n.panned&&(r.pan.x=n.pan.x,r.pan.y=n.pan.y),this.emit("zoom"+(n.panned?" pan":"")+" viewport"),this.notify("viewport"),this)},viewport:function(e){var n=this._private,r=!0,i=!0,o=[],a=!1,s=!1;if(!e)return this;if(ie(e.zoom)||(r=!1),Ue(e.pan)||(i=!1),!r&&!i)return this;if(r){var u=e.zoom;u<n.minZoom||u>n.maxZoom||!n.zoomingEnabled?a=!0:(n.zoom=u,o.push("zoom"))}if(i&&(!a||!e.cancelOnFailedZoom)&&n.panningEnabled){var l=e.pan;ie(l.x)&&(n.pan.x=l.x,s=!1),ie(l.y)&&(n.pan.y=l.y,s=!1),s||o.push("pan")}return o.length>0&&(o.push("viewport"),this.emit(o.join(" ")),this.notify("viewport")),this},center:function(e){var n=this.getCenterPan(e);return n&&(this._private.pan=n,this.emit("pan viewport"),this.notify("viewport")),this},getCenterPan:function(e,n){if(this._private.panningEnabled){if(pe(e)){var r=e;e=this.mutableElements().filter(r)}else gn(e)||(e=this.mutableElements());if(e.length!==0){var i=e.boundingBox(),o=this.width(),a=this.height();n=n===void 0?this._private.zoom:n;var s={x:(o-n*(i.x1+i.x2))/2,y:(a-n*(i.y1+i.y2))/2};return s}}},reset:function(){return!this._private.panningEnabled||!this._private.zoomingEnabled?this:(this.viewport({pan:{x:0,y:0},zoom:1}),this)},invalidateSize:function(){this._private.sizeCache=null},size:function(){var e=this._private,n=e.container,r=this;return e.sizeCache=e.sizeCache||(n?function(){var i=r.window().getComputedStyle(n),o=function(s){return parseFloat(i.getPropertyValue(s))};return{width:n.clientWidth-o("padding-left")-o("padding-right"),height:n.clientHeight-o("padding-top")-o("padding-bottom")}}():{width:1,height:1})},width:function(){return this.size().width},height:function(){return this.size().height},extent:function(){var e=this._private.pan,n=this._private.zoom,r=this.renderedExtent(),i={x1:(r.x1-e.x)/n,x2:(r.x2-e.x)/n,y1:(r.y1-e.y)/n,y2:(r.y2-e.y)/n};return i.w=i.x2-i.x1,i.h=i.y2-i.y1,i},renderedExtent:function(){var e=this.width(),n=this.height();return{x1:0,y1:0,x2:e,y2:n,w:e,h:n}},multiClickDebounceTime:function(e){if(e)this._private.multiClickDebounceTime=e;else return this._private.multiClickDebounceTime;return this}};Pi.centre=Pi.center;Pi.autolockNodes=Pi.autolock;Pi.autoungrabifyNodes=Pi.autoungrabify;var xs={data:Qe.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeData:Qe.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),scratch:Qe.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:Qe.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0})};xs.attr=xs.data;xs.removeAttr=xs.removeData;var Ts=function(e){var n=this;e=ye({},e);var r=e.container;r&&!Kl(r)&&Kl(r[0])&&(r=r[0]);var i=r?r._cyreg:null;i=i||{},i&&i.cy&&(i.cy.destroy(),i={});var o=i.readies=i.readies||[];r&&(r._cyreg=i),i.cy=n;var a=Ct!==void 0&&r!==void 0&&!e.headless,s=e;s.layout=ye({name:a?"grid":"null"},s.layout),s.renderer=ye({name:a?"canvas":"null"},s.renderer);var u=function(p,m,v){return m!==void 0?m:v!==void 0?v:p},l=this._private={container:r,ready:!1,options:s,elements:new Bt(this),listeners:[],aniEles:new Bt(this),data:s.data||{},scratch:{},layout:null,renderer:null,destroyed:!1,notificationsEnabled:!0,minZoom:1e-50,maxZoom:1e50,zoomingEnabled:u(!0,s.zoomingEnabled),userZoomingEnabled:u(!0,s.userZoomingEnabled),panningEnabled:u(!0,s.panningEnabled),userPanningEnabled:u(!0,s.userPanningEnabled),boxSelectionEnabled:u(!0,s.boxSelectionEnabled),autolock:u(!1,s.autolock,s.autolockNodes),autoungrabify:u(!1,s.autoungrabify,s.autoungrabifyNodes),autounselectify:u(!1,s.autounselectify),styleEnabled:s.styleEnabled===void 0?a:s.styleEnabled,zoom:ie(s.zoom)?s.zoom:1,pan:{x:Ue(s.pan)&&ie(s.pan.x)?s.pan.x:0,y:Ue(s.pan)&&ie(s.pan.y)?s.pan.y:0},animation:{current:[],queue:[]},hasCompoundNodes:!1,multiClickDebounceTime:u(250,s.multiClickDebounceTime)};this.createEmitter(),this.selectionType(s.selectionType),this.zoomRange({min:s.minZoom,max:s.maxZoom});var c=function(p,m){var v=p.some(k1);if(v)return Yo.all(p).then(m);m(p)};l.styleEnabled&&n.setStyle([]);var d=ye({},s,s.renderer);n.initRenderer(d);var f=function(p,m,v){n.notifications(!1);var g=n.mutableElements();g.length>0&&g.remove(),p!=null&&(Ue(p)||ot(p))&&n.add(p),n.one("layoutready",function(w){n.notifications(!0),n.emit(w),n.one("load",m),n.emitAndNotify("load")}).one("layoutstop",function(){n.one("done",v),n.emit("done")});var y=ye({},n._private.options.layout);y.eles=n.elements(),n.layout(y).run()};c([s.style,s.elements],function(h){var p=h[0],m=h[1];l.styleEnabled&&n.style().append(p),f(m,function(){n.startAnimationLoop(),l.ready=!0,ht(s.ready)&&n.on("ready",s.ready);for(var v=0;v<o.length;v++){var g=o[v];n.on("ready",g)}i&&(i.readies=[]),n.emit("ready")},s.done)})},rc=Ts.prototype;ye(rc,{instanceString:function(){return"core"},isReady:function(){return this._private.ready},destroyed:function(){return this._private.destroyed},ready:function(e){return this.isReady()?this.emitter().emit("ready",[],e):this.on("ready",e),this},destroy:function(){var e=this;if(!e.destroyed())return e.stopAnimationLoop(),e.destroyRenderer(),this.emit("destroy"),e._private.destroyed=!0,e},hasElementWithId:function(e){return this._private.elements.hasElementWithId(e)},getElementById:function(e){return this._private.elements.getElementById(e)},hasCompoundNodes:function(){return this._private.hasCompoundNodes},headless:function(){return this._private.renderer.isHeadless()},styleEnabled:function(){return this._private.styleEnabled},addToPool:function(e){return this._private.elements.merge(e),this},removeFromPool:function(e){return this._private.elements.unmerge(e),this},container:function(){return this._private.container||null},window:function(){var e=this._private.container;if(e==null)return Ct;var n=this._private.container.ownerDocument;return n===void 0||n==null?Ct:n.defaultView||Ct},mount:function(e){if(e!=null){var n=this,r=n._private,i=r.options;return!Kl(e)&&Kl(e[0])&&(e=e[0]),n.stopAnimationLoop(),n.destroyRenderer(),r.container=e,r.styleEnabled=!0,n.invalidateSize(),n.initRenderer(ye({},i,i.renderer,{name:i.renderer.name==="null"?"canvas":i.renderer.name})),n.startAnimationLoop(),n.style(i.style),n.emit("mount"),n}},unmount:function(){var e=this;return e.stopAnimationLoop(),e.destroyRenderer(),e.initRenderer({name:"null"}),e.emit("unmount"),e},options:function(){return er(this._private.options)},json:function(e){var n=this,r=n._private,i=n.mutableElements(),o=function(b){return n.getElementById(b.id())};if(Ue(e)){if(n.startBatch(),e.elements){var a={},s=function(b,I){for(var E=[],D=[],S=0;S<b.length;S++){var C=b[S];if(!C.data.id){Xe("cy.json() cannot handle elements without an ID attribute");continue}var N=""+C.data.id,M=n.getElementById(N);a[N]=!0,M.length!==0?D.push({ele:M,json:C}):(I&&(C.group=I),E.push(C))}n.add(E);for(var A=0;A<D.length;A++){var R=D[A],T=R.ele,O=R.json;T.json(O)}};if(ot(e.elements))s(e.elements);else for(var u=["nodes","edges"],l=0;l<u.length;l++){var c=u[l],d=e.elements[c];ot(d)&&s(d,c)}var f=n.collection();i.filter(function(w){return!a[w.id()]}).forEach(function(w){w.isParent()?f.merge(w):w.remove()}),f.forEach(function(w){return w.children().move({parent:null})}),f.forEach(function(w){return o(w).remove()})}e.style&&n.style(e.style),e.zoom!=null&&e.zoom!==r.zoom&&n.zoom(e.zoom),e.pan&&(e.pan.x!==r.pan.x||e.pan.y!==r.pan.y)&&n.pan(e.pan),e.data&&n.data(e.data);for(var h=["minZoom","maxZoom","zoomingEnabled","userZoomingEnabled","panningEnabled","userPanningEnabled","boxSelectionEnabled","autolock","autoungrabify","autounselectify","multiClickDebounceTime"],p=0;p<h.length;p++){var m=h[p];e[m]!=null&&n[m](e[m])}return n.endBatch(),this}else{var v=!!e,g={};v?g.elements=this.elements().map(function(w){return w.json()}):(g.elements={},i.forEach(function(w){var b=w.group();g.elements[b]||(g.elements[b]=[]),g.elements[b].push(w.json())})),this._private.styleEnabled&&(g.style=n.style().json()),g.data=er(n.data());var y=r.options;return g.zoomingEnabled=r.zoomingEnabled,g.userZoomingEnabled=r.userZoomingEnabled,g.zoom=r.zoom,g.minZoom=r.minZoom,g.maxZoom=r.maxZoom,g.panningEnabled=r.panningEnabled,g.userPanningEnabled=r.userPanningEnabled,g.pan=er(r.pan),g.boxSelectionEnabled=r.boxSelectionEnabled,g.renderer=er(y.renderer),g.hideEdgesOnViewport=y.hideEdgesOnViewport,g.textureOnViewport=y.textureOnViewport,g.wheelSensitivity=y.wheelSensitivity,g.motionBlur=y.motionBlur,g.multiClickDebounceTime=y.multiClickDebounceTime,g}}});rc.$id=rc.getElementById;[wO,IO,hD,up,Gl,xO,lp,Wl,AO,Pi,xs].forEach(function(t){ye(rc,t)});var RO={fit:!0,directed:!1,padding:30,circle:!1,grid:!1,spacingFactor:1.75,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,roots:void 0,depthSort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,n){return!0},ready:void 0,stop:void 0,transform:function(e,n){return n}},_O={maximal:!1,acyclic:!1},Po=function(e){return e.scratch("breadthfirst")},$w=function(e,n){return e.scratch("breadthfirst",n)};function pD(t){this.options=ye({},RO,_O,t)}pD.prototype.run=function(){var t=this.options,e=t,n=t.cy,r=e.eles,i=r.nodes().filter(function(ne){return!ne.isParent()}),o=r,a=e.directed,s=e.acyclic||e.maximal||e.maximalAdjustments>0,u=rn(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:n.width(),h:n.height()}),l;if(gn(e.roots))l=e.roots;else if(ot(e.roots)){for(var c=[],d=0;d<e.roots.length;d++){var f=e.roots[d],h=n.getElementById(f);c.push(h)}l=n.collection(c)}else if(pe(e.roots))l=n.$(e.roots);else if(a)l=i.roots();else{var p=r.components();l=n.collection();for(var m=function(te){var de=p[te],ce=de.maxDegree(!1),se=de.filter(function(ge){return ge.degree(!1)===ce});l=l.add(se)},v=0;v<p.length;v++)m(v)}var g=[],y={},w=function(te,de){g[de]==null&&(g[de]=[]);var ce=g[de].length;g[de].push(te),$w(te,{index:ce,depth:de})},b=function(te,de){var ce=Po(te),se=ce.depth,ge=ce.index;g[se][ge]=null,w(te,de)};o.bfs({roots:l,directed:e.directed,visit:function(te,de,ce,se,ge){var Je=te[0],He=Je.id();w(Je,ge),y[He]=!0}});for(var I=[],E=0;E<i.length;E++){var D=i[E];y[D.id()]||I.push(D)}var S=function(te){for(var de=g[te],ce=0;ce<de.length;ce++){var se=de[ce];if(se==null){de.splice(ce,1),ce--;continue}$w(se,{depth:te,index:ce})}},C=function(){for(var te=0;te<g.length;te++)S(te)},N=function(te,de){for(var ce=Po(te),se=te.incomers().filter(function(Ze){return Ze.isNode()&&r.has(Ze)}),ge=-1,Je=te.id(),He=0;He<se.length;He++){var _e=se[He],et=Po(_e);ge=Math.max(ge,et.depth)}if(ce.depth<=ge){if(!e.acyclic&&de[Je])return null;var Oe=ge+1;return b(te,Oe),de[Je]=Oe,!0}return!1};if(a&&s){var M=[],A={},R=function(te){return M.push(te)},T=function(){return M.shift()};for(i.forEach(function(ne){return M.push(ne)});M.length>0;){var O=T(),_=N(O,A);if(_)O.outgoers().filter(function(ne){return ne.isNode()&&r.has(ne)}).forEach(R);else if(_===null){Xe("Detected double maximal shift for node `"+O.id()+"`.  Bailing maximal adjustment due to cycle.  Use `options.maximal: true` only on DAGs.");break}}}C();var k=0;if(e.avoidOverlap)for(var P=0;P<i.length;P++){var V=i[P],z=V.layoutDimensions(e),B=z.w,$=z.h;k=Math.max(k,B,$)}var W={},K=function(te){if(W[te.id()])return W[te.id()];for(var de=Po(te).depth,ce=te.neighborhood(),se=0,ge=0,Je=0;Je<ce.length;Je++){var He=ce[Je];if(!(He.isEdge()||He.isParent()||!i.has(He))){var _e=Po(He);if(_e!=null){var et=_e.index,Oe=_e.depth;if(!(et==null||Oe==null)){var Ze=g[Oe].length;Oe<de&&(se+=et/Ze,ge++)}}}}return ge=Math.max(1,ge),se=se/ge,ge===0&&(se=0),W[te.id()]=se,se},Q=function(te,de){var ce=K(te),se=K(de),ge=ce-se;return ge===0?pb(te.id(),de.id()):ge};e.depthSort!==void 0&&(Q=e.depthSort);for(var X=0;X<g.length;X++)g[X].sort(Q),S(X);for(var J=[],q=0;q<I.length;q++)J.push(I[q]);g.unshift(J),C();for(var L=0,U=0;U<g.length;U++)L=Math.max(g[U].length,L);var Z={x:u.x1+u.w/2,y:u.x1+u.h/2},re=g.reduce(function(ne,te){return Math.max(ne,te.length)},0),ve=function(te){var de=Po(te),ce=de.depth,se=de.index,ge=g[ce].length,Je=Math.max(u.w/((e.grid?re:ge)+1),k),He=Math.max(u.h/(g.length+1),k),_e=Math.min(u.w/2/g.length,u.h/2/g.length);if(_e=Math.max(_e,k),e.circle){var Oe=_e*ce+_e-(g.length>0&&g[0].length<=3?_e/2:0),Ze=2*Math.PI/g[ce].length*se;return ce===0&&g[0].length===1&&(Oe=1),{x:Z.x+Oe*Math.cos(Ze),y:Z.y+Oe*Math.sin(Ze)}}else{var et={x:Z.x+(se+1-(ge+1)/2)*Je,y:(ce+1)*He};return et}};return r.nodes().layoutPositions(this,e,ve),this};var kO={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,radius:void 0,startAngle:3/2*Math.PI,sweep:void 0,clockwise:!0,sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,n){return!0},ready:void 0,stop:void 0,transform:function(e,n){return n}};function gD(t){this.options=ye({},kO,t)}gD.prototype.run=function(){var t=this.options,e=t,n=t.cy,r=e.eles,i=e.counterclockwise!==void 0?!e.counterclockwise:e.clockwise,o=r.nodes().not(":parent");e.sort&&(o=o.sort(e.sort));for(var a=rn(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:n.width(),h:n.height()}),s={x:a.x1+a.w/2,y:a.y1+a.h/2},u=e.sweep===void 0?2*Math.PI-2*Math.PI/o.length:e.sweep,l=u/Math.max(1,o.length-1),c,d=0,f=0;f<o.length;f++){var h=o[f],p=h.layoutDimensions(e),m=p.w,v=p.h;d=Math.max(d,m,v)}if(ie(e.radius)?c=e.radius:o.length<=1?c=0:c=Math.min(a.h,a.w)/2-d,o.length>1&&e.avoidOverlap){d*=1.75;var g=Math.cos(l)-Math.cos(0),y=Math.sin(l)-Math.sin(0),w=Math.sqrt(d*d/(g*g+y*y));c=Math.max(w,c)}var b=function(E,D){var S=e.startAngle+D*l*(i?1:-1),C=c*Math.cos(S),N=c*Math.sin(S),M={x:s.x+C,y:s.y+N};return M};return r.nodes().layoutPositions(this,e,b),this};var OO={fit:!0,padding:30,startAngle:3/2*Math.PI,sweep:void 0,clockwise:!0,equidistant:!1,minNodeSpacing:10,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,height:void 0,width:void 0,spacingFactor:void 0,concentric:function(e){return e.degree()},levelWidth:function(e){return e.maxDegree()/4},animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,n){return!0},ready:void 0,stop:void 0,transform:function(e,n){return n}};function vD(t){this.options=ye({},OO,t)}vD.prototype.run=function(){for(var t=this.options,e=t,n=e.counterclockwise!==void 0?!e.counterclockwise:e.clockwise,r=t.cy,i=e.eles,o=i.nodes().not(":parent"),a=rn(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()}),s={x:a.x1+a.w/2,y:a.y1+a.h/2},u=[],l=0,c=0;c<o.length;c++){var d=o[c],f=void 0;f=e.concentric(d),u.push({value:f,node:d}),d._private.scratch.concentric=f}o.updateStyle();for(var h=0;h<o.length;h++){var p=o[h],m=p.layoutDimensions(e);l=Math.max(l,m.w,m.h)}u.sort(function(ne,te){return te.value-ne.value});for(var v=e.levelWidth(o),g=[[]],y=g[0],w=0;w<u.length;w++){var b=u[w];if(y.length>0){var I=Math.abs(y[0].value-b.value);I>=v&&(y=[],g.push(y))}y.push(b)}var E=l+e.minNodeSpacing;if(!e.avoidOverlap){var D=g.length>0&&g[0].length>1,S=Math.min(a.w,a.h)/2-E,C=S/(g.length+D?1:0);E=Math.min(E,C)}for(var N=0,M=0;M<g.length;M++){var A=g[M],R=e.sweep===void 0?2*Math.PI-2*Math.PI/A.length:e.sweep,T=A.dTheta=R/Math.max(1,A.length-1);if(A.length>1&&e.avoidOverlap){var O=Math.cos(T)-Math.cos(0),_=Math.sin(T)-Math.sin(0),k=Math.sqrt(E*E/(O*O+_*_));N=Math.max(k,N)}A.r=N,N+=E}if(e.equidistant){for(var P=0,V=0,z=0;z<g.length;z++){var B=g[z],$=B.r-V;P=Math.max(P,$)}V=0;for(var W=0;W<g.length;W++){var K=g[W];W===0&&(V=K.r),K.r=V,V+=P}}for(var Q={},X=0;X<g.length;X++)for(var J=g[X],q=J.dTheta,L=J.r,U=0;U<J.length;U++){var Z=J[U],re=e.startAngle+(n?1:-1)*q*U,ve={x:s.x+L*Math.cos(re),y:s.y+L*Math.sin(re)};Q[Z.node.id()]=ve}return i.nodes().layoutPositions(this,e,function(ne){var te=ne.id();return Q[te]}),this};var Xh,PO={ready:function(){},stop:function(){},animate:!0,animationEasing:void 0,animationDuration:void 0,animateFilter:function(e,n){return!0},animationThreshold:250,refresh:20,fit:!0,padding:30,boundingBox:void 0,nodeDimensionsIncludeLabels:!1,randomize:!1,componentSpacing:40,nodeRepulsion:function(e){return 2048},nodeOverlap:4,idealEdgeLength:function(e){return 32},edgeElasticity:function(e){return 32},nestingFactor:1.2,gravity:1,numIter:1e3,initialTemp:1e3,coolingFactor:.99,minTemp:1};function Ec(t){this.options=ye({},PO,t),this.options.layout=this;var e=this.options.eles.nodes(),n=this.options.eles.edges(),r=n.filter(function(i){var o=i.source().data("id"),a=i.target().data("id"),s=e.some(function(l){return l.data("id")===o}),u=e.some(function(l){return l.data("id")===a});return!s||!u});this.options.eles=this.options.eles.not(r)}Ec.prototype.run=function(){var t=this.options,e=t.cy,n=this;n.stopped=!1,(t.animate===!0||t.animate===!1)&&n.emit({type:"layoutstart",layout:n}),t.debug===!0?Xh=!0:Xh=!1;var r=LO(e,n,t);Xh&&VO(r),t.randomize&&$O(r);var i=Dr(),o=function(){jO(r,e,t),t.fit===!0&&e.fit(t.padding)},a=function(f){return!(n.stopped||f>=t.numIter||(HO(r,t),r.temperature=r.temperature*t.coolingFactor,r.temperature<t.minTemp))},s=function(){if(t.animate===!0||t.animate===!1)o(),n.one("layoutstop",t.stop),n.emit({type:"layoutstop",layout:n});else{var f=t.eles.nodes(),h=mD(r,t,f);f.layoutPositions(n,t,h)}},u=0,l=!0;if(t.animate===!0){var c=function d(){for(var f=0;l&&f<t.refresh;)l=a(u),u++,f++;if(!l)Hw(r,t),s();else{var h=Dr();h-i>=t.animationThreshold&&o(),Ql(d)}};c()}else{for(;l;)l=a(u),u++;Hw(r,t),s()}return this};Ec.prototype.stop=function(){return this.stopped=!0,this.thread&&this.thread.stop(),this.emit("layoutstop"),this};Ec.prototype.destroy=function(){return this.thread&&this.thread.stop(),this};var LO=function(e,n,r){for(var i=r.eles.edges(),o=r.eles.nodes(),a=rn(r.boundingBox?r.boundingBox:{x1:0,y1:0,w:e.width(),h:e.height()}),s={isCompound:e.hasCompoundNodes(),layoutNodes:[],idToIndex:{},nodeSize:o.size(),graphSet:[],indexToGraph:[],layoutEdges:[],edgeSize:i.size(),temperature:r.initialTemp,clientWidth:a.w,clientHeight:a.h,boundingBox:a},u=r.eles.components(),l={},c=0;c<u.length;c++)for(var d=u[c],f=0;f<d.length;f++){var h=d[f];l[h.id()]=c}for(var c=0;c<s.nodeSize;c++){var p=o[c],m=p.layoutDimensions(r),v={};v.isLocked=p.locked(),v.id=p.data("id"),v.parentId=p.data("parent"),v.cmptId=l[p.id()],v.children=[],v.positionX=p.position("x"),v.positionY=p.position("y"),v.offsetX=0,v.offsetY=0,v.height=m.w,v.width=m.h,v.maxX=v.positionX+v.width/2,v.minX=v.positionX-v.width/2,v.maxY=v.positionY+v.height/2,v.minY=v.positionY-v.height/2,v.padLeft=parseFloat(p.style("padding")),v.padRight=parseFloat(p.style("padding")),v.padTop=parseFloat(p.style("padding")),v.padBottom=parseFloat(p.style("padding")),v.nodeRepulsion=ht(r.nodeRepulsion)?r.nodeRepulsion(p):r.nodeRepulsion,s.layoutNodes.push(v),s.idToIndex[v.id]=c}for(var g=[],y=0,w=-1,b=[],c=0;c<s.nodeSize;c++){var p=s.layoutNodes[c],I=p.parentId;I!=null?s.layoutNodes[s.idToIndex[I]].children.push(p.id):(g[++w]=p.id,b.push(p.id))}for(s.graphSet.push(b);y<=w;){var E=g[y++],D=s.idToIndex[E],h=s.layoutNodes[D],S=h.children;if(S.length>0){s.graphSet.push(S);for(var c=0;c<S.length;c++)g[++w]=S[c]}}for(var c=0;c<s.graphSet.length;c++)for(var C=s.graphSet[c],f=0;f<C.length;f++){var N=s.idToIndex[C[f]];s.indexToGraph[N]=c}for(var c=0;c<s.edgeSize;c++){var M=i[c],A={};A.id=M.data("id"),A.sourceId=M.data("source"),A.targetId=M.data("target");var R=ht(r.idealEdgeLength)?r.idealEdgeLength(M):r.idealEdgeLength,T=ht(r.edgeElasticity)?r.edgeElasticity(M):r.edgeElasticity,O=s.idToIndex[A.sourceId],_=s.idToIndex[A.targetId],k=s.indexToGraph[O],P=s.indexToGraph[_];if(k!=P){for(var V=FO(A.sourceId,A.targetId,s),z=s.graphSet[V],B=0,v=s.layoutNodes[O];z.indexOf(v.id)===-1;)v=s.layoutNodes[s.idToIndex[v.parentId]],B++;for(v=s.layoutNodes[_];z.indexOf(v.id)===-1;)v=s.layoutNodes[s.idToIndex[v.parentId]],B++;R*=B*r.nestingFactor}A.idealLength=R,A.elasticity=T,s.layoutEdges.push(A)}return s},FO=function(e,n,r){var i=BO(e,n,0,r);return 2>i.count?0:i.graph},BO=function t(e,n,r,i){var o=i.graphSet[r];if(-1<o.indexOf(e)&&-1<o.indexOf(n))return{count:2,graph:r};for(var a=0,s=0;s<o.length;s++){var u=o[s],l=i.idToIndex[u],c=i.layoutNodes[l].children;if(c.length!==0){var d=i.indexToGraph[i.idToIndex[c[0]]],f=t(e,n,d,i);if(f.count!==0)if(f.count===1){if(a++,a===2)break}else return f}}return{count:a,graph:r}},VO,$O=function(e,n){for(var r=e.clientWidth,i=e.clientHeight,o=0;o<e.nodeSize;o++){var a=e.layoutNodes[o];a.children.length===0&&!a.isLocked&&(a.positionX=Math.random()*r,a.positionY=Math.random()*i)}},mD=function(e,n,r){var i=e.boundingBox,o={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0};return n.boundingBox&&(r.forEach(function(a){var s=e.layoutNodes[e.idToIndex[a.data("id")]];o.x1=Math.min(o.x1,s.positionX),o.x2=Math.max(o.x2,s.positionX),o.y1=Math.min(o.y1,s.positionY),o.y2=Math.max(o.y2,s.positionY)}),o.w=o.x2-o.x1,o.h=o.y2-o.y1),function(a,s){var u=e.layoutNodes[e.idToIndex[a.data("id")]];if(n.boundingBox){var l=(u.positionX-o.x1)/o.w,c=(u.positionY-o.y1)/o.h;return{x:i.x1+l*i.w,y:i.y1+c*i.h}}else return{x:u.positionX,y:u.positionY}}},jO=function(e,n,r){var i=r.layout,o=r.eles.nodes(),a=mD(e,r,o);o.positions(a),e.ready!==!0&&(e.ready=!0,i.one("layoutready",r.ready),i.emit({type:"layoutready",layout:this}))},HO=function(e,n,r){zO(e,n),GO(e),WO(e,n),ZO(e),YO(e)},zO=function(e,n){for(var r=0;r<e.graphSet.length;r++)for(var i=e.graphSet[r],o=i.length,a=0;a<o;a++)for(var s=e.layoutNodes[e.idToIndex[i[a]]],u=a+1;u<o;u++){var l=e.layoutNodes[e.idToIndex[i[u]]];UO(s,l,e,n)}},jw=function(e){return-e+2*e*Math.random()},UO=function(e,n,r,i){var o=e.cmptId,a=n.cmptId;if(!(o!==a&&!r.isCompound)){var s=n.positionX-e.positionX,u=n.positionY-e.positionY,l=1;s===0&&u===0&&(s=jw(l),u=jw(l));var c=qO(e,n,s,u);if(c>0)var d=i.nodeOverlap*c,f=Math.sqrt(s*s+u*u),h=d*s/f,p=d*u/f;else var m=ic(e,s,u),v=ic(n,-1*s,-1*u),g=v.x-m.x,y=v.y-m.y,w=g*g+y*y,f=Math.sqrt(w),d=(e.nodeRepulsion+n.nodeRepulsion)/w,h=d*g/f,p=d*y/f;e.isLocked||(e.offsetX-=h,e.offsetY-=p),n.isLocked||(n.offsetX+=h,n.offsetY+=p)}},qO=function(e,n,r,i){if(r>0)var o=e.maxX-n.minX;else var o=n.maxX-e.minX;if(i>0)var a=e.maxY-n.minY;else var a=n.maxY-e.minY;return o>=0&&a>=0?Math.sqrt(o*o+a*a):0},ic=function(e,n,r){var i=e.positionX,o=e.positionY,a=e.height||1,s=e.width||1,u=r/n,l=a/s,c={};return n===0&&0<r||n===0&&0>r?(c.x=i,c.y=o+a/2,c):0<n&&-1*l<=u&&u<=l?(c.x=i+s/2,c.y=o+s*r/2/n,c):0>n&&-1*l<=u&&u<=l?(c.x=i-s/2,c.y=o-s*r/2/n,c):0<r&&(u<=-1*l||u>=l)?(c.x=i+a*n/2/r,c.y=o+a/2,c):(0>r&&(u<=-1*l||u>=l)&&(c.x=i-a*n/2/r,c.y=o-a/2),c)},GO=function(e,n){for(var r=0;r<e.edgeSize;r++){var i=e.layoutEdges[r],o=e.idToIndex[i.sourceId],a=e.layoutNodes[o],s=e.idToIndex[i.targetId],u=e.layoutNodes[s],l=u.positionX-a.positionX,c=u.positionY-a.positionY;if(!(l===0&&c===0)){var d=ic(a,l,c),f=ic(u,-1*l,-1*c),h=f.x-d.x,p=f.y-d.y,m=Math.sqrt(h*h+p*p),v=Math.pow(i.idealLength-m,2)/i.elasticity;if(m!==0)var g=v*h/m,y=v*p/m;else var g=0,y=0;a.isLocked||(a.offsetX+=g,a.offsetY+=y),u.isLocked||(u.offsetX-=g,u.offsetY-=y)}}},WO=function(e,n){if(n.gravity!==0)for(var r=1,i=0;i<e.graphSet.length;i++){var o=e.graphSet[i],a=o.length;if(i===0)var s=e.clientHeight/2,u=e.clientWidth/2;else var l=e.layoutNodes[e.idToIndex[o[0]]],c=e.layoutNodes[e.idToIndex[l.parentId]],s=c.positionX,u=c.positionY;for(var d=0;d<a;d++){var f=e.layoutNodes[e.idToIndex[o[d]]];if(!f.isLocked){var h=s-f.positionX,p=u-f.positionY,m=Math.sqrt(h*h+p*p);if(m>r){var v=n.gravity*h/m,g=n.gravity*p/m;f.offsetX+=v,f.offsetY+=g}}}}},ZO=function(e,n){var r=[],i=0,o=-1;for(r.push.apply(r,e.graphSet[0]),o+=e.graphSet[0].length;i<=o;){var a=r[i++],s=e.idToIndex[a],u=e.layoutNodes[s],l=u.children;if(0<l.length&&!u.isLocked){for(var c=u.offsetX,d=u.offsetY,f=0;f<l.length;f++){var h=e.layoutNodes[e.idToIndex[l[f]]];h.offsetX+=c,h.offsetY+=d,r[++o]=l[f]}u.offsetX=0,u.offsetY=0}}},YO=function(e,n){for(var r=0;r<e.nodeSize;r++){var i=e.layoutNodes[r];0<i.children.length&&(i.maxX=void 0,i.minX=void 0,i.maxY=void 0,i.minY=void 0)}for(var r=0;r<e.nodeSize;r++){var i=e.layoutNodes[r];if(!(0<i.children.length||i.isLocked)){var o=KO(i.offsetX,i.offsetY,e.temperature);i.positionX+=o.x,i.positionY+=o.y,i.offsetX=0,i.offsetY=0,i.minX=i.positionX-i.width,i.maxX=i.positionX+i.width,i.minY=i.positionY-i.height,i.maxY=i.positionY+i.height,QO(i,e)}}for(var r=0;r<e.nodeSize;r++){var i=e.layoutNodes[r];0<i.children.length&&!i.isLocked&&(i.positionX=(i.maxX+i.minX)/2,i.positionY=(i.maxY+i.minY)/2,i.width=i.maxX-i.minX,i.height=i.maxY-i.minY)}},KO=function(e,n,r){var i=Math.sqrt(e*e+n*n);if(i>r)var o={x:r*e/i,y:r*n/i};else var o={x:e,y:n};return o},QO=function t(e,n){var r=e.parentId;if(r!=null){var i=n.layoutNodes[n.idToIndex[r]],o=!1;if((i.maxX==null||e.maxX+i.padRight>i.maxX)&&(i.maxX=e.maxX+i.padRight,o=!0),(i.minX==null||e.minX-i.padLeft<i.minX)&&(i.minX=e.minX-i.padLeft,o=!0),(i.maxY==null||e.maxY+i.padBottom>i.maxY)&&(i.maxY=e.maxY+i.padBottom,o=!0),(i.minY==null||e.minY-i.padTop<i.minY)&&(i.minY=e.minY-i.padTop,o=!0),o)return t(i,n)}},Hw=function(e,n){for(var r=e.layoutNodes,i=[],o=0;o<r.length;o++){var a=r[o],s=a.cmptId,u=i[s]=i[s]||[];u.push(a)}for(var l=0,o=0;o<i.length;o++){var c=i[o];if(c){c.x1=1/0,c.x2=-1/0,c.y1=1/0,c.y2=-1/0;for(var d=0;d<c.length;d++){var f=c[d];c.x1=Math.min(c.x1,f.positionX-f.width/2),c.x2=Math.max(c.x2,f.positionX+f.width/2),c.y1=Math.min(c.y1,f.positionY-f.height/2),c.y2=Math.max(c.y2,f.positionY+f.height/2)}c.w=c.x2-c.x1,c.h=c.y2-c.y1,l+=c.w*c.h}}i.sort(function(y,w){return w.w*w.h-y.w*y.h});for(var h=0,p=0,m=0,v=0,g=Math.sqrt(l)*e.clientWidth/e.clientHeight,o=0;o<i.length;o++){var c=i[o];if(c){for(var d=0;d<c.length;d++){var f=c[d];f.isLocked||(f.positionX+=h-c.x1,f.positionY+=p-c.y1)}h+=c.w+n.componentSpacing,m+=c.w+n.componentSpacing,v=Math.max(v,c.h),m>g&&(p+=v+n.componentSpacing,h=0,m=0,v=0)}}},XO={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,avoidOverlapPadding:10,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,condense:!1,rows:void 0,cols:void 0,position:function(e){},sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,n){return!0},ready:void 0,stop:void 0,transform:function(e,n){return n}};function yD(t){this.options=ye({},XO,t)}yD.prototype.run=function(){var t=this.options,e=t,n=t.cy,r=e.eles,i=r.nodes().not(":parent");e.sort&&(i=i.sort(e.sort));var o=rn(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:n.width(),h:n.height()});if(o.h===0||o.w===0)r.nodes().layoutPositions(this,e,function(W){return{x:o.x1,y:o.y1}});else{var a=i.size(),s=Math.sqrt(a*o.h/o.w),u=Math.round(s),l=Math.round(o.w/o.h*s),c=function(K){if(K==null)return Math.min(u,l);var Q=Math.min(u,l);Q==u?u=K:l=K},d=function(K){if(K==null)return Math.max(u,l);var Q=Math.max(u,l);Q==u?u=K:l=K},f=e.rows,h=e.cols!=null?e.cols:e.columns;if(f!=null&&h!=null)u=f,l=h;else if(f!=null&&h==null)u=f,l=Math.ceil(a/u);else if(f==null&&h!=null)l=h,u=Math.ceil(a/l);else if(l*u>a){var p=c(),m=d();(p-1)*m>=a?c(p-1):(m-1)*p>=a&&d(m-1)}else for(;l*u<a;){var v=c(),g=d();(g+1)*v>=a?d(g+1):c(v+1)}var y=o.w/l,w=o.h/u;if(e.condense&&(y=0,w=0),e.avoidOverlap)for(var b=0;b<i.length;b++){var I=i[b],E=I._private.position;(E.x==null||E.y==null)&&(E.x=0,E.y=0);var D=I.layoutDimensions(e),S=e.avoidOverlapPadding,C=D.w+S,N=D.h+S;y=Math.max(y,C),w=Math.max(w,N)}for(var M={},A=function(K,Q){return!!M["c-"+K+"-"+Q]},R=function(K,Q){M["c-"+K+"-"+Q]=!0},T=0,O=0,_=function(){O++,O>=l&&(O=0,T++)},k={},P=0;P<i.length;P++){var V=i[P],z=e.position(V);if(z&&(z.row!==void 0||z.col!==void 0)){var B={row:z.row,col:z.col};if(B.col===void 0)for(B.col=0;A(B.row,B.col);)B.col++;else if(B.row===void 0)for(B.row=0;A(B.row,B.col);)B.row++;k[V.id()]=B,R(B.row,B.col)}}var $=function(K,Q){var X,J;if(K.locked()||K.isParent())return!1;var q=k[K.id()];if(q)X=q.col*y+y/2+o.x1,J=q.row*w+w/2+o.y1;else{for(;A(T,O);)_();X=O*y+y/2+o.x1,J=T*w+w/2+o.y1,R(T,O),_()}return{x:X,y:J}};i.layoutPositions(this,e,$)}return this};var JO={ready:function(){},stop:function(){}};function Fp(t){this.options=ye({},JO,t)}Fp.prototype.run=function(){var t=this.options,e=t.eles,n=this;return t.cy,n.emit("layoutstart"),e.nodes().positions(function(){return{x:0,y:0}}),n.one("layoutready",t.ready),n.emit("layoutready"),n.one("layoutstop",t.stop),n.emit("layoutstop"),this};Fp.prototype.stop=function(){return this};var eP={positions:void 0,zoom:void 0,pan:void 0,fit:!0,padding:30,spacingFactor:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,n){return!0},ready:void 0,stop:void 0,transform:function(e,n){return n}};function wD(t){this.options=ye({},eP,t)}wD.prototype.run=function(){var t=this.options,e=t.eles,n=e.nodes(),r=ht(t.positions);function i(o){if(t.positions==null)return iN(o.position());if(r)return t.positions(o);var a=t.positions[o._private.data.id];return a??null}return n.layoutPositions(this,t,function(o,a){var s=i(o);return o.locked()||s==null?!1:s}),this};var tP={fit:!0,padding:30,boundingBox:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,n){return!0},ready:void 0,stop:void 0,transform:function(e,n){return n}};function bD(t){this.options=ye({},tP,t)}bD.prototype.run=function(){var t=this.options,e=t.cy,n=t.eles,r=rn(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:e.width(),h:e.height()}),i=function(a,s){return{x:r.x1+Math.round(Math.random()*r.w),y:r.y1+Math.round(Math.random()*r.h)}};return n.nodes().layoutPositions(this,t,i),this};var nP=[{name:"breadthfirst",impl:pD},{name:"circle",impl:gD},{name:"concentric",impl:vD},{name:"cose",impl:Ec},{name:"grid",impl:yD},{name:"null",impl:Fp},{name:"preset",impl:wD},{name:"random",impl:bD}];function DD(t){this.options=t,this.notifications=0}var zw=function(){},Uw=function(){throw new Error("A headless instance can not render images")};DD.prototype={recalculateRenderedStyle:zw,notify:function(){this.notifications++},init:zw,isHeadless:function(){return!0},png:Uw,jpg:Uw};var Bp={};Bp.arrowShapeWidth=.3;Bp.registerArrowShapes=function(){var t=this.arrowShapes={},e=this,n=function(l,c,d,f,h,p,m){var v=h.x-d/2-m,g=h.x+d/2+m,y=h.y-d/2-m,w=h.y+d/2+m,b=v<=l&&l<=g&&y<=c&&c<=w;return b},r=function(l,c,d,f,h){var p=l*Math.cos(f)-c*Math.sin(f),m=l*Math.sin(f)+c*Math.cos(f),v=p*d,g=m*d,y=v+h.x,w=g+h.y;return{x:y,y:w}},i=function(l,c,d,f){for(var h=[],p=0;p<l.length;p+=2){var m=l[p],v=l[p+1];h.push(r(m,v,c,d,f))}return h},o=function(l){for(var c=[],d=0;d<l.length;d++){var f=l[d];c.push(f.x,f.y)}return c},a=function(l){return l.pstyle("width").pfValue*l.pstyle("arrow-scale").pfValue*2},s=function(l,c){pe(c)&&(c=t[c]),t[l]=ye({name:l,points:[-.15,-.3,.15,-.3,.15,.3,-.15,.3],collide:function(f,h,p,m,v,g){var y=o(i(this.points,p+2*g,m,v)),w=nn(f,h,y);return w},roughCollide:n,draw:function(f,h,p,m){var v=i(this.points,h,p,m);e.arrowShapeImpl("polygon")(f,v)},spacing:function(f){return 0},gap:a},c)};s("none",{collide:Xl,roughCollide:Xl,draw:Cp,spacing:ew,gap:ew}),s("triangle",{points:[-.15,-.3,0,0,.15,-.3]}),s("arrow","triangle"),s("triangle-backcurve",{points:t.triangle.points,controlPoint:[0,-.15],roughCollide:n,draw:function(l,c,d,f,h){var p=i(this.points,c,d,f),m=this.controlPoint,v=r(m[0],m[1],c,d,f);e.arrowShapeImpl(this.name)(l,p,v)},gap:function(l){return a(l)*.8}}),s("triangle-tee",{points:[0,0,.15,-.3,-.15,-.3,0,0],pointsTee:[-.15,-.4,-.15,-.5,.15,-.5,.15,-.4],collide:function(l,c,d,f,h,p,m){var v=o(i(this.points,d+2*m,f,h)),g=o(i(this.pointsTee,d+2*m,f,h)),y=nn(l,c,v)||nn(l,c,g);return y},draw:function(l,c,d,f,h){var p=i(this.points,c,d,f),m=i(this.pointsTee,c,d,f);e.arrowShapeImpl(this.name)(l,p,m)}}),s("circle-triangle",{radius:.15,pointsTr:[0,-.15,.15,-.45,-.15,-.45,0,-.15],collide:function(l,c,d,f,h,p,m){var v=h,g=Math.pow(v.x-l,2)+Math.pow(v.y-c,2)<=Math.pow((d+2*m)*this.radius,2),y=o(i(this.points,d+2*m,f,h));return nn(l,c,y)||g},draw:function(l,c,d,f,h){var p=i(this.pointsTr,c,d,f);e.arrowShapeImpl(this.name)(l,p,f.x,f.y,this.radius*c)},spacing:function(l){return e.getArrowWidth(l.pstyle("width").pfValue,l.pstyle("arrow-scale").value)*this.radius}}),s("triangle-cross",{points:[0,0,.15,-.3,-.15,-.3,0,0],baseCrossLinePts:[-.15,-.4,-.15,-.4,.15,-.4,.15,-.4],crossLinePts:function(l,c){var d=this.baseCrossLinePts.slice(),f=c/l,h=3,p=5;return d[h]=d[h]-f,d[p]=d[p]-f,d},collide:function(l,c,d,f,h,p,m){var v=o(i(this.points,d+2*m,f,h)),g=o(i(this.crossLinePts(d,p),d+2*m,f,h)),y=nn(l,c,v)||nn(l,c,g);return y},draw:function(l,c,d,f,h){var p=i(this.points,c,d,f),m=i(this.crossLinePts(c,h),c,d,f);e.arrowShapeImpl(this.name)(l,p,m)}}),s("vee",{points:[-.15,-.3,0,0,.15,-.3,0,-.15],gap:function(l){return a(l)*.525}}),s("circle",{radius:.15,collide:function(l,c,d,f,h,p,m){var v=h,g=Math.pow(v.x-l,2)+Math.pow(v.y-c,2)<=Math.pow((d+2*m)*this.radius,2);return g},draw:function(l,c,d,f,h){e.arrowShapeImpl(this.name)(l,f.x,f.y,this.radius*c)},spacing:function(l){return e.getArrowWidth(l.pstyle("width").pfValue,l.pstyle("arrow-scale").value)*this.radius}}),s("tee",{points:[-.15,0,-.15,-.1,.15,-.1,.15,0],spacing:function(l){return 1},gap:function(l){return 1}}),s("square",{points:[-.15,0,.15,0,.15,-.3,-.15,-.3]}),s("diamond",{points:[-.15,-.15,0,-.3,.15,-.15,0,0],gap:function(l){return l.pstyle("width").pfValue*l.pstyle("arrow-scale").value}}),s("chevron",{points:[0,0,-.15,-.15,-.1,-.2,0,-.1,.1,-.2,.15,-.15],gap:function(l){return .95*l.pstyle("width").pfValue*l.pstyle("arrow-scale").value}})};var Fi={};Fi.projectIntoViewport=function(t,e){var n=this.cy,r=this.findContainerClientCoords(),i=r[0],o=r[1],a=r[4],s=n.pan(),u=n.zoom(),l=((t-i)/a-s.x)/u,c=((e-o)/a-s.y)/u;return[l,c]};Fi.findContainerClientCoords=function(){if(this.containerBB)return this.containerBB;var t=this.container,e=t.getBoundingClientRect(),n=this.cy.window().getComputedStyle(t),r=function(g){return parseFloat(n.getPropertyValue(g))},i={left:r("padding-left"),right:r("padding-right"),top:r("padding-top"),bottom:r("padding-bottom")},o={left:r("border-left-width"),right:r("border-right-width"),top:r("border-top-width"),bottom:r("border-bottom-width")},a=t.clientWidth,s=t.clientHeight,u=i.left+i.right,l=i.top+i.bottom,c=o.left+o.right,d=e.width/(a+c),f=a-u,h=s-l,p=e.left+i.left+o.left,m=e.top+i.top+o.top;return this.containerBB=[p,m,f,h,d]};Fi.invalidateContainerClientCoordsCache=function(){this.containerBB=null};Fi.findNearestElement=function(t,e,n,r){return this.findNearestElements(t,e,n,r)[0]};Fi.findNearestElements=function(t,e,n,r){var i=this,o=this,a=o.getCachedZSortedEles(),s=[],u=o.cy.zoom(),l=o.cy.hasCompoundNodes(),c=(r?24:8)/u,d=(r?8:2)/u,f=(r?8:2)/u,h=1/0,p,m;n&&(a=a.interactive);function v(D,S){if(D.isNode()){if(m)return;m=D,s.push(D)}if(D.isEdge()&&(S==null||S<h))if(p){if(p.pstyle("z-compound-depth").value===D.pstyle("z-compound-depth").value&&p.pstyle("z-compound-depth").value===D.pstyle("z-compound-depth").value){for(var C=0;C<s.length;C++)if(s[C].isEdge()){s[C]=D,p=D,h=S??h;break}}}else s.push(D),p=D,h=S??h}function g(D){var S=D.outerWidth()+2*d,C=D.outerHeight()+2*d,N=S/2,M=C/2,A=D.position(),R=D.pstyle("corner-radius").value==="auto"?"auto":D.pstyle("corner-radius").pfValue,T=D._private.rscratch;if(A.x-N<=t&&t<=A.x+N&&A.y-M<=e&&e<=A.y+M){var O=o.nodeShapes[i.getNodeShape(D)];if(O.checkPoint(t,e,0,S,C,A.x,A.y,R,T))return v(D,0),!0}}function y(D){var S=D._private,C=S.rscratch,N=D.pstyle("width").pfValue,M=D.pstyle("arrow-scale").value,A=N/2+c,R=A*A,T=A*2,P=S.source,V=S.target,O;if(C.edgeType==="segments"||C.edgeType==="straight"||C.edgeType==="haystack"){for(var _=C.allpts,k=0;k+3<_.length;k+=2)if(mN(t,e,_[k],_[k+1],_[k+2],_[k+3],T)&&R>(O=EN(t,e,_[k],_[k+1],_[k+2],_[k+3])))return v(D,O),!0}else if(C.edgeType==="bezier"||C.edgeType==="multibezier"||C.edgeType==="self"||C.edgeType==="compound"){for(var _=C.allpts,k=0;k+5<C.allpts.length;k+=4)if(yN(t,e,_[k],_[k+1],_[k+2],_[k+3],_[k+4],_[k+5],T)&&R>(O=DN(t,e,_[k],_[k+1],_[k+2],_[k+3],_[k+4],_[k+5])))return v(D,O),!0}for(var P=P||S.source,V=V||S.target,z=i.getArrowWidth(N,M),B=[{name:"source",x:C.arrowStartX,y:C.arrowStartY,angle:C.srcArrowAngle},{name:"target",x:C.arrowEndX,y:C.arrowEndY,angle:C.tgtArrowAngle},{name:"mid-source",x:C.midX,y:C.midY,angle:C.midsrcArrowAngle},{name:"mid-target",x:C.midX,y:C.midY,angle:C.midtgtArrowAngle}],k=0;k<B.length;k++){var $=B[k],W=o.arrowShapes[D.pstyle($.name+"-arrow-shape").value],K=D.pstyle("width").pfValue;if(W.roughCollide(t,e,z,$.angle,{x:$.x,y:$.y},K,c)&&W.collide(t,e,z,$.angle,{x:$.x,y:$.y},K,c))return v(D),!0}l&&s.length>0&&(g(P),g(V))}function w(D,S,C){return jn(D,S,C)}function b(D,S){var C=D._private,N=f,M;S?M=S+"-":M="",D.boundingBox();var A=C.labelBounds[S||"main"],R=D.pstyle(M+"label").value,T=D.pstyle("text-events").strValue==="yes";if(!(!T||!R)){var O=w(C.rscratch,"labelX",S),_=w(C.rscratch,"labelY",S),k=w(C.rscratch,"labelAngle",S),P=D.pstyle(M+"text-margin-x").pfValue,V=D.pstyle(M+"text-margin-y").pfValue,z=A.x1-N-P,B=A.x2+N-P,$=A.y1-N-V,W=A.y2+N-V;if(k){var K=Math.cos(k),Q=Math.sin(k),X=function(ve,ne){return ve=ve-O,ne=ne-_,{x:ve*K-ne*Q+O,y:ve*Q+ne*K+_}},J=X(z,$),q=X(z,W),L=X(B,$),U=X(B,W),Z=[J.x+P,J.y+V,L.x+P,L.y+V,U.x+P,U.y+V,q.x+P,q.y+V];if(nn(t,e,Z))return v(D),!0}else if(qo(A,t,e))return v(D),!0}}for(var I=a.length-1;I>=0;I--){var E=a[I];E.isNode()?g(E)||b(E):y(E)||b(E)||b(E,"source")||b(E,"target")}return s};Fi.getAllInBox=function(t,e,n,r){var i=this.getCachedZSortedEles().interactive,o=[],a=Math.min(t,n),s=Math.max(t,n),u=Math.min(e,r),l=Math.max(e,r);t=a,n=s,e=u,r=l;for(var c=rn({x1:t,y1:e,x2:n,y2:r}),d=0;d<i.length;d++){var f=i[d];if(f.isNode()){var h=f,p=h.boundingBox({includeNodes:!0,includeEdges:!1,includeLabels:!1});xp(c,p)&&!Nb(p,c)&&o.push(h)}else{var m=f,v=m._private,g=v.rscratch;if(g.startX!=null&&g.startY!=null&&!qo(c,g.startX,g.startY)||g.endX!=null&&g.endY!=null&&!qo(c,g.endX,g.endY))continue;if(g.edgeType==="bezier"||g.edgeType==="multibezier"||g.edgeType==="self"||g.edgeType==="compound"||g.edgeType==="segments"||g.edgeType==="haystack"){for(var y=v.rstyle.bezierPts||v.rstyle.linePts||v.rstyle.haystackPts,w=!0,b=0;b<y.length;b++)if(!vN(c,y[b])){w=!1;break}w&&o.push(m)}else(g.edgeType==="haystack"||g.edgeType==="straight")&&o.push(m)}}return o};var oc={};oc.calculateArrowAngles=function(t){var e=t._private.rscratch,n=e.edgeType==="haystack",r=e.edgeType==="bezier",i=e.edgeType==="multibezier",o=e.edgeType==="segments",a=e.edgeType==="compound",s=e.edgeType==="self",u,l,c,d,f,h,g,y;if(n?(c=e.haystackPts[0],d=e.haystackPts[1],f=e.haystackPts[2],h=e.haystackPts[3]):(c=e.arrowStartX,d=e.arrowStartY,f=e.arrowEndX,h=e.arrowEndY),g=e.midX,y=e.midY,o)u=c-e.segpts[0],l=d-e.segpts[1];else if(i||a||s||r){var p=e.allpts,m=Rt(p[0],p[2],p[4],.1),v=Rt(p[1],p[3],p[5],.1);u=c-m,l=d-v}else u=c-g,l=d-y;e.srcArrowAngle=Nl(u,l);var g=e.midX,y=e.midY;if(n&&(g=(c+f)/2,y=(d+h)/2),u=f-c,l=h-d,o){var p=e.allpts;if(p.length/2%2===0){var w=p.length/2,b=w-2;u=p[w]-p[b],l=p[w+1]-p[b+1]}else if(e.isRound)u=e.midVector[1],l=-e.midVector[0];else{var w=p.length/2-1,b=w-2;u=p[w]-p[b],l=p[w+1]-p[b+1]}}else if(i||a||s){var p=e.allpts,I=e.ctrlpts,E,D,S,C;if(I.length/2%2===0){var N=p.length/2-1,M=N+2,A=M+2;E=Rt(p[N],p[M],p[A],0),D=Rt(p[N+1],p[M+1],p[A+1],0),S=Rt(p[N],p[M],p[A],1e-4),C=Rt(p[N+1],p[M+1],p[A+1],1e-4)}else{var M=p.length/2-1,N=M-2,A=M+2;E=Rt(p[N],p[M],p[A],.4999),D=Rt(p[N+1],p[M+1],p[A+1],.4999),S=Rt(p[N],p[M],p[A],.5),C=Rt(p[N+1],p[M+1],p[A+1],.5)}u=S-E,l=C-D}if(e.midtgtArrowAngle=Nl(u,l),e.midDispX=u,e.midDispY=l,u*=-1,l*=-1,o){var p=e.allpts;if(p.length/2%2!==0){if(!e.isRound){var w=p.length/2-1,R=w+2;u=-(p[R]-p[w]),l=-(p[R+1]-p[w+1])}}}if(e.midsrcArrowAngle=Nl(u,l),o)u=f-e.segpts[e.segpts.length-2],l=h-e.segpts[e.segpts.length-1];else if(i||a||s||r){var p=e.allpts,T=p.length,m=Rt(p[T-6],p[T-4],p[T-2],.9),v=Rt(p[T-5],p[T-3],p[T-1],.9);u=f-m,l=h-v}else u=f-g,l=h-y;e.tgtArrowAngle=Nl(u,l)};oc.getArrowWidth=oc.getArrowHeight=function(t,e){var n=this.arrowWidthCache=this.arrowWidthCache||{},r=n[t+", "+e];return r||(r=Math.max(Math.pow(t*13.37,.9),29)*e,n[t+", "+e]=r,r)};var cp,dp,Jn={},Cn={},qw,Gw,Mi,Zl,br,Ci,Ti,Xn,Lo,Vl,ED,CD,fp,hp,Ww,Zw=function(e,n,r){r.x=n.x-e.x,r.y=n.y-e.y,r.len=Math.sqrt(r.x*r.x+r.y*r.y),r.nx=r.x/r.len,r.ny=r.y/r.len,r.ang=Math.atan2(r.ny,r.nx)},rP=function(e,n){n.x=e.x*-1,n.y=e.y*-1,n.nx=e.nx*-1,n.ny=e.ny*-1,n.ang=e.ang>0?-(Math.PI-e.ang):Math.PI+e.ang},iP=function(e,n,r,i,o){if(e!==Ww?Zw(n,e,Jn):rP(Cn,Jn),Zw(n,r,Cn),qw=Jn.nx*Cn.ny-Jn.ny*Cn.nx,Gw=Jn.nx*Cn.nx-Jn.ny*-Cn.ny,br=Math.asin(Math.max(-1,Math.min(1,qw))),Math.abs(br)<1e-6){cp=n.x,dp=n.y,Ti=Lo=0;return}Mi=1,Zl=!1,Gw<0?br<0?br=Math.PI+br:(br=Math.PI-br,Mi=-1,Zl=!0):br>0&&(Mi=-1,Zl=!0),n.radius!==void 0?Lo=n.radius:Lo=i,Ci=br/2,Vl=Math.min(Jn.len/2,Cn.len/2),o?(Xn=Math.abs(Math.cos(Ci)*Lo/Math.sin(Ci)),Xn>Vl?(Xn=Vl,Ti=Math.abs(Xn*Math.sin(Ci)/Math.cos(Ci))):Ti=Lo):(Xn=Math.min(Vl,Lo),Ti=Math.abs(Xn*Math.sin(Ci)/Math.cos(Ci))),fp=n.x+Cn.nx*Xn,hp=n.y+Cn.ny*Xn,cp=fp-Cn.ny*Ti*Mi,dp=hp+Cn.nx*Ti*Mi,ED=n.x+Jn.nx*Xn,CD=n.y+Jn.ny*Xn,Ww=n};function ID(t,e){e.radius===0?t.lineTo(e.cx,e.cy):t.arc(e.cx,e.cy,e.radius,e.startAngle,e.endAngle,e.counterClockwise)}function Vp(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0;return r===0||e.radius===0?{cx:e.x,cy:e.y,radius:0,startX:e.x,startY:e.y,stopX:e.x,stopY:e.y,startAngle:void 0,endAngle:void 0,counterClockwise:void 0}:(iP(t,e,n,r,i),{cx:cp,cy:dp,radius:Ti,startX:ED,startY:CD,stopX:fp,stopY:hp,startAngle:Jn.ang+Math.PI/2*Mi,endAngle:Cn.ang-Math.PI/2*Mi,counterClockwise:Zl})}var Kt={};Kt.findMidptPtsEtc=function(t,e){var n=e.posPts,r=e.intersectionPts,i=e.vectorNormInverse,o,a=t.pstyle("source-endpoint"),s=t.pstyle("target-endpoint"),u=a.units!=null&&s.units!=null,l=function(I,E,D,S){var C=S-E,N=D-I,M=Math.sqrt(N*N+C*C);return{x:-C/M,y:N/M}},c=t.pstyle("edge-distances").value;switch(c){case"node-position":o=n;break;case"intersection":o=r;break;case"endpoints":{if(u){var d=this.manualEndptToPx(t.source()[0],a),f=Vn(d,2),h=f[0],p=f[1],m=this.manualEndptToPx(t.target()[0],s),v=Vn(m,2),g=v[0],y=v[1],w={x1:h,y1:p,x2:g,y2:y};i=l(h,p,g,y),o=w}else Xe("Edge ".concat(t.id()," has edge-distances:endpoints specified without manual endpoints specified via source-endpoint and target-endpoint.  Falling back on edge-distances:intersection (default).")),o=r;break}}return{midptPts:o,vectorNormInverse:i}};Kt.findHaystackPoints=function(t){for(var e=0;e<t.length;e++){var n=t[e],r=n._private,i=r.rscratch;if(!i.haystack){var o=Math.random()*2*Math.PI;i.source={x:Math.cos(o),y:Math.sin(o)},o=Math.random()*2*Math.PI,i.target={x:Math.cos(o),y:Math.sin(o)}}var a=r.source,s=r.target,u=a.position(),l=s.position(),c=a.width(),d=s.width(),f=a.height(),h=s.height(),p=n.pstyle("haystack-radius").value,m=p/2;i.haystackPts=i.allpts=[i.source.x*c*m+u.x,i.source.y*f*m+u.y,i.target.x*d*m+l.x,i.target.y*h*m+l.y],i.midX=(i.allpts[0]+i.allpts[2])/2,i.midY=(i.allpts[1]+i.allpts[3])/2,i.edgeType="haystack",i.haystack=!0,this.storeEdgeProjections(n),this.calculateArrowAngles(n),this.recalculateEdgeLabelProjections(n),this.calculateLabelAngles(n)}};Kt.findSegmentsPoints=function(t,e){var n=t._private.rscratch,r=t.pstyle("segment-weights"),i=t.pstyle("segment-distances"),o=t.pstyle("segment-radii"),a=t.pstyle("radius-type"),s=Math.min(r.pfValue.length,i.pfValue.length),u=o.pfValue[o.pfValue.length-1],l=a.pfValue[a.pfValue.length-1];n.edgeType="segments",n.segpts=[],n.radii=[],n.isArcRadius=[];for(var c=0;c<s;c++){var d=r.pfValue[c],f=i.pfValue[c],h=1-d,p=d,m=this.findMidptPtsEtc(t,e),v=m.midptPts,g=m.vectorNormInverse,y={x:v.x1*h+v.x2*p,y:v.y1*h+v.y2*p};n.segpts.push(y.x+g.x*f,y.y+g.y*f),n.radii.push(o.pfValue[c]!==void 0?o.pfValue[c]:u),n.isArcRadius.push((a.pfValue[c]!==void 0?a.pfValue[c]:l)==="arc-radius")}};Kt.findLoopPoints=function(t,e,n,r){var i=t._private.rscratch,o=e.dirCounts,a=e.srcPos,s=t.pstyle("control-point-distances"),u=s?s.pfValue[0]:void 0,l=t.pstyle("loop-direction").pfValue,c=t.pstyle("loop-sweep").pfValue,d=t.pstyle("control-point-step-size").pfValue;i.edgeType="self";var f=n,h=d;r&&(f=0,h=u);var p=l-Math.PI/2,m=p-c/2,v=p+c/2,g=l+"_"+c;f=o[g]===void 0?o[g]=0:++o[g],i.ctrlpts=[a.x+Math.cos(m)*1.4*h*(f/3+1),a.y+Math.sin(m)*1.4*h*(f/3+1),a.x+Math.cos(v)*1.4*h*(f/3+1),a.y+Math.sin(v)*1.4*h*(f/3+1)]};Kt.findCompoundLoopPoints=function(t,e,n,r){var i=t._private.rscratch;i.edgeType="compound";var o=e.srcPos,a=e.tgtPos,s=e.srcW,u=e.srcH,l=e.tgtW,c=e.tgtH,d=t.pstyle("control-point-step-size").pfValue,f=t.pstyle("control-point-distances"),h=f?f.pfValue[0]:void 0,p=n,m=d;r&&(p=0,m=h);var v=50,g={x:o.x-s/2,y:o.y-u/2},y={x:a.x-l/2,y:a.y-c/2},w={x:Math.min(g.x,y.x),y:Math.min(g.y,y.y)},b=.5,I=Math.max(b,Math.log(s*.01)),E=Math.max(b,Math.log(l*.01));i.ctrlpts=[w.x,w.y-(1+Math.pow(v,1.12)/100)*m*(p/3+1)*I,w.x-(1+Math.pow(v,1.12)/100)*m*(p/3+1)*E,w.y]};Kt.findStraightEdgePoints=function(t){t._private.rscratch.edgeType="straight"};Kt.findBezierPoints=function(t,e,n,r,i){var o=t._private.rscratch,a=t.pstyle("control-point-step-size").pfValue,s=t.pstyle("control-point-distances"),u=t.pstyle("control-point-weights"),l=s&&u?Math.min(s.value.length,u.value.length):1,c=s?s.pfValue[0]:void 0,d=u.value[0],f=r;o.edgeType=f?"multibezier":"bezier",o.ctrlpts=[];for(var h=0;h<l;h++){var p=(.5-e.eles.length/2+n)*a*(i?-1:1),m=void 0,v=Mb(p);f&&(c=s?s.pfValue[h]:a,d=u.value[h]),r?m=c:m=c!==void 0?v*c:void 0;var g=m!==void 0?m:p,y=1-d,w=d,b=this.findMidptPtsEtc(t,e),I=b.midptPts,E=b.vectorNormInverse,D={x:I.x1*y+I.x2*w,y:I.y1*y+I.y2*w};o.ctrlpts.push(D.x+E.x*g,D.y+E.y*g)}};Kt.findTaxiPoints=function(t,e){var n=t._private.rscratch;n.edgeType="segments";var r="vertical",i="horizontal",o="leftward",a="rightward",s="downward",u="upward",l="auto",c=e.posPts,d=e.srcW,f=e.srcH,h=e.tgtW,p=e.tgtH,m=t.pstyle("edge-distances").value,v=m!=="node-position",g=t.pstyle("taxi-direction").value,y=g,w=t.pstyle("taxi-turn"),b=w.units==="%",I=w.pfValue,E=I<0,D=t.pstyle("taxi-turn-min-distance").pfValue,S=v?(d+h)/2:0,C=v?(f+p)/2:0,N=c.x2-c.x1,M=c.y2-c.y1,A=function(Y,ae){return Y>0?Math.max(Y-ae,0):Math.min(Y+ae,0)},R=A(N,S),T=A(M,C),O=!1;y===l?g=Math.abs(R)>Math.abs(T)?i:r:y===u||y===s?(g=r,O=!0):(y===o||y===a)&&(g=i,O=!0);var _=g===r,k=_?T:R,P=_?M:N,V=Mb(P),z=!1;!(O&&(b||E))&&(y===s&&P<0||y===u&&P>0||y===o&&P>0||y===a&&P<0)&&(V*=-1,k=V*Math.abs(k),z=!0);var B;if(b){var $=I<0?1+I:I;B=$*k}else{var W=I<0?k:0;B=W+I*V}var K=function(Y){return Math.abs(Y)<D||Math.abs(Y)>=Math.abs(k)},Q=K(B),X=K(Math.abs(k)-Math.abs(B)),J=Q||X;if(J&&!z)if(_){var q=Math.abs(P)<=f/2,L=Math.abs(N)<=h/2;if(q){var U=(c.x1+c.x2)/2,Z=c.y1,re=c.y2;n.segpts=[U,Z,U,re]}else if(L){var ve=(c.y1+c.y2)/2,ne=c.x1,te=c.x2;n.segpts=[ne,ve,te,ve]}else n.segpts=[c.x1,c.y2]}else{var de=Math.abs(P)<=d/2,ce=Math.abs(M)<=p/2;if(de){var se=(c.y1+c.y2)/2,ge=c.x1,Je=c.x2;n.segpts=[ge,se,Je,se]}else if(ce){var He=(c.x1+c.x2)/2,_e=c.y1,et=c.y2;n.segpts=[He,_e,He,et]}else n.segpts=[c.x2,c.y1]}else if(_){var Oe=c.y1+B+(v?f/2*V:0),Ze=c.x1,ee=c.x2;n.segpts=[Ze,Oe,ee,Oe]}else{var x=c.x1+B+(v?d/2*V:0),j=c.y1,G=c.y2;n.segpts=[x,j,x,G]}if(n.isRound){var F=t.pstyle("taxi-radius").value,H=t.pstyle("radius-type").value[0]==="arc-radius";n.radii=new Array(n.segpts.length/2).fill(F),n.isArcRadius=new Array(n.segpts.length/2).fill(H)}};Kt.tryToCorrectInvalidPoints=function(t,e){var n=t._private.rscratch;if(n.edgeType==="bezier"){var r=e.srcPos,i=e.tgtPos,o=e.srcW,a=e.srcH,s=e.tgtW,u=e.tgtH,l=e.srcShape,c=e.tgtShape,d=e.srcCornerRadius,f=e.tgtCornerRadius,h=e.srcRs,p=e.tgtRs,m=!ie(n.startX)||!ie(n.startY),v=!ie(n.arrowStartX)||!ie(n.arrowStartY),g=!ie(n.endX)||!ie(n.endY),y=!ie(n.arrowEndX)||!ie(n.arrowEndY),w=3,b=this.getArrowWidth(t.pstyle("width").pfValue,t.pstyle("arrow-scale").value)*this.arrowShapeWidth,I=w*b,E=_i({x:n.ctrlpts[0],y:n.ctrlpts[1]},{x:n.startX,y:n.startY}),D=E<I,S=_i({x:n.ctrlpts[0],y:n.ctrlpts[1]},{x:n.endX,y:n.endY}),C=S<I,N=!1;if(m||v||D){N=!0;var M={x:n.ctrlpts[0]-r.x,y:n.ctrlpts[1]-r.y},A=Math.sqrt(M.x*M.x+M.y*M.y),R={x:M.x/A,y:M.y/A},T=Math.max(o,a),O={x:n.ctrlpts[0]+R.x*2*T,y:n.ctrlpts[1]+R.y*2*T},_=l.intersectLine(r.x,r.y,o,a,O.x,O.y,0,d,h);D?(n.ctrlpts[0]=n.ctrlpts[0]+R.x*(I-E),n.ctrlpts[1]=n.ctrlpts[1]+R.y*(I-E)):(n.ctrlpts[0]=_[0]+R.x*I,n.ctrlpts[1]=_[1]+R.y*I)}if(g||y||C){N=!0;var k={x:n.ctrlpts[0]-i.x,y:n.ctrlpts[1]-i.y},P=Math.sqrt(k.x*k.x+k.y*k.y),V={x:k.x/P,y:k.y/P},z=Math.max(o,a),B={x:n.ctrlpts[0]+V.x*2*z,y:n.ctrlpts[1]+V.y*2*z},$=c.intersectLine(i.x,i.y,s,u,B.x,B.y,0,f,p);C?(n.ctrlpts[0]=n.ctrlpts[0]+V.x*(I-S),n.ctrlpts[1]=n.ctrlpts[1]+V.y*(I-S)):(n.ctrlpts[0]=$[0]+V.x*I,n.ctrlpts[1]=$[1]+V.y*I)}N&&this.findEndpoints(t)}};Kt.storeAllpts=function(t){var e=t._private.rscratch;if(e.edgeType==="multibezier"||e.edgeType==="bezier"||e.edgeType==="self"||e.edgeType==="compound"){e.allpts=[],e.allpts.push(e.startX,e.startY);for(var n=0;n+1<e.ctrlpts.length;n+=2)e.allpts.push(e.ctrlpts[n],e.ctrlpts[n+1]),n+3<e.ctrlpts.length&&e.allpts.push((e.ctrlpts[n]+e.ctrlpts[n+2])/2,(e.ctrlpts[n+1]+e.ctrlpts[n+3])/2);e.allpts.push(e.endX,e.endY);var r,i;e.ctrlpts.length/2%2===0?(r=e.allpts.length/2-1,e.midX=e.allpts[r],e.midY=e.allpts[r+1]):(r=e.allpts.length/2-3,i=.5,e.midX=Rt(e.allpts[r],e.allpts[r+2],e.allpts[r+4],i),e.midY=Rt(e.allpts[r+1],e.allpts[r+3],e.allpts[r+5],i))}else if(e.edgeType==="straight")e.allpts=[e.startX,e.startY,e.endX,e.endY],e.midX=(e.startX+e.endX+e.arrowStartX+e.arrowEndX)/4,e.midY=(e.startY+e.endY+e.arrowStartY+e.arrowEndY)/4;else if(e.edgeType==="segments"){if(e.allpts=[],e.allpts.push(e.startX,e.startY),e.allpts.push.apply(e.allpts,e.segpts),e.allpts.push(e.endX,e.endY),e.isRound){e.roundCorners=[];for(var o=2;o+3<e.allpts.length;o+=2){var a=e.radii[o/2-1],s=e.isArcRadius[o/2-1];e.roundCorners.push(Vp({x:e.allpts[o-2],y:e.allpts[o-1]},{x:e.allpts[o],y:e.allpts[o+1],radius:a},{x:e.allpts[o+2],y:e.allpts[o+3]},a,s))}}if(e.segpts.length%4===0){var u=e.segpts.length/2,l=u-2;e.midX=(e.segpts[l]+e.segpts[u])/2,e.midY=(e.segpts[l+1]+e.segpts[u+1])/2}else{var c=e.segpts.length/2-1;if(!e.isRound)e.midX=e.segpts[c],e.midY=e.segpts[c+1];else{var d={x:e.segpts[c],y:e.segpts[c+1]},f=e.roundCorners[c/2],h=[d.x-f.cx,d.y-f.cy],p=f.radius/Math.sqrt(Math.pow(h[0],2)+Math.pow(h[1],2));h=h.map(function(m){return m*p}),e.midX=f.cx+h[0],e.midY=f.cy+h[1],e.midVector=h}}}};Kt.checkForInvalidEdgeWarning=function(t){var e=t[0]._private.rscratch;e.nodesOverlap||ie(e.startX)&&ie(e.startY)&&ie(e.endX)&&ie(e.endY)?e.loggedErr=!1:e.loggedErr||(e.loggedErr=!0,Xe("Edge `"+t.id()+"` has invalid endpoints and so it is impossible to draw.  Adjust your edge style (e.g. control points) accordingly or use an alternative edge type.  This is expected behaviour when the source node and the target node overlap."))};Kt.findEdgeControlPoints=function(t){var e=this;if(!(!t||t.length===0)){for(var n=this,r=n.cy,i=r.hasCompoundNodes(),o={map:new tr,get:function(D){var S=this.map.get(D[0]);return S!=null?S.get(D[1]):null},set:function(D,S){var C=this.map.get(D[0]);C==null&&(C=new tr,this.map.set(D[0],C)),C.set(D[1],S)}},a=[],s=[],u=0;u<t.length;u++){var l=t[u],c=l._private,d=l.pstyle("curve-style").value;if(!(l.removed()||!l.takesUpSpace())){if(d==="haystack"){s.push(l);continue}var f=d==="unbundled-bezier"||d.endsWith("segments")||d==="straight"||d==="straight-triangle"||d.endsWith("taxi"),h=d==="unbundled-bezier"||d==="bezier",p=c.source,m=c.target,v=p.poolIndex(),g=m.poolIndex(),y=[v,g].sort(),w=o.get(y);w==null&&(w={eles:[]},o.set(y,w),a.push(y)),w.eles.push(l),f&&(w.hasUnbundled=!0),h&&(w.hasBezier=!0)}}for(var b=function(D){var S=a[D],C=o.get(S),N=void 0;if(!C.hasUnbundled){var M=C.eles[0].parallelEdges().filter(function(x){return x.isBundledBezier()});Ip(C.eles),M.forEach(function(x){return C.eles.push(x)}),C.eles.sort(function(x,j){return x.poolIndex()-j.poolIndex()})}var A=C.eles[0],R=A.source(),T=A.target();if(R.poolIndex()>T.poolIndex()){var O=R;R=T,T=O}var _=C.srcPos=R.position(),k=C.tgtPos=T.position(),P=C.srcW=R.outerWidth(),V=C.srcH=R.outerHeight(),z=C.tgtW=T.outerWidth(),B=C.tgtH=T.outerHeight(),$=C.srcShape=n.nodeShapes[e.getNodeShape(R)],W=C.tgtShape=n.nodeShapes[e.getNodeShape(T)],K=C.srcCornerRadius=R.pstyle("corner-radius").value==="auto"?"auto":R.pstyle("corner-radius").pfValue,Q=C.tgtCornerRadius=T.pstyle("corner-radius").value==="auto"?"auto":T.pstyle("corner-radius").pfValue,X=C.tgtRs=T._private.rscratch,J=C.srcRs=R._private.rscratch;C.dirCounts={north:0,west:0,south:0,east:0,northwest:0,southwest:0,northeast:0,southeast:0};for(var q=0;q<C.eles.length;q++){var L=C.eles[q],U=L[0]._private.rscratch,Z=L.pstyle("curve-style").value,re=Z==="unbundled-bezier"||Z.endsWith("segments")||Z.endsWith("taxi"),ve=!R.same(L.source());if(!C.calculatedIntersection&&R!==T&&(C.hasBezier||C.hasUnbundled)){C.calculatedIntersection=!0;var ne=$.intersectLine(_.x,_.y,P,V,k.x,k.y,0,K,J),te=C.srcIntn=ne,de=W.intersectLine(k.x,k.y,z,B,_.x,_.y,0,Q,X),ce=C.tgtIntn=de,se=C.intersectionPts={x1:ne[0],x2:de[0],y1:ne[1],y2:de[1]},ge=C.posPts={x1:_.x,x2:k.x,y1:_.y,y2:k.y},Je=de[1]-ne[1],He=de[0]-ne[0],_e=Math.sqrt(He*He+Je*Je),et=C.vector={x:He,y:Je},Oe=C.vectorNorm={x:et.x/_e,y:et.y/_e},Ze={x:-Oe.y,y:Oe.x};C.nodesOverlap=!ie(_e)||W.checkPoint(ne[0],ne[1],0,z,B,k.x,k.y,Q,X)||$.checkPoint(de[0],de[1],0,P,V,_.x,_.y,K,J),C.vectorNormInverse=Ze,N={nodesOverlap:C.nodesOverlap,dirCounts:C.dirCounts,calculatedIntersection:!0,hasBezier:C.hasBezier,hasUnbundled:C.hasUnbundled,eles:C.eles,srcPos:k,srcRs:X,tgtPos:_,tgtRs:J,srcW:z,srcH:B,tgtW:P,tgtH:V,srcIntn:ce,tgtIntn:te,srcShape:W,tgtShape:$,posPts:{x1:ge.x2,y1:ge.y2,x2:ge.x1,y2:ge.y1},intersectionPts:{x1:se.x2,y1:se.y2,x2:se.x1,y2:se.y1},vector:{x:-et.x,y:-et.y},vectorNorm:{x:-Oe.x,y:-Oe.y},vectorNormInverse:{x:-Ze.x,y:-Ze.y}}}var ee=ve?N:C;U.nodesOverlap=ee.nodesOverlap,U.srcIntn=ee.srcIntn,U.tgtIntn=ee.tgtIntn,U.isRound=Z.startsWith("round"),i&&(R.isParent()||R.isChild()||T.isParent()||T.isChild())&&(R.parents().anySame(T)||T.parents().anySame(R)||R.same(T)&&R.isParent())?e.findCompoundLoopPoints(L,ee,q,re):R===T?e.findLoopPoints(L,ee,q,re):Z.endsWith("segments")?e.findSegmentsPoints(L,ee):Z.endsWith("taxi")?e.findTaxiPoints(L,ee):Z==="straight"||!re&&C.eles.length%2===1&&q===Math.floor(C.eles.length/2)?e.findStraightEdgePoints(L):e.findBezierPoints(L,ee,q,re,ve),e.findEndpoints(L),e.tryToCorrectInvalidPoints(L,ee),e.checkForInvalidEdgeWarning(L),e.storeAllpts(L),e.storeEdgeProjections(L),e.calculateArrowAngles(L),e.recalculateEdgeLabelProjections(L),e.calculateLabelAngles(L)}},I=0;I<a.length;I++)b(I);this.findHaystackPoints(s)}};function SD(t){var e=[];if(t!=null){for(var n=0;n<t.length;n+=2){var r=t[n],i=t[n+1];e.push({x:r,y:i})}return e}}Kt.getSegmentPoints=function(t){var e=t[0]._private.rscratch;this.recalculateRenderedStyle(t);var n=e.edgeType;if(n==="segments")return SD(e.segpts)};Kt.getControlPoints=function(t){var e=t[0]._private.rscratch;this.recalculateRenderedStyle(t);var n=e.edgeType;if(n==="bezier"||n==="multibezier"||n==="self"||n==="compound")return SD(e.ctrlpts)};Kt.getEdgeMidpoint=function(t){var e=t[0]._private.rscratch;return this.recalculateRenderedStyle(t),{x:e.midX,y:e.midY}};var Os={};Os.manualEndptToPx=function(t,e){var n=this,r=t.position(),i=t.outerWidth(),o=t.outerHeight(),a=t._private.rscratch;if(e.value.length===2){var s=[e.pfValue[0],e.pfValue[1]];return e.units[0]==="%"&&(s[0]=s[0]*i),e.units[1]==="%"&&(s[1]=s[1]*o),s[0]+=r.x,s[1]+=r.y,s}else{var u=e.pfValue[0];u=-Math.PI/2+u;var l=2*Math.max(i,o),c=[r.x+Math.cos(u)*l,r.y+Math.sin(u)*l];return n.nodeShapes[this.getNodeShape(t)].intersectLine(r.x,r.y,i,o,c[0],c[1],0,t.pstyle("corner-radius").value==="auto"?"auto":t.pstyle("corner-radius").pfValue,a)}};Os.findEndpoints=function(t){var e=this,n,r=t.source()[0],i=t.target()[0],o=r.position(),a=i.position(),s=t.pstyle("target-arrow-shape").value,u=t.pstyle("source-arrow-shape").value,l=t.pstyle("target-distance-from-node").pfValue,c=t.pstyle("source-distance-from-node").pfValue,d=r._private.rscratch,f=i._private.rscratch,h=t.pstyle("curve-style").value,p=t._private.rscratch,m=p.edgeType,v=h==="taxi",g=m==="self"||m==="compound",y=m==="bezier"||m==="multibezier"||g,w=m!=="bezier",b=m==="straight"||m==="segments",I=m==="segments",E=y||w||b,D=g||v,S=t.pstyle("source-endpoint"),C=D?"outside-to-node":S.value,N=r.pstyle("corner-radius").value==="auto"?"auto":r.pstyle("corner-radius").pfValue,M=t.pstyle("target-endpoint"),A=D?"outside-to-node":M.value,R=i.pstyle("corner-radius").value==="auto"?"auto":i.pstyle("corner-radius").pfValue;p.srcManEndpt=S,p.tgtManEndpt=M;var T,O,_,k;if(y){var P=[p.ctrlpts[0],p.ctrlpts[1]],V=w?[p.ctrlpts[p.ctrlpts.length-2],p.ctrlpts[p.ctrlpts.length-1]]:P;T=V,O=P}else if(b){var z=I?p.segpts.slice(0,2):[a.x,a.y],B=I?p.segpts.slice(p.segpts.length-2):[o.x,o.y];T=B,O=z}if(A==="inside-to-node")n=[a.x,a.y];else if(M.units)n=this.manualEndptToPx(i,M);else if(A==="outside-to-line")n=p.tgtIntn;else if(A==="outside-to-node"||A==="outside-to-node-or-label"?_=T:(A==="outside-to-line"||A==="outside-to-line-or-label")&&(_=[o.x,o.y]),n=e.nodeShapes[this.getNodeShape(i)].intersectLine(a.x,a.y,i.outerWidth(),i.outerHeight(),_[0],_[1],0,R,f),A==="outside-to-node-or-label"||A==="outside-to-line-or-label"){var $=i._private.rscratch,W=$.labelWidth,K=$.labelHeight,Q=$.labelX,X=$.labelY,J=W/2,q=K/2,L=i.pstyle("text-valign").value;L==="top"?X-=q:L==="bottom"&&(X+=q);var U=i.pstyle("text-halign").value;U==="left"?Q-=J:U==="right"&&(Q+=J);var Z=Es(_[0],_[1],[Q-J,X-q,Q+J,X-q,Q+J,X+q,Q-J,X+q],a.x,a.y);if(Z.length>0){var re=o,ve=Si(re,Bo(n)),ne=Si(re,Bo(Z)),te=ve;if(ne<ve&&(n=Z,te=ne),Z.length>2){var de=Si(re,{x:Z[2],y:Z[3]});de<te&&(n=[Z[2],Z[3]])}}}var ce=Rl(n,T,e.arrowShapes[s].spacing(t)+l),se=Rl(n,T,e.arrowShapes[s].gap(t)+l);if(p.endX=se[0],p.endY=se[1],p.arrowEndX=ce[0],p.arrowEndY=ce[1],C==="inside-to-node")n=[o.x,o.y];else if(S.units)n=this.manualEndptToPx(r,S);else if(C==="outside-to-line")n=p.srcIntn;else if(C==="outside-to-node"||C==="outside-to-node-or-label"?k=O:(C==="outside-to-line"||C==="outside-to-line-or-label")&&(k=[a.x,a.y]),n=e.nodeShapes[this.getNodeShape(r)].intersectLine(o.x,o.y,r.outerWidth(),r.outerHeight(),k[0],k[1],0,N,d),C==="outside-to-node-or-label"||C==="outside-to-line-or-label"){var ge=r._private.rscratch,Je=ge.labelWidth,He=ge.labelHeight,_e=ge.labelX,et=ge.labelY,Oe=Je/2,Ze=He/2,ee=r.pstyle("text-valign").value;ee==="top"?et-=Ze:ee==="bottom"&&(et+=Ze);var x=r.pstyle("text-halign").value;x==="left"?_e-=Oe:x==="right"&&(_e+=Oe);var j=Es(k[0],k[1],[_e-Oe,et-Ze,_e+Oe,et-Ze,_e+Oe,et+Ze,_e-Oe,et+Ze],o.x,o.y);if(j.length>0){var G=a,F=Si(G,Bo(n)),H=Si(G,Bo(j)),oe=F;if(H<F&&(n=[j[0],j[1]],oe=H),j.length>2){var Y=Si(G,{x:j[2],y:j[3]});Y<oe&&(n=[j[2],j[3]])}}}var ae=Rl(n,O,e.arrowShapes[u].spacing(t)+c),me=Rl(n,O,e.arrowShapes[u].gap(t)+c);p.startX=me[0],p.startY=me[1],p.arrowStartX=ae[0],p.arrowStartY=ae[1],E&&(!ie(p.startX)||!ie(p.startY)||!ie(p.endX)||!ie(p.endY)?p.badLine=!0:p.badLine=!1)};Os.getSourceEndpoint=function(t){var e=t[0]._private.rscratch;switch(this.recalculateRenderedStyle(t),e.edgeType){case"haystack":return{x:e.haystackPts[0],y:e.haystackPts[1]};default:return{x:e.arrowStartX,y:e.arrowStartY}}};Os.getTargetEndpoint=function(t){var e=t[0]._private.rscratch;switch(this.recalculateRenderedStyle(t),e.edgeType){case"haystack":return{x:e.haystackPts[2],y:e.haystackPts[3]};default:return{x:e.arrowEndX,y:e.arrowEndY}}};var $p={};function oP(t,e,n){for(var r=function(l,c,d,f){return Rt(l,c,d,f)},i=e._private,o=i.rstyle.bezierPts,a=0;a<t.bezierProjPcts.length;a++){var s=t.bezierProjPcts[a];o.push({x:r(n[0],n[2],n[4],s),y:r(n[1],n[3],n[5],s)})}}$p.storeEdgeProjections=function(t){var e=t._private,n=e.rscratch,r=n.edgeType;if(e.rstyle.bezierPts=null,e.rstyle.linePts=null,e.rstyle.haystackPts=null,r==="multibezier"||r==="bezier"||r==="self"||r==="compound"){e.rstyle.bezierPts=[];for(var i=0;i+5<n.allpts.length;i+=4)oP(this,t,n.allpts.slice(i,i+6))}else if(r==="segments")for(var o=e.rstyle.linePts=[],i=0;i+1<n.allpts.length;i+=2)o.push({x:n.allpts[i],y:n.allpts[i+1]});else if(r==="haystack"){var a=n.haystackPts;e.rstyle.haystackPts=[{x:a[0],y:a[1]},{x:a[2],y:a[3]}]}e.rstyle.arrowWidth=this.getArrowWidth(t.pstyle("width").pfValue,t.pstyle("arrow-scale").value)*this.arrowShapeWidth};$p.recalculateEdgeProjections=function(t){this.findEdgeControlPoints(t)};var rr={};rr.recalculateNodeLabelProjection=function(t){var e=t.pstyle("label").strValue;if(!Ur(e)){var n,r,i=t._private,o=t.width(),a=t.height(),s=t.padding(),u=t.position(),l=t.pstyle("text-halign").strValue,c=t.pstyle("text-valign").strValue,d=i.rscratch,f=i.rstyle;switch(l){case"left":n=u.x-o/2-s;break;case"right":n=u.x+o/2+s;break;default:n=u.x}switch(c){case"top":r=u.y-a/2-s;break;case"bottom":r=u.y+a/2+s;break;default:r=u.y}d.labelX=n,d.labelY=r,f.labelX=n,f.labelY=r,this.calculateLabelAngles(t),this.applyLabelDimensions(t)}};var xD=function(e,n){var r=Math.atan(n/e);return e===0&&r<0&&(r=r*-1),r},TD=function(e,n){var r=n.x-e.x,i=n.y-e.y;return xD(r,i)},aP=function(e,n,r,i){var o=Ds(0,i-.001,1),a=Ds(0,i+.001,1),s=$o(e,n,r,o),u=$o(e,n,r,a);return TD(s,u)};rr.recalculateEdgeLabelProjections=function(t){var e,n=t._private,r=n.rscratch,i=this,o={mid:t.pstyle("label").strValue,source:t.pstyle("source-label").strValue,target:t.pstyle("target-label").strValue};if(o.mid||o.source||o.target){e={x:r.midX,y:r.midY};var a=function(d,f,h){$r(n.rscratch,d,f,h),$r(n.rstyle,d,f,h)};a("labelX",null,e.x),a("labelY",null,e.y);var s=xD(r.midDispX,r.midDispY);a("labelAutoAngle",null,s);var u=function c(){if(c.cache)return c.cache;for(var d=[],f=0;f+5<r.allpts.length;f+=4){var h={x:r.allpts[f],y:r.allpts[f+1]},p={x:r.allpts[f+2],y:r.allpts[f+3]},m={x:r.allpts[f+4],y:r.allpts[f+5]};d.push({p0:h,p1:p,p2:m,startDist:0,length:0,segments:[]})}var v=n.rstyle.bezierPts,g=i.bezierProjPcts.length;function y(D,S,C,N,M){var A=_i(S,C),R=D.segments[D.segments.length-1],T={p0:S,p1:C,t0:N,t1:M,startDist:R?R.startDist+R.length:0,length:A};D.segments.push(T),D.length+=A}for(var w=0;w<d.length;w++){var b=d[w],I=d[w-1];I&&(b.startDist=I.startDist+I.length),y(b,b.p0,v[w*g],0,i.bezierProjPcts[0]);for(var E=0;E<g-1;E++)y(b,v[w*g+E],v[w*g+E+1],i.bezierProjPcts[E],i.bezierProjPcts[E+1]);y(b,v[w*g+g-1],b.p2,i.bezierProjPcts[g-1],1)}return c.cache=d},l=function(d){var f,h=d==="source";if(o[d]){var p=t.pstyle(d+"-text-offset").pfValue;switch(r.edgeType){case"self":case"compound":case"bezier":case"multibezier":{for(var m=u(),v,g=0,y=0,w=0;w<m.length;w++){for(var b=m[h?w:m.length-1-w],I=0;I<b.segments.length;I++){var E=b.segments[h?I:b.segments.length-1-I],D=w===m.length-1&&I===b.segments.length-1;if(g=y,y+=E.length,y>=p||D){v={cp:b,segment:E};break}}if(v)break}var S=v.cp,C=v.segment,N=(p-g)/C.length,M=C.t1-C.t0,A=h?C.t0+M*N:C.t1-M*N;A=Ds(0,A,1),e=$o(S.p0,S.p1,S.p2,A),f=aP(S.p0,S.p1,S.p2,A);break}case"straight":case"segments":case"haystack":{for(var R=0,T,O,_,k,P=r.allpts.length,V=0;V+3<P&&(h?(_={x:r.allpts[V],y:r.allpts[V+1]},k={x:r.allpts[V+2],y:r.allpts[V+3]}):(_={x:r.allpts[P-2-V],y:r.allpts[P-1-V]},k={x:r.allpts[P-4-V],y:r.allpts[P-3-V]}),T=_i(_,k),O=R,R+=T,!(R>=p));V+=2);var z=p-O,B=z/T;B=Ds(0,B,1),e=dN(_,k,B),f=TD(_,k);break}}a("labelX",d,e.x),a("labelY",d,e.y),a("labelAutoAngle",d,f)}};l("source"),l("target"),this.applyLabelDimensions(t)}};rr.applyLabelDimensions=function(t){this.applyPrefixedLabelDimensions(t),t.isEdge()&&(this.applyPrefixedLabelDimensions(t,"source"),this.applyPrefixedLabelDimensions(t,"target"))};rr.applyPrefixedLabelDimensions=function(t,e){var n=t._private,r=this.getLabelText(t,e),i=this.calculateLabelDimensions(t,r),o=t.pstyle("line-height").pfValue,a=t.pstyle("text-wrap").strValue,s=jn(n.rscratch,"labelWrapCachedLines",e)||[],u=a!=="wrap"?1:Math.max(s.length,1),l=i.height/u,c=l*o,d=i.width,f=i.height+(u-1)*(o-1)*l;$r(n.rstyle,"labelWidth",e,d),$r(n.rscratch,"labelWidth",e,d),$r(n.rstyle,"labelHeight",e,f),$r(n.rscratch,"labelHeight",e,f),$r(n.rscratch,"labelLineHeight",e,c)};rr.getLabelText=function(t,e){var n=t._private,r=e?e+"-":"",i=t.pstyle(r+"label").strValue,o=t.pstyle("text-transform").value,a=function(W,K){return K?($r(n.rscratch,W,e,K),K):jn(n.rscratch,W,e)};if(!i)return"";o=="none"||(o=="uppercase"?i=i.toUpperCase():o=="lowercase"&&(i=i.toLowerCase()));var s=t.pstyle("text-wrap").value;if(s==="wrap"){var u=a("labelKey");if(u!=null&&a("labelWrapKey")===u)return a("labelWrapCachedText");for(var l="\u200B",c=i.split(`
`),d=t.pstyle("text-max-width").pfValue,f=t.pstyle("text-overflow-wrap").value,h=f==="anywhere",p=[],m=/[\s\u200b]+|$/g,v=0;v<c.length;v++){var g=c[v],y=this.calculateLabelDimensions(t,g),w=y.width;if(h){var b=g.split("").join(l);g=b}if(w>d){var I=g.matchAll(m),E="",D=0,S=lb(I),C;try{for(S.s();!(C=S.n()).done;){var N=C.value,M=N[0],A=g.substring(D,N.index);D=N.index+M.length;var R=E.length===0?A:E+A+M,T=this.calculateLabelDimensions(t,R),O=T.width;O<=d?E+=A+M:(E&&p.push(E),E=A+M)}}catch($){S.e($)}finally{S.f()}E.match(/^[\s\u200b]+$/)||p.push(E)}else p.push(g)}a("labelWrapCachedLines",p),i=a("labelWrapCachedText",p.join(`
`)),a("labelWrapKey",u)}else if(s==="ellipsis"){var _=t.pstyle("text-max-width").pfValue,k="",P="\u2026",V=!1;if(this.calculateLabelDimensions(t,i).width<_)return i;for(var z=0;z<i.length;z++){var B=this.calculateLabelDimensions(t,k+i[z]+P).width;if(B>_)break;k+=i[z],z===i.length-1&&(V=!0)}return V||(k+=P),k}return i};rr.getLabelJustification=function(t){var e=t.pstyle("text-justification").strValue,n=t.pstyle("text-halign").strValue;if(e==="auto")if(t.isNode())switch(n){case"left":return"right";case"right":return"left";default:return"center"}else return"center";else return e};rr.calculateLabelDimensions=function(t,e){var n=this,r=n.cy.window(),i=r.document,o=Ri(e,t._private.labelDimsKey),a=n.labelDimCache||(n.labelDimCache=[]),s=a[o];if(s!=null)return s;var u=0,l=t.pstyle("font-style").strValue,c=t.pstyle("font-size").pfValue,d=t.pstyle("font-family").strValue,f=t.pstyle("font-weight").strValue,h=this.labelCalcCanvas,p=this.labelCalcCanvasContext;if(!h){h=this.labelCalcCanvas=i.createElement("canvas"),p=this.labelCalcCanvasContext=h.getContext("2d");var m=h.style;m.position="absolute",m.left="-9999px",m.top="-9999px",m.zIndex="-1",m.visibility="hidden",m.pointerEvents="none"}p.font="".concat(l," ").concat(f," ").concat(c,"px ").concat(d);for(var v=0,g=0,y=e.split(`
`),w=0;w<y.length;w++){var b=y[w],I=p.measureText(b),E=Math.ceil(I.width),D=c;v=Math.max(E,v),g+=D}return v+=u,g+=u,a[o]={width:v,height:g}};rr.calculateLabelAngle=function(t,e){var n=t._private,r=n.rscratch,i=t.isEdge(),o=e?e+"-":"",a=t.pstyle(o+"text-rotation"),s=a.strValue;return s==="none"?0:i&&s==="autorotate"?r.labelAutoAngle:s==="autorotate"?0:a.pfValue};rr.calculateLabelAngles=function(t){var e=this,n=t.isEdge(),r=t._private,i=r.rscratch;i.labelAngle=e.calculateLabelAngle(t),n&&(i.sourceLabelAngle=e.calculateLabelAngle(t,"source"),i.targetLabelAngle=e.calculateLabelAngle(t,"target"))};var MD={},Yw=28,Kw=!1;MD.getNodeShape=function(t){var e=this,n=t.pstyle("shape").value;if(n==="cutrectangle"&&(t.width()<Yw||t.height()<Yw))return Kw||(Xe("The `cutrectangle` node shape can not be used at small sizes so `rectangle` is used instead"),Kw=!0),"rectangle";if(t.isParent())return n==="rectangle"||n==="roundrectangle"||n==="round-rectangle"||n==="cutrectangle"||n==="cut-rectangle"||n==="barrel"?n:"rectangle";if(n==="polygon"){var r=t.pstyle("shape-polygon-points").value;return e.nodeShapes.makePolygon(r).name}return n};var Cc={};Cc.registerCalculationListeners=function(){var t=this.cy,e=t.collection(),n=this,r=function(a){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e.merge(a),s)for(var u=0;u<a.length;u++){var l=a[u],c=l._private,d=c.rstyle;d.clean=!1,d.cleanConnected=!1}};n.binder(t).on("bounds.* dirty.*",function(a){var s=a.target;r(s)}).on("style.* background.*",function(a){var s=a.target;r(s,!1)});var i=function(a){if(a){var s=n.onUpdateEleCalcsFns;e.cleanStyle();for(var u=0;u<e.length;u++){var l=e[u],c=l._private.rstyle;l.isNode()&&!c.cleanConnected&&(r(l.connectedEdges()),c.cleanConnected=!0)}if(s)for(var d=0;d<s.length;d++){var f=s[d];f(a,e)}n.recalculateRenderedStyle(e),e=t.collection()}};n.flushRenderedStyleQueue=function(){i(!0)},n.beforeRender(i,n.beforeRenderPriorities.eleCalcs)};Cc.onUpdateEleCalcs=function(t){var e=this.onUpdateEleCalcsFns=this.onUpdateEleCalcsFns||[];e.push(t)};Cc.recalculateRenderedStyle=function(t,e){var n=function(b){return b._private.rstyle.cleanConnected},r=[],i=[];if(!this.destroyed){e===void 0&&(e=!0);for(var o=0;o<t.length;o++){var a=t[o],s=a._private,u=s.rstyle;a.isEdge()&&(!n(a.source())||!n(a.target()))&&(u.clean=!1),!(e&&u.clean||a.removed())&&a.pstyle("display").value!=="none"&&(s.group==="nodes"?i.push(a):r.push(a),u.clean=!0)}for(var l=0;l<i.length;l++){var c=i[l],d=c._private,f=d.rstyle,h=c.position();this.recalculateNodeLabelProjection(c),f.nodeX=h.x,f.nodeY=h.y,f.nodeW=c.pstyle("width").pfValue,f.nodeH=c.pstyle("height").pfValue}this.recalculateEdgeProjections(r);for(var p=0;p<r.length;p++){var m=r[p],v=m._private,g=v.rstyle,y=v.rscratch;g.srcX=y.arrowStartX,g.srcY=y.arrowStartY,g.tgtX=y.arrowEndX,g.tgtY=y.arrowEndY,g.midX=y.midX,g.midY=y.midY,g.labelAngle=y.labelAngle,g.sourceLabelAngle=y.sourceLabelAngle,g.targetLabelAngle=y.targetLabelAngle}}};var Ic={};Ic.updateCachedGrabbedEles=function(){var t=this.cachedZSortedEles;if(t){t.drag=[],t.nondrag=[];for(var e=[],n=0;n<t.length;n++){var r=t[n],i=r._private.rscratch;r.grabbed()&&!r.isParent()?e.push(r):i.inDragLayer?t.drag.push(r):t.nondrag.push(r)}for(var n=0;n<e.length;n++){var r=e[n];t.drag.push(r)}}};Ic.invalidateCachedZSortedEles=function(){this.cachedZSortedEles=null};Ic.getCachedZSortedEles=function(t){if(t||!this.cachedZSortedEles){var e=this.cy.mutableElements().toArray();e.sort(dD),e.interactive=e.filter(function(n){return n.interactive()}),this.cachedZSortedEles=e,this.updateCachedGrabbedEles()}else e=this.cachedZSortedEles;return e};var AD={};[Fi,oc,Kt,Os,$p,rr,MD,Cc,Ic].forEach(function(t){ye(AD,t)});var ND={};ND.getCachedImage=function(t,e,n){var r=this,i=r.imageCache=r.imageCache||{},o=i[t];if(o)return o.image.complete||o.image.addEventListener("load",n),o.image;o=i[t]=i[t]||{};var a=o.image=new Image;a.addEventListener("load",n),a.addEventListener("error",function(){a.error=!0});var s="data:",u=t.substring(0,s.length).toLowerCase()===s;return u||(e=e==="null"?null:e,a.crossOrigin=e),a.src=t,a};var ta={};ta.registerBinding=function(t,e,n,r){var i=Array.prototype.slice.apply(arguments,[1]);if(Array.isArray(t)){for(var o=[],a=0;a<t.length;a++){var s=t[a];if(s!==void 0){var u=this.binder(s);o.push(u.on.apply(u,i))}}return o}var u=this.binder(t);return u.on.apply(u,i)};ta.binder=function(t){var e=this,n=e.cy.window(),r=t===n||t===n.document||t===n.document.body||R1(t);if(e.supportsPassiveEvents==null){var i=!1;try{var o=Object.defineProperty({},"passive",{get:function(){return i=!0,!0}});n.addEventListener("test",null,o)}catch{}e.supportsPassiveEvents=i}var a=function(u,l,c){var d=Array.prototype.slice.call(arguments);return r&&e.supportsPassiveEvents&&(d[2]={capture:c??!1,passive:!1,once:!1}),e.bindings.push({target:t,args:d}),(t.addEventListener||t.on).apply(t,d),this};return{on:a,addEventListener:a,addListener:a,bind:a}};ta.nodeIsDraggable=function(t){return t&&t.isNode()&&!t.locked()&&t.grabbable()};ta.nodeIsGrabbable=function(t){return this.nodeIsDraggable(t)&&t.interactive()};ta.load=function(){var t=this,e=t.cy.window(),n=function(x){return x.selected()},r=function(x){var j=x.getRootNode();if(j&&j.nodeType===11&&j.host!==void 0)return j},i=function(x,j,G,F){x==null&&(x=t.cy);for(var H=0;H<j.length;H++){var oe=j[H];x.emit({originalEvent:G,type:oe,position:F})}},o=function(x){return x.shiftKey||x.metaKey||x.ctrlKey},a=function(x,j){var G=!0;if(t.cy.hasCompoundNodes()&&x&&x.pannable())for(var F=0;j&&F<j.length;F++){var x=j[F];if(x.isNode()&&x.isParent()&&!x.pannable()){G=!1;break}}else G=!0;return G},s=function(x){x[0]._private.grabbed=!0},u=function(x){x[0]._private.grabbed=!1},l=function(x){x[0]._private.rscratch.inDragLayer=!0},c=function(x){x[0]._private.rscratch.inDragLayer=!1},d=function(x){x[0]._private.rscratch.isGrabTarget=!0},f=function(x){x[0]._private.rscratch.isGrabTarget=!1},h=function(x,j){var G=j.addToList,F=G.has(x);!F&&x.grabbable()&&!x.locked()&&(G.merge(x),s(x))},p=function(x,j){if(x.cy().hasCompoundNodes()&&!(j.inDragLayer==null&&j.addToList==null)){var G=x.descendants();j.inDragLayer&&(G.forEach(l),G.connectedEdges().forEach(l)),j.addToList&&h(G,j)}},m=function(x,j){j=j||{};var G=x.cy().hasCompoundNodes();j.inDragLayer&&(x.forEach(l),x.neighborhood().stdFilter(function(F){return!G||F.isEdge()}).forEach(l)),j.addToList&&x.forEach(function(F){h(F,j)}),p(x,j),y(x,{inDragLayer:j.inDragLayer}),t.updateCachedGrabbedEles()},v=m,g=function(x){x&&(t.getCachedZSortedEles().forEach(function(j){u(j),c(j),f(j)}),t.updateCachedGrabbedEles())},y=function(x,j){if(!(j.inDragLayer==null&&j.addToList==null)&&x.cy().hasCompoundNodes()){var G=x.ancestors().orphans();if(!G.same(x)){var F=G.descendants().spawnSelf().merge(G).unmerge(x).unmerge(x.descendants()),H=F.connectedEdges();j.inDragLayer&&(H.forEach(l),F.forEach(l)),j.addToList&&F.forEach(function(oe){h(oe,j)})}}},w=function(){document.activeElement!=null&&document.activeElement.blur!=null&&document.activeElement.blur()},b=typeof MutationObserver<"u",I=typeof ResizeObserver<"u";b?(t.removeObserver=new MutationObserver(function(ee){for(var x=0;x<ee.length;x++){var j=ee[x],G=j.removedNodes;if(G)for(var F=0;F<G.length;F++){var H=G[F];if(H===t.container){t.destroy();break}}}}),t.container.parentNode&&t.removeObserver.observe(t.container.parentNode,{childList:!0})):t.registerBinding(t.container,"DOMNodeRemoved",function(ee){t.destroy()});var E=lc(function(){t.cy.resize()},100);b&&(t.styleObserver=new MutationObserver(E),t.styleObserver.observe(t.container,{attributes:!0})),t.registerBinding(e,"resize",E),I&&(t.resizeObserver=new ResizeObserver(E),t.resizeObserver.observe(t.container));var D=function(x,j){for(;x!=null;)j(x),x=x.parentNode},S=function(){t.invalidateContainerClientCoordsCache()};D(t.container,function(ee){t.registerBinding(ee,"transitionend",S),t.registerBinding(ee,"animationend",S),t.registerBinding(ee,"scroll",S)}),t.registerBinding(t.container,"contextmenu",function(ee){ee.preventDefault()});var C=function(){return t.selection[4]!==0},N=function(x){for(var j=t.findContainerClientCoords(),G=j[0],F=j[1],H=j[2],oe=j[3],Y=x.touches?x.touches:[x],ae=!1,me=0;me<Y.length;me++){var Se=Y[me];if(G<=Se.clientX&&Se.clientX<=G+H&&F<=Se.clientY&&Se.clientY<=F+oe){ae=!0;break}}if(!ae)return!1;for(var he=t.container,Ee=x.target,Ie=Ee.parentNode,we=!1;Ie;){if(Ie===he){we=!0;break}Ie=Ie.parentNode}return!!we};t.registerBinding(t.container,"mousedown",function(x){if(N(x)&&!(t.hoverData.which===1&&x.which!==1)){x.preventDefault(),w(),t.hoverData.capture=!0,t.hoverData.which=x.which;var j=t.cy,G=[x.clientX,x.clientY],F=t.projectIntoViewport(G[0],G[1]),H=t.selection,oe=t.findNearestElements(F[0],F[1],!0,!1),Y=oe[0],ae=t.dragData.possibleDragElements;t.hoverData.mdownPos=F,t.hoverData.mdownGPos=G;var me=function(){t.hoverData.tapholdCancelled=!1,clearTimeout(t.hoverData.tapholdTimeout),t.hoverData.tapholdTimeout=setTimeout(function(){if(!t.hoverData.tapholdCancelled){var at=t.hoverData.down;at?at.emit({originalEvent:x,type:"taphold",position:{x:F[0],y:F[1]}}):j.emit({originalEvent:x,type:"taphold",position:{x:F[0],y:F[1]}})}},t.tapholdDuration)};if(x.which==3){t.hoverData.cxtStarted=!0;var Se={originalEvent:x,type:"cxttapstart",position:{x:F[0],y:F[1]}};Y?(Y.activate(),Y.emit(Se),t.hoverData.down=Y):j.emit(Se),t.hoverData.downTime=new Date().getTime(),t.hoverData.cxtDragged=!1}else if(x.which==1){Y&&Y.activate();{if(Y!=null&&t.nodeIsGrabbable(Y)){var he=function(at){return{originalEvent:x,type:at,position:{x:F[0],y:F[1]}}},Ee=function(at){at.emit(he("grab"))};if(d(Y),!Y.selected())ae=t.dragData.possibleDragElements=j.collection(),v(Y,{addToList:ae}),Y.emit(he("grabon")).emit(he("grab"));else{ae=t.dragData.possibleDragElements=j.collection();var Ie=j.$(function(we){return we.isNode()&&we.selected()&&t.nodeIsGrabbable(we)});m(Ie,{addToList:ae}),Y.emit(he("grabon")),Ie.forEach(Ee)}t.redrawHint("eles",!0),t.redrawHint("drag",!0)}t.hoverData.down=Y,t.hoverData.downs=oe,t.hoverData.downTime=new Date().getTime()}i(Y,["mousedown","tapstart","vmousedown"],x,{x:F[0],y:F[1]}),Y==null?(H[4]=1,t.data.bgActivePosistion={x:F[0],y:F[1]},t.redrawHint("select",!0),t.redraw()):Y.pannable()&&(H[4]=1),me()}H[0]=H[2]=F[0],H[1]=H[3]=F[1]}},!1);var M=r(t.container);t.registerBinding([e,M],"mousemove",function(x){var j=t.hoverData.capture;if(!(!j&&!N(x))){var G=!1,F=t.cy,H=F.zoom(),oe=[x.clientX,x.clientY],Y=t.projectIntoViewport(oe[0],oe[1]),ae=t.hoverData.mdownPos,me=t.hoverData.mdownGPos,Se=t.selection,he=null;!t.hoverData.draggingEles&&!t.hoverData.dragging&&!t.hoverData.selecting&&(he=t.findNearestElement(Y[0],Y[1],!0,!1));var Ee=t.hoverData.last,Ie=t.hoverData.down,we=[Y[0]-Se[2],Y[1]-Se[3]],at=t.dragData.possibleDragElements,ft;if(me){var on=oe[0]-me[0],an=on*on,yt=oe[1]-me[1],Tt=yt*yt,Mt=an+Tt;t.hoverData.isOverThresholdDrag=ft=Mt>=t.desktopTapThreshold2}var Qt=o(x);ft&&(t.hoverData.tapholdCancelled=!0);var Xt=function(){var qn=t.hoverData.dragDelta=t.hoverData.dragDelta||[];qn.length===0?(qn.push(we[0]),qn.push(we[1])):(qn[0]+=we[0],qn[1]+=we[1])};G=!0,i(he,["mousemove","vmousemove","tapdrag"],x,{x:Y[0],y:Y[1]});var zn=function(){t.data.bgActivePosistion=void 0,t.hoverData.selecting||F.emit({originalEvent:x,type:"boxstart",position:{x:Y[0],y:Y[1]}}),Se[4]=1,t.hoverData.selecting=!0,t.redrawHint("select",!0),t.redraw()};if(t.hoverData.which===3){if(ft){var mn={originalEvent:x,type:"cxtdrag",position:{x:Y[0],y:Y[1]}};Ie?Ie.emit(mn):F.emit(mn),t.hoverData.cxtDragged=!0,(!t.hoverData.cxtOver||he!==t.hoverData.cxtOver)&&(t.hoverData.cxtOver&&t.hoverData.cxtOver.emit({originalEvent:x,type:"cxtdragout",position:{x:Y[0],y:Y[1]}}),t.hoverData.cxtOver=he,he&&he.emit({originalEvent:x,type:"cxtdragover",position:{x:Y[0],y:Y[1]}}))}}else if(t.hoverData.dragging){if(G=!0,F.panningEnabled()&&F.userPanningEnabled()){var Un;if(t.hoverData.justStartedPan){var or=t.hoverData.mdownPos;Un={x:(Y[0]-or[0])*H,y:(Y[1]-or[1])*H},t.hoverData.justStartedPan=!1}else Un={x:we[0]*H,y:we[1]*H};F.panBy(Un),F.emit("dragpan"),t.hoverData.dragged=!0}Y=t.projectIntoViewport(x.clientX,x.clientY)}else if(Se[4]==1&&(Ie==null||Ie.pannable())){if(ft){if(!t.hoverData.dragging&&F.boxSelectionEnabled()&&(Qt||!F.panningEnabled()||!F.userPanningEnabled()))zn();else if(!t.hoverData.selecting&&F.panningEnabled()&&F.userPanningEnabled()){var ar=a(Ie,t.hoverData.downs);ar&&(t.hoverData.dragging=!0,t.hoverData.justStartedPan=!0,Se[4]=0,t.data.bgActivePosistion=Bo(ae),t.redrawHint("select",!0),t.redraw())}Ie&&Ie.pannable()&&Ie.active()&&Ie.unactivate()}}else{if(Ie&&Ie.pannable()&&Ie.active()&&Ie.unactivate(),(!Ie||!Ie.grabbed())&&he!=Ee&&(Ee&&i(Ee,["mouseout","tapdragout"],x,{x:Y[0],y:Y[1]}),he&&i(he,["mouseover","tapdragover"],x,{x:Y[0],y:Y[1]}),t.hoverData.last=he),Ie)if(ft){if(F.boxSelectionEnabled()&&Qt)Ie&&Ie.grabbed()&&(g(at),Ie.emit("freeon"),at.emit("free"),t.dragData.didDrag&&(Ie.emit("dragfreeon"),at.emit("dragfree"))),zn();else if(Ie&&Ie.grabbed()&&t.nodeIsDraggable(Ie)){var jt=!t.dragData.didDrag;jt&&t.redrawHint("eles",!0),t.dragData.didDrag=!0,t.hoverData.draggingEles||m(at,{inDragLayer:!0});var At={x:0,y:0};if(ie(we[0])&&ie(we[1])&&(At.x+=we[0],At.y+=we[1],jt)){var en=t.hoverData.dragDelta;en&&ie(en[0])&&ie(en[1])&&(At.x+=en[0],At.y+=en[1])}t.hoverData.draggingEles=!0,at.silentShift(At).emit("position drag"),t.redrawHint("drag",!0),t.redraw()}}else Xt();G=!0}if(Se[2]=Y[0],Se[3]=Y[1],G)return x.stopPropagation&&x.stopPropagation(),x.preventDefault&&x.preventDefault(),!1}},!1);var A,R,T;t.registerBinding(e,"mouseup",function(x){if(!(t.hoverData.which===1&&x.which!==1&&t.hoverData.capture)){var j=t.hoverData.capture;if(j){t.hoverData.capture=!1;var G=t.cy,F=t.projectIntoViewport(x.clientX,x.clientY),H=t.selection,oe=t.findNearestElement(F[0],F[1],!0,!1),Y=t.dragData.possibleDragElements,ae=t.hoverData.down,me=o(x);if(t.data.bgActivePosistion&&(t.redrawHint("select",!0),t.redraw()),t.hoverData.tapholdCancelled=!0,t.data.bgActivePosistion=void 0,ae&&ae.unactivate(),t.hoverData.which===3){var Se={originalEvent:x,type:"cxttapend",position:{x:F[0],y:F[1]}};if(ae?ae.emit(Se):G.emit(Se),!t.hoverData.cxtDragged){var he={originalEvent:x,type:"cxttap",position:{x:F[0],y:F[1]}};ae?ae.emit(he):G.emit(he)}t.hoverData.cxtDragged=!1,t.hoverData.which=null}else if(t.hoverData.which===1){if(i(oe,["mouseup","tapend","vmouseup"],x,{x:F[0],y:F[1]}),!t.dragData.didDrag&&!t.hoverData.dragged&&!t.hoverData.selecting&&!t.hoverData.isOverThresholdDrag&&(i(ae,["click","tap","vclick"],x,{x:F[0],y:F[1]}),R=!1,x.timeStamp-T<=G.multiClickDebounceTime()?(A&&clearTimeout(A),R=!0,T=null,i(ae,["dblclick","dbltap","vdblclick"],x,{x:F[0],y:F[1]})):(A=setTimeout(function(){R||i(ae,["oneclick","onetap","voneclick"],x,{x:F[0],y:F[1]})},G.multiClickDebounceTime()),T=x.timeStamp)),ae==null&&!t.dragData.didDrag&&!t.hoverData.selecting&&!t.hoverData.dragged&&!o(x)&&(G.$(n).unselect(["tapunselect"]),Y.length>0&&t.redrawHint("eles",!0),t.dragData.possibleDragElements=Y=G.collection()),oe==ae&&!t.dragData.didDrag&&!t.hoverData.selecting&&oe!=null&&oe._private.selectable&&(t.hoverData.dragging||(G.selectionType()==="additive"||me?oe.selected()?oe.unselect(["tapunselect"]):oe.select(["tapselect"]):me||(G.$(n).unmerge(oe).unselect(["tapunselect"]),oe.select(["tapselect"]))),t.redrawHint("eles",!0)),t.hoverData.selecting){var Ee=G.collection(t.getAllInBox(H[0],H[1],H[2],H[3]));t.redrawHint("select",!0),Ee.length>0&&t.redrawHint("eles",!0),G.emit({type:"boxend",originalEvent:x,position:{x:F[0],y:F[1]}});var Ie=function(ft){return ft.selectable()&&!ft.selected()};G.selectionType()==="additive"||me||G.$(n).unmerge(Ee).unselect(),Ee.emit("box").stdFilter(Ie).select().emit("boxselect"),t.redraw()}if(t.hoverData.dragging&&(t.hoverData.dragging=!1,t.redrawHint("select",!0),t.redrawHint("eles",!0),t.redraw()),!H[4]){t.redrawHint("drag",!0),t.redrawHint("eles",!0);var we=ae&&ae.grabbed();g(Y),we&&(ae.emit("freeon"),Y.emit("free"),t.dragData.didDrag&&(ae.emit("dragfreeon"),Y.emit("dragfree")))}}H[4]=0,t.hoverData.down=null,t.hoverData.cxtStarted=!1,t.hoverData.draggingEles=!1,t.hoverData.selecting=!1,t.hoverData.isOverThresholdDrag=!1,t.dragData.didDrag=!1,t.hoverData.dragged=!1,t.hoverData.dragDelta=[],t.hoverData.mdownPos=null,t.hoverData.mdownGPos=null,t.hoverData.which=null}}},!1);var O=function(x){if(!t.scrollingPage){var j=t.cy,G=j.zoom(),F=j.pan(),H=t.projectIntoViewport(x.clientX,x.clientY),oe=[H[0]*G+F.x,H[1]*G+F.y];if(t.hoverData.draggingEles||t.hoverData.dragging||t.hoverData.cxtStarted||C()){x.preventDefault();return}if(j.panningEnabled()&&j.userPanningEnabled()&&j.zoomingEnabled()&&j.userZoomingEnabled()){x.preventDefault(),t.data.wheelZooming=!0,clearTimeout(t.data.wheelTimeout),t.data.wheelTimeout=setTimeout(function(){t.data.wheelZooming=!1,t.redrawHint("eles",!0),t.redraw()},150);var Y;x.deltaY!=null?Y=x.deltaY/-250:x.wheelDeltaY!=null?Y=x.wheelDeltaY/1e3:Y=x.wheelDelta/1e3,Y=Y*t.wheelSensitivity;var ae=x.deltaMode===1;ae&&(Y*=33);var me=j.zoom()*Math.pow(10,Y);x.type==="gesturechange"&&(me=t.gestureStartZoom*x.scale),j.zoom({level:me,renderedPosition:{x:oe[0],y:oe[1]}}),j.emit(x.type==="gesturechange"?"pinchzoom":"scrollzoom")}}};t.registerBinding(t.container,"wheel",O,!0),t.registerBinding(e,"scroll",function(x){t.scrollingPage=!0,clearTimeout(t.scrollingPageTimeout),t.scrollingPageTimeout=setTimeout(function(){t.scrollingPage=!1},250)},!0),t.registerBinding(t.container,"gesturestart",function(x){t.gestureStartZoom=t.cy.zoom(),t.hasTouchStarted||x.preventDefault()},!0),t.registerBinding(t.container,"gesturechange",function(ee){t.hasTouchStarted||O(ee)},!0),t.registerBinding(t.container,"mouseout",function(x){var j=t.projectIntoViewport(x.clientX,x.clientY);t.cy.emit({originalEvent:x,type:"mouseout",position:{x:j[0],y:j[1]}})},!1),t.registerBinding(t.container,"mouseover",function(x){var j=t.projectIntoViewport(x.clientX,x.clientY);t.cy.emit({originalEvent:x,type:"mouseover",position:{x:j[0],y:j[1]}})},!1);var _,k,P,V,z,B,$,W,K,Q,X,J,q,L=function(x,j,G,F){return Math.sqrt((G-x)*(G-x)+(F-j)*(F-j))},U=function(x,j,G,F){return(G-x)*(G-x)+(F-j)*(F-j)},Z;t.registerBinding(t.container,"touchstart",Z=function(x){if(t.hasTouchStarted=!0,!!N(x)){w(),t.touchData.capture=!0,t.data.bgActivePosistion=void 0;var j=t.cy,G=t.touchData.now,F=t.touchData.earlier;if(x.touches[0]){var H=t.projectIntoViewport(x.touches[0].clientX,x.touches[0].clientY);G[0]=H[0],G[1]=H[1]}if(x.touches[1]){var H=t.projectIntoViewport(x.touches[1].clientX,x.touches[1].clientY);G[2]=H[0],G[3]=H[1]}if(x.touches[2]){var H=t.projectIntoViewport(x.touches[2].clientX,x.touches[2].clientY);G[4]=H[0],G[5]=H[1]}if(x.touches[1]){t.touchData.singleTouchMoved=!0,g(t.dragData.touchDragEles);var oe=t.findContainerClientCoords();K=oe[0],Q=oe[1],X=oe[2],J=oe[3],_=x.touches[0].clientX-K,k=x.touches[0].clientY-Q,P=x.touches[1].clientX-K,V=x.touches[1].clientY-Q,q=0<=_&&_<=X&&0<=P&&P<=X&&0<=k&&k<=J&&0<=V&&V<=J;var Y=j.pan(),ae=j.zoom();z=L(_,k,P,V),B=U(_,k,P,V),$=[(_+P)/2,(k+V)/2],W=[($[0]-Y.x)/ae,($[1]-Y.y)/ae];var me=200,Se=me*me;if(B<Se&&!x.touches[2]){var he=t.findNearestElement(G[0],G[1],!0,!0),Ee=t.findNearestElement(G[2],G[3],!0,!0);he&&he.isNode()?(he.activate().emit({originalEvent:x,type:"cxttapstart",position:{x:G[0],y:G[1]}}),t.touchData.start=he):Ee&&Ee.isNode()?(Ee.activate().emit({originalEvent:x,type:"cxttapstart",position:{x:G[0],y:G[1]}}),t.touchData.start=Ee):j.emit({originalEvent:x,type:"cxttapstart",position:{x:G[0],y:G[1]}}),t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxt=!0,t.touchData.cxtDragged=!1,t.data.bgActivePosistion=void 0,t.redraw();return}}if(x.touches[2])j.boxSelectionEnabled()&&x.preventDefault();else if(!x.touches[1]){if(x.touches[0]){var Ie=t.findNearestElements(G[0],G[1],!0,!0),we=Ie[0];if(we!=null&&(we.activate(),t.touchData.start=we,t.touchData.starts=Ie,t.nodeIsGrabbable(we))){var at=t.dragData.touchDragEles=j.collection(),ft=null;t.redrawHint("eles",!0),t.redrawHint("drag",!0),we.selected()?(ft=j.$(function(Mt){return Mt.selected()&&t.nodeIsGrabbable(Mt)}),m(ft,{addToList:at})):v(we,{addToList:at}),d(we);var on=function(Qt){return{originalEvent:x,type:Qt,position:{x:G[0],y:G[1]}}};we.emit(on("grabon")),ft?ft.forEach(function(Mt){Mt.emit(on("grab"))}):we.emit(on("grab"))}i(we,["touchstart","tapstart","vmousedown"],x,{x:G[0],y:G[1]}),we==null&&(t.data.bgActivePosistion={x:H[0],y:H[1]},t.redrawHint("select",!0),t.redraw()),t.touchData.singleTouchMoved=!1,t.touchData.singleTouchStartTime=+new Date,clearTimeout(t.touchData.tapholdTimeout),t.touchData.tapholdTimeout=setTimeout(function(){t.touchData.singleTouchMoved===!1&&!t.pinching&&!t.touchData.selecting&&i(t.touchData.start,["taphold"],x,{x:G[0],y:G[1]})},t.tapholdDuration)}}if(x.touches.length>=1){for(var an=t.touchData.startPosition=[null,null,null,null,null,null],yt=0;yt<G.length;yt++)an[yt]=F[yt]=G[yt];var Tt=x.touches[0];t.touchData.startGPosition=[Tt.clientX,Tt.clientY]}}},!1);var re;t.registerBinding(e,"touchmove",re=function(x){var j=t.touchData.capture;if(!(!j&&!N(x))){var G=t.selection,F=t.cy,H=t.touchData.now,oe=t.touchData.earlier,Y=F.zoom();if(x.touches[0]){var ae=t.projectIntoViewport(x.touches[0].clientX,x.touches[0].clientY);H[0]=ae[0],H[1]=ae[1]}if(x.touches[1]){var ae=t.projectIntoViewport(x.touches[1].clientX,x.touches[1].clientY);H[2]=ae[0],H[3]=ae[1]}if(x.touches[2]){var ae=t.projectIntoViewport(x.touches[2].clientX,x.touches[2].clientY);H[4]=ae[0],H[5]=ae[1]}var me=t.touchData.startGPosition,Se;if(j&&x.touches[0]&&me){for(var he=[],Ee=0;Ee<H.length;Ee++)he[Ee]=H[Ee]-oe[Ee];var Ie=x.touches[0].clientX-me[0],we=Ie*Ie,at=x.touches[0].clientY-me[1],ft=at*at,on=we+ft;Se=on>=t.touchTapThreshold2}if(j&&t.touchData.cxt){x.preventDefault();var an=x.touches[0].clientX-K,yt=x.touches[0].clientY-Q,Tt=x.touches[1].clientX-K,Mt=x.touches[1].clientY-Q,Qt=U(an,yt,Tt,Mt),Xt=Qt/B,zn=150,mn=zn*zn,Un=1.5,or=Un*Un;if(Xt>=or||Qt>=mn){t.touchData.cxt=!1,t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);var ar={originalEvent:x,type:"cxttapend",position:{x:H[0],y:H[1]}};t.touchData.start?(t.touchData.start.unactivate().emit(ar),t.touchData.start=null):F.emit(ar)}}if(j&&t.touchData.cxt){var ar={originalEvent:x,type:"cxtdrag",position:{x:H[0],y:H[1]}};t.data.bgActivePosistion=void 0,t.redrawHint("select",!0),t.touchData.start?t.touchData.start.emit(ar):F.emit(ar),t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxtDragged=!0;var jt=t.findNearestElement(H[0],H[1],!0,!0);(!t.touchData.cxtOver||jt!==t.touchData.cxtOver)&&(t.touchData.cxtOver&&t.touchData.cxtOver.emit({originalEvent:x,type:"cxtdragout",position:{x:H[0],y:H[1]}}),t.touchData.cxtOver=jt,jt&&jt.emit({originalEvent:x,type:"cxtdragover",position:{x:H[0],y:H[1]}}))}else if(j&&x.touches[2]&&F.boxSelectionEnabled())x.preventDefault(),t.data.bgActivePosistion=void 0,this.lastThreeTouch=+new Date,t.touchData.selecting||F.emit({originalEvent:x,type:"boxstart",position:{x:H[0],y:H[1]}}),t.touchData.selecting=!0,t.touchData.didSelect=!0,G[4]=1,!G||G.length===0||G[0]===void 0?(G[0]=(H[0]+H[2]+H[4])/3,G[1]=(H[1]+H[3]+H[5])/3,G[2]=(H[0]+H[2]+H[4])/3+1,G[3]=(H[1]+H[3]+H[5])/3+1):(G[2]=(H[0]+H[2]+H[4])/3,G[3]=(H[1]+H[3]+H[5])/3),t.redrawHint("select",!0),t.redraw();else if(j&&x.touches[1]&&!t.touchData.didSelect&&F.zoomingEnabled()&&F.panningEnabled()&&F.userZoomingEnabled()&&F.userPanningEnabled()){x.preventDefault(),t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);var At=t.dragData.touchDragEles;if(At){t.redrawHint("drag",!0);for(var en=0;en<At.length;en++){var Fs=At[en]._private;Fs.grabbed=!1,Fs.rscratch.inDragLayer=!1}}var qn=t.touchData.start,an=x.touches[0].clientX-K,yt=x.touches[0].clientY-Q,Tt=x.touches[1].clientX-K,Mt=x.touches[1].clientY-Q,Hp=L(an,yt,Tt,Mt),GD=Hp/z;if(q){var WD=an-_,ZD=yt-k,YD=Tt-P,KD=Mt-V,QD=(WD+YD)/2,XD=(ZD+KD)/2,ia=F.zoom(),xc=ia*GD,Bs=F.pan(),zp=W[0]*ia+Bs.x,Up=W[1]*ia+Bs.y,JD={x:-xc/ia*(zp-Bs.x-QD)+zp,y:-xc/ia*(Up-Bs.y-XD)+Up};if(qn&&qn.active()){var At=t.dragData.touchDragEles;g(At),t.redrawHint("drag",!0),t.redrawHint("eles",!0),qn.unactivate().emit("freeon"),At.emit("free"),t.dragData.didDrag&&(qn.emit("dragfreeon"),At.emit("dragfree"))}F.viewport({zoom:xc,pan:JD,cancelOnFailedZoom:!0}),F.emit("pinchzoom"),z=Hp,_=an,k=yt,P=Tt,V=Mt,t.pinching=!0}if(x.touches[0]){var ae=t.projectIntoViewport(x.touches[0].clientX,x.touches[0].clientY);H[0]=ae[0],H[1]=ae[1]}if(x.touches[1]){var ae=t.projectIntoViewport(x.touches[1].clientX,x.touches[1].clientY);H[2]=ae[0],H[3]=ae[1]}if(x.touches[2]){var ae=t.projectIntoViewport(x.touches[2].clientX,x.touches[2].clientY);H[4]=ae[0],H[5]=ae[1]}}else if(x.touches[0]&&!t.touchData.didSelect){var xn=t.touchData.start,Tc=t.touchData.last,jt;if(!t.hoverData.draggingEles&&!t.swipePanning&&(jt=t.findNearestElement(H[0],H[1],!0,!0)),j&&xn!=null&&x.preventDefault(),j&&xn!=null&&t.nodeIsDraggable(xn))if(Se){var At=t.dragData.touchDragEles,qp=!t.dragData.didDrag;qp&&m(At,{inDragLayer:!0}),t.dragData.didDrag=!0;var oa={x:0,y:0};if(ie(he[0])&&ie(he[1])&&(oa.x+=he[0],oa.y+=he[1],qp)){t.redrawHint("eles",!0);var Tn=t.touchData.dragDelta;Tn&&ie(Tn[0])&&ie(Tn[1])&&(oa.x+=Tn[0],oa.y+=Tn[1])}t.hoverData.draggingEles=!0,At.silentShift(oa).emit("position drag"),t.redrawHint("drag",!0),t.touchData.startPosition[0]==oe[0]&&t.touchData.startPosition[1]==oe[1]&&t.redrawHint("eles",!0),t.redraw()}else{var Tn=t.touchData.dragDelta=t.touchData.dragDelta||[];Tn.length===0?(Tn.push(he[0]),Tn.push(he[1])):(Tn[0]+=he[0],Tn[1]+=he[1])}if(i(xn||jt,["touchmove","tapdrag","vmousemove"],x,{x:H[0],y:H[1]}),(!xn||!xn.grabbed())&&jt!=Tc&&(Tc&&Tc.emit({originalEvent:x,type:"tapdragout",position:{x:H[0],y:H[1]}}),jt&&jt.emit({originalEvent:x,type:"tapdragover",position:{x:H[0],y:H[1]}})),t.touchData.last=jt,j)for(var en=0;en<H.length;en++)H[en]&&t.touchData.startPosition[en]&&Se&&(t.touchData.singleTouchMoved=!0);if(j&&(xn==null||xn.pannable())&&F.panningEnabled()&&F.userPanningEnabled()){var eE=a(xn,t.touchData.starts);eE&&(x.preventDefault(),t.data.bgActivePosistion||(t.data.bgActivePosistion=Bo(t.touchData.startPosition)),t.swipePanning?(F.panBy({x:he[0]*Y,y:he[1]*Y}),F.emit("dragpan")):Se&&(t.swipePanning=!0,F.panBy({x:Ie*Y,y:at*Y}),F.emit("dragpan"),xn&&(xn.unactivate(),t.redrawHint("select",!0),t.touchData.start=null)));var ae=t.projectIntoViewport(x.touches[0].clientX,x.touches[0].clientY);H[0]=ae[0],H[1]=ae[1]}}for(var Ee=0;Ee<H.length;Ee++)oe[Ee]=H[Ee];j&&x.touches.length>0&&!t.hoverData.draggingEles&&!t.swipePanning&&t.data.bgActivePosistion!=null&&(t.data.bgActivePosistion=void 0,t.redrawHint("select",!0),t.redraw())}},!1);var ve;t.registerBinding(e,"touchcancel",ve=function(x){var j=t.touchData.start;t.touchData.capture=!1,j&&j.unactivate()});var ne,te,de,ce;if(t.registerBinding(e,"touchend",ne=function(x){var j=t.touchData.start,G=t.touchData.capture;if(G)x.touches.length===0&&(t.touchData.capture=!1),x.preventDefault();else return;var F=t.selection;t.swipePanning=!1,t.hoverData.draggingEles=!1;var H=t.cy,oe=H.zoom(),Y=t.touchData.now,ae=t.touchData.earlier;if(x.touches[0]){var me=t.projectIntoViewport(x.touches[0].clientX,x.touches[0].clientY);Y[0]=me[0],Y[1]=me[1]}if(x.touches[1]){var me=t.projectIntoViewport(x.touches[1].clientX,x.touches[1].clientY);Y[2]=me[0],Y[3]=me[1]}if(x.touches[2]){var me=t.projectIntoViewport(x.touches[2].clientX,x.touches[2].clientY);Y[4]=me[0],Y[5]=me[1]}j&&j.unactivate();var Se;if(t.touchData.cxt){if(Se={originalEvent:x,type:"cxttapend",position:{x:Y[0],y:Y[1]}},j?j.emit(Se):H.emit(Se),!t.touchData.cxtDragged){var he={originalEvent:x,type:"cxttap",position:{x:Y[0],y:Y[1]}};j?j.emit(he):H.emit(he)}t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxt=!1,t.touchData.start=null,t.redraw();return}if(!x.touches[2]&&H.boxSelectionEnabled()&&t.touchData.selecting){t.touchData.selecting=!1;var Ee=H.collection(t.getAllInBox(F[0],F[1],F[2],F[3]));F[0]=void 0,F[1]=void 0,F[2]=void 0,F[3]=void 0,F[4]=0,t.redrawHint("select",!0),H.emit({type:"boxend",originalEvent:x,position:{x:Y[0],y:Y[1]}});var Ie=function(mn){return mn.selectable()&&!mn.selected()};Ee.emit("box").stdFilter(Ie).select().emit("boxselect"),Ee.nonempty()&&t.redrawHint("eles",!0),t.redraw()}if(j?.unactivate(),x.touches[2])t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);else if(!x.touches[1]){if(!x.touches[0]){if(!x.touches[0]){t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);var we=t.dragData.touchDragEles;if(j!=null){var at=j._private.grabbed;g(we),t.redrawHint("drag",!0),t.redrawHint("eles",!0),at&&(j.emit("freeon"),we.emit("free"),t.dragData.didDrag&&(j.emit("dragfreeon"),we.emit("dragfree"))),i(j,["touchend","tapend","vmouseup","tapdragout"],x,{x:Y[0],y:Y[1]}),j.unactivate(),t.touchData.start=null}else{var ft=t.findNearestElement(Y[0],Y[1],!0,!0);i(ft,["touchend","tapend","vmouseup","tapdragout"],x,{x:Y[0],y:Y[1]})}var on=t.touchData.startPosition[0]-Y[0],an=on*on,yt=t.touchData.startPosition[1]-Y[1],Tt=yt*yt,Mt=an+Tt,Qt=Mt*oe*oe;t.touchData.singleTouchMoved||(j||H.$(":selected").unselect(["tapunselect"]),i(j,["tap","vclick"],x,{x:Y[0],y:Y[1]}),te=!1,x.timeStamp-ce<=H.multiClickDebounceTime()?(de&&clearTimeout(de),te=!0,ce=null,i(j,["dbltap","vdblclick"],x,{x:Y[0],y:Y[1]})):(de=setTimeout(function(){te||i(j,["onetap","voneclick"],x,{x:Y[0],y:Y[1]})},H.multiClickDebounceTime()),ce=x.timeStamp)),j!=null&&!t.dragData.didDrag&&j._private.selectable&&Qt<t.touchTapThreshold2&&!t.pinching&&(H.selectionType()==="single"?(H.$(n).unmerge(j).unselect(["tapunselect"]),j.select(["tapselect"])):j.selected()?j.unselect(["tapunselect"]):j.select(["tapselect"]),t.redrawHint("eles",!0)),t.touchData.singleTouchMoved=!0}}}for(var Xt=0;Xt<Y.length;Xt++)ae[Xt]=Y[Xt];t.dragData.didDrag=!1,x.touches.length===0&&(t.touchData.dragDelta=[],t.touchData.startPosition=[null,null,null,null,null,null],t.touchData.startGPosition=null,t.touchData.didSelect=!1),x.touches.length<2&&(x.touches.length===1&&(t.touchData.startGPosition=[x.touches[0].clientX,x.touches[0].clientY]),t.pinching=!1,t.redrawHint("eles",!0),t.redraw())},!1),typeof TouchEvent>"u"){var se=[],ge=function(x){return{clientX:x.clientX,clientY:x.clientY,force:1,identifier:x.pointerId,pageX:x.pageX,pageY:x.pageY,radiusX:x.width/2,radiusY:x.height/2,screenX:x.screenX,screenY:x.screenY,target:x.target}},Je=function(x){return{event:x,touch:ge(x)}},He=function(x){se.push(Je(x))},_e=function(x){for(var j=0;j<se.length;j++){var G=se[j];if(G.event.pointerId===x.pointerId){se.splice(j,1);return}}},et=function(x){var j=se.filter(function(G){return G.event.pointerId===x.pointerId})[0];j.event=x,j.touch=ge(x)},Oe=function(x){x.touches=se.map(function(j){return j.touch})},Ze=function(x){return x.pointerType==="mouse"||x.pointerType===4};t.registerBinding(t.container,"pointerdown",function(ee){Ze(ee)||(ee.preventDefault(),He(ee),Oe(ee),Z(ee))}),t.registerBinding(t.container,"pointerup",function(ee){Ze(ee)||(_e(ee),Oe(ee),ne(ee))}),t.registerBinding(t.container,"pointercancel",function(ee){Ze(ee)||(_e(ee),Oe(ee),ve(ee))}),t.registerBinding(t.container,"pointermove",function(ee){Ze(ee)||(ee.preventDefault(),et(ee),Oe(ee),re(ee))})}};var Ir={};Ir.generatePolygon=function(t,e){return this.nodeShapes[t]={renderer:this,name:t,points:e,draw:function(r,i,o,a,s,u){this.renderer.nodeShapeImpl("polygon",r,i,o,a,s,this.points)},intersectLine:function(r,i,o,a,s,u,l,c){return Es(s,u,this.points,r,i,o/2,a/2,l)},checkPoint:function(r,i,o,a,s,u,l,c){return Er(r,i,this.points,u,l,a,s,[0,-1],o)}}};Ir.generateEllipse=function(){return this.nodeShapes.ellipse={renderer:this,name:"ellipse",draw:function(e,n,r,i,o,a){this.renderer.nodeShapeImpl(this.name,e,n,r,i,o)},intersectLine:function(e,n,r,i,o,a,s,u){return IN(o,a,e,n,r/2+s,i/2+s)},checkPoint:function(e,n,r,i,o,a,s,u){return Ai(e,n,i,o,a,s,r)}}};Ir.generateRoundPolygon=function(t,e){return this.nodeShapes[t]={renderer:this,name:t,points:e,getOrCreateCorners:function(r,i,o,a,s,u,l){if(u[l]!==void 0&&u[l+"-cx"]===r&&u[l+"-cy"]===i)return u[l];u[l]=new Array(e.length/2),u[l+"-cx"]=r,u[l+"-cy"]=i;var c=o/2,d=a/2;s=s==="auto"?kb(o,a):s;for(var f=new Array(e.length/2),h=0;h<e.length/2;h++)f[h]={x:r+c*e[h*2],y:i+d*e[h*2+1]};var p,m,v,g,y=f.length;for(m=f[y-1],p=0;p<y;p++)v=f[p%y],g=f[(p+1)%y],u[l][p]=Vp(m,v,g,s),m=v,v=g;return u[l]},draw:function(r,i,o,a,s,u,l){this.renderer.nodeShapeImpl("round-polygon",r,i,o,a,s,this.points,this.getOrCreateCorners(i,o,a,s,u,l,"drawCorners"))},intersectLine:function(r,i,o,a,s,u,l,c,d){return SN(s,u,this.points,r,i,o,a,l,this.getOrCreateCorners(r,i,o,a,c,d,"corners"))},checkPoint:function(r,i,o,a,s,u,l,c,d){return CN(r,i,this.points,u,l,a,s,this.getOrCreateCorners(u,l,a,s,c,d,"corners"))}}};Ir.generateRoundRectangle=function(){return this.nodeShapes["round-rectangle"]=this.nodeShapes.roundrectangle={renderer:this,name:"round-rectangle",points:Jt(4,0),draw:function(e,n,r,i,o,a){this.renderer.nodeShapeImpl(this.name,e,n,r,i,o,this.points,a)},intersectLine:function(e,n,r,i,o,a,s,u){return Rb(o,a,e,n,r,i,s,u)},checkPoint:function(e,n,r,i,o,a,s,u){var l=i/2,c=o/2;u=u==="auto"?ki(i,o):u,u=Math.min(l,c,u);var d=u*2;return!!(Er(e,n,this.points,a,s,i,o-d,[0,-1],r)||Er(e,n,this.points,a,s,i-d,o,[0,-1],r)||Ai(e,n,d,d,a-l+u,s-c+u,r)||Ai(e,n,d,d,a+l-u,s-c+u,r)||Ai(e,n,d,d,a+l-u,s+c-u,r)||Ai(e,n,d,d,a-l+u,s+c-u,r))}}};Ir.generateCutRectangle=function(){return this.nodeShapes["cut-rectangle"]=this.nodeShapes.cutrectangle={renderer:this,name:"cut-rectangle",cornerLength:Tp(),points:Jt(4,0),draw:function(e,n,r,i,o,a){this.renderer.nodeShapeImpl(this.name,e,n,r,i,o,null,a)},generateCutTrianglePts:function(e,n,r,i,o){var a=o==="auto"?this.cornerLength:o,s=n/2,u=e/2,l=r-u,c=r+u,d=i-s,f=i+s;return{topLeft:[l,d+a,l+a,d,l+a,d+a],topRight:[c-a,d,c,d+a,c-a,d+a],bottomRight:[c,f-a,c-a,f,c-a,f-a],bottomLeft:[l+a,f,l,f-a,l+a,f-a]}},intersectLine:function(e,n,r,i,o,a,s,u){var l=this.generateCutTrianglePts(r+2*s,i+2*s,e,n,u),c=[].concat.apply([],[l.topLeft.splice(0,4),l.topRight.splice(0,4),l.bottomRight.splice(0,4),l.bottomLeft.splice(0,4)]);return Es(o,a,c,e,n)},checkPoint:function(e,n,r,i,o,a,s,u){var l=u==="auto"?this.cornerLength:u;if(Er(e,n,this.points,a,s,i,o-2*l,[0,-1],r)||Er(e,n,this.points,a,s,i-2*l,o,[0,-1],r))return!0;var c=this.generateCutTrianglePts(i,o,a,s);return nn(e,n,c.topLeft)||nn(e,n,c.topRight)||nn(e,n,c.bottomRight)||nn(e,n,c.bottomLeft)}}};Ir.generateBarrel=function(){return this.nodeShapes.barrel={renderer:this,name:"barrel",points:Jt(4,0),draw:function(e,n,r,i,o,a){this.renderer.nodeShapeImpl(this.name,e,n,r,i,o)},intersectLine:function(e,n,r,i,o,a,s,u){var l=.15,c=.5,d=.85,f=this.generateBarrelBezierPts(r+2*s,i+2*s,e,n),h=function(v){var g=$o({x:v[0],y:v[1]},{x:v[2],y:v[3]},{x:v[4],y:v[5]},l),y=$o({x:v[0],y:v[1]},{x:v[2],y:v[3]},{x:v[4],y:v[5]},c),w=$o({x:v[0],y:v[1]},{x:v[2],y:v[3]},{x:v[4],y:v[5]},d);return[v[0],v[1],g.x,g.y,y.x,y.y,w.x,w.y,v[4],v[5]]},p=[].concat(h(f.topLeft),h(f.topRight),h(f.bottomRight),h(f.bottomLeft));return Es(o,a,p,e,n)},generateBarrelBezierPts:function(e,n,r,i){var o=n/2,a=e/2,s=r-a,u=r+a,l=i-o,c=i+o,d=rp(e,n),f=d.heightOffset,h=d.widthOffset,p=d.ctrlPtOffsetPct*e,m={topLeft:[s,l+f,s+p,l,s+h,l],topRight:[u-h,l,u-p,l,u,l+f],bottomRight:[u,c-f,u-p,c,u-h,c],bottomLeft:[s+h,c,s+p,c,s,c-f]};return m.topLeft.isTop=!0,m.topRight.isTop=!0,m.bottomLeft.isBottom=!0,m.bottomRight.isBottom=!0,m},checkPoint:function(e,n,r,i,o,a,s,u){var l=rp(i,o),c=l.heightOffset,d=l.widthOffset;if(Er(e,n,this.points,a,s,i,o-2*c,[0,-1],r)||Er(e,n,this.points,a,s,i-2*d,o,[0,-1],r))return!0;for(var f=this.generateBarrelBezierPts(i,o,a,s),h=function(S,C,N){var M=N[4],A=N[2],R=N[0],T=N[5],O=N[1],_=Math.min(M,R),k=Math.max(M,R),P=Math.min(T,O),V=Math.max(T,O);if(_<=S&&S<=k&&P<=C&&C<=V){var z=xN(M,A,R),B=wN(z[0],z[1],z[2],S),$=B.filter(function(W){return 0<=W&&W<=1});if($.length>0)return $[0]}return null},p=Object.keys(f),m=0;m<p.length;m++){var v=p[m],g=f[v],y=h(e,n,g);if(y!=null){var w=g[5],b=g[3],I=g[1],E=Rt(w,b,I,y);if(g.isTop&&E<=n||g.isBottom&&n<=E)return!0}}return!1}}};Ir.generateBottomRoundrectangle=function(){return this.nodeShapes["bottom-round-rectangle"]=this.nodeShapes.bottomroundrectangle={renderer:this,name:"bottom-round-rectangle",points:Jt(4,0),draw:function(e,n,r,i,o,a){this.renderer.nodeShapeImpl(this.name,e,n,r,i,o,this.points,a)},intersectLine:function(e,n,r,i,o,a,s,u){var l=e-(r/2+s),c=n-(i/2+s),d=c,f=e+(r/2+s),h=jr(o,a,e,n,l,c,f,d,!1);return h.length>0?h:Rb(o,a,e,n,r,i,s,u)},checkPoint:function(e,n,r,i,o,a,s,u){u=u==="auto"?ki(i,o):u;var l=2*u;if(Er(e,n,this.points,a,s,i,o-l,[0,-1],r)||Er(e,n,this.points,a,s,i-l,o,[0,-1],r))return!0;var c=i/2+2*r,d=o/2+2*r,f=[a-c,s-d,a-c,s,a+c,s,a+c,s-d];return!!(nn(e,n,f)||Ai(e,n,l,l,a+i/2-u,s+o/2-u,r)||Ai(e,n,l,l,a-i/2+u,s+o/2-u,r))}}};Ir.registerNodeShapes=function(){var t=this.nodeShapes={},e=this;this.generateEllipse(),this.generatePolygon("triangle",Jt(3,0)),this.generateRoundPolygon("round-triangle",Jt(3,0)),this.generatePolygon("rectangle",Jt(4,0)),t.square=t.rectangle,this.generateRoundRectangle(),this.generateCutRectangle(),this.generateBarrel(),this.generateBottomRoundrectangle();{var n=[0,1,1,0,0,-1,-1,0];this.generatePolygon("diamond",n),this.generateRoundPolygon("round-diamond",n)}this.generatePolygon("pentagon",Jt(5,0)),this.generateRoundPolygon("round-pentagon",Jt(5,0)),this.generatePolygon("hexagon",Jt(6,0)),this.generateRoundPolygon("round-hexagon",Jt(6,0)),this.generatePolygon("heptagon",Jt(7,0)),this.generateRoundPolygon("round-heptagon",Jt(7,0)),this.generatePolygon("octagon",Jt(8,0)),this.generateRoundPolygon("round-octagon",Jt(8,0));var r=new Array(20);{var i=np(5,0),o=np(5,Math.PI/5),a=.5*(3-Math.sqrt(5));a*=1.57;for(var s=0;s<o.length/2;s++)o[s*2]*=a,o[s*2+1]*=a;for(var s=0;s<20/4;s++)r[s*4]=i[s*2],r[s*4+1]=i[s*2+1],r[s*4+2]=o[s*2],r[s*4+3]=o[s*2+1]}r=_b(r),this.generatePolygon("star",r),this.generatePolygon("vee",[-1,-1,0,-.333,1,-1,0,1]),this.generatePolygon("rhomboid",[-1,-1,.333,-1,1,1,-.333,1]),this.generatePolygon("right-rhomboid",[-.333,-1,1,-1,.333,1,-1,1]),this.nodeShapes.concavehexagon=this.generatePolygon("concave-hexagon",[-1,-.95,-.75,0,-1,.95,1,.95,.75,0,1,-.95]);{var u=[-1,-1,.25,-1,1,0,.25,1,-1,1];this.generatePolygon("tag",u),this.generateRoundPolygon("round-tag",u)}t.makePolygon=function(l){var c=l.join("$"),d="polygon-"+c,f;return(f=this[d])?f:e.generatePolygon(d,l)}};var Ps={};Ps.timeToRender=function(){return this.redrawTotalTime/this.redrawCount};Ps.redraw=function(t){t=t||xb();var e=this;e.averageRedrawTime===void 0&&(e.averageRedrawTime=0),e.lastRedrawTime===void 0&&(e.lastRedrawTime=0),e.lastDrawTime===void 0&&(e.lastDrawTime=0),e.requestedFrame=!0,e.renderOptions=t};Ps.beforeRender=function(t,e){if(!this.destroyed){e==null&&pt("Priority is not optional for beforeRender");var n=this.beforeRenderCallbacks;n.push({fn:t,priority:e}),n.sort(function(r,i){return i.priority-r.priority})}};var Qw=function(e,n,r){for(var i=e.beforeRenderCallbacks,o=0;o<i.length;o++)i[o].fn(n,r)};Ps.startRenderLoop=function(){var t=this,e=t.cy;if(!t.renderLoopStarted){t.renderLoopStarted=!0;var n=function r(i){if(!t.destroyed){if(!e.batching())if(t.requestedFrame&&!t.skipFrame){Qw(t,!0,i);var o=Dr();t.render(t.renderOptions);var a=t.lastDrawTime=Dr();t.averageRedrawTime===void 0&&(t.averageRedrawTime=a-o),t.redrawCount===void 0&&(t.redrawCount=0),t.redrawCount++,t.redrawTotalTime===void 0&&(t.redrawTotalTime=0);var s=a-o;t.redrawTotalTime+=s,t.lastRedrawTime=s,t.averageRedrawTime=t.averageRedrawTime/2+s/2,t.requestedFrame=!1}else Qw(t,!1,i);t.skipFrame=!1,Ql(r)}};Ql(n)}};var sP=function(e){this.init(e)},RD=sP,na=RD.prototype;na.clientFunctions=["redrawHint","render","renderTo","matchCanvasSize","nodeShapeImpl","arrowShapeImpl"];na.init=function(t){var e=this;e.options=t,e.cy=t.cy;var n=e.container=t.cy.container(),r=e.cy.window();if(r){var i=r.document,o=i.head,a="__________cytoscape_stylesheet",s="__________cytoscape_container",u=i.getElementById(a)!=null;if(n.className.indexOf(s)<0&&(n.className=(n.className||"")+" "+s),!u){var l=i.createElement("style");l.id=a,l.textContent="."+s+" { position: relative; }",o.insertBefore(l,o.children[0])}var c=r.getComputedStyle(n),d=c.getPropertyValue("position");d==="static"&&Xe("A Cytoscape container has style position:static and so can not use UI extensions properly")}e.selection=[void 0,void 0,void 0,void 0,0],e.bezierProjPcts=[.05,.225,.4,.5,.6,.775,.95],e.hoverData={down:null,last:null,downTime:null,triggerMode:null,dragging:!1,initialPan:[null,null],capture:!1},e.dragData={possibleDragElements:[]},e.touchData={start:null,capture:!1,startPosition:[null,null,null,null,null,null],singleTouchStartTime:null,singleTouchMoved:!0,now:[null,null,null,null,null,null],earlier:[null,null,null,null,null,null]},e.redraws=0,e.showFps=t.showFps,e.debug=t.debug,e.hideEdgesOnViewport=t.hideEdgesOnViewport,e.textureOnViewport=t.textureOnViewport,e.wheelSensitivity=t.wheelSensitivity,e.motionBlurEnabled=t.motionBlur,e.forcedPixelRatio=ie(t.pixelRatio)?t.pixelRatio:null,e.motionBlur=t.motionBlur,e.motionBlurOpacity=t.motionBlurOpacity,e.motionBlurTransparency=1-e.motionBlurOpacity,e.motionBlurPxRatio=1,e.mbPxRBlurry=1,e.minMbLowQualFrames=4,e.fullQualityMb=!1,e.clearedForMotionBlur=[],e.desktopTapThreshold=t.desktopTapThreshold,e.desktopTapThreshold2=t.desktopTapThreshold*t.desktopTapThreshold,e.touchTapThreshold=t.touchTapThreshold,e.touchTapThreshold2=t.touchTapThreshold*t.touchTapThreshold,e.tapholdDuration=500,e.bindings=[],e.beforeRenderCallbacks=[],e.beforeRenderPriorities={animations:400,eleCalcs:300,eleTxrDeq:200,lyrTxrDeq:150,lyrTxrSkip:100},e.registerNodeShapes(),e.registerArrowShapes(),e.registerCalculationListeners()};na.notify=function(t,e){var n=this,r=n.cy;if(!this.destroyed){if(t==="init"){n.load();return}if(t==="destroy"){n.destroy();return}(t==="add"||t==="remove"||t==="move"&&r.hasCompoundNodes()||t==="load"||t==="zorder"||t==="mount")&&n.invalidateCachedZSortedEles(),t==="viewport"&&n.redrawHint("select",!0),(t==="load"||t==="resize"||t==="mount")&&(n.invalidateContainerClientCoordsCache(),n.matchCanvasSize(n.container)),n.redrawHint("eles",!0),n.redrawHint("drag",!0),this.startRenderLoop(),this.redraw()}};na.destroy=function(){var t=this;t.destroyed=!0,t.cy.stopAnimationLoop();for(var e=0;e<t.bindings.length;e++){var n=t.bindings[e],r=n,i=r.target;(i.off||i.removeEventListener).apply(i,r.args)}if(t.bindings=[],t.beforeRenderCallbacks=[],t.onUpdateEleCalcsFns=[],t.removeObserver&&t.removeObserver.disconnect(),t.styleObserver&&t.styleObserver.disconnect(),t.resizeObserver&&t.resizeObserver.disconnect(),t.labelCalcDiv)try{document.body.removeChild(t.labelCalcDiv)}catch{}};na.isHeadless=function(){return!1};[Bp,AD,ND,ta,Ir,Ps].forEach(function(t){ye(na,t)});var Jh=1e3/60,_D={setupDequeueing:function(e){return function(){var r=this,i=this.renderer;if(!r.dequeueingSetup){r.dequeueingSetup=!0;var o=lc(function(){i.redrawHint("eles",!0),i.redrawHint("drag",!0),i.redraw()},e.deqRedrawThreshold),a=function(l,c){var d=Dr(),f=i.averageRedrawTime,h=i.lastRedrawTime,p=[],m=i.cy.extent(),v=i.getPixelRatio();for(l||i.flushRenderedStyleQueue();;){var g=Dr(),y=g-d,w=g-c;if(h<Jh){var b=Jh-(l?f:0);if(w>=e.deqFastCost*b)break}else if(l){if(y>=e.deqCost*h||y>=e.deqAvgCost*f)break}else if(w>=e.deqNoDrawCost*Jh)break;var I=e.deq(r,v,m);if(I.length>0)for(var E=0;E<I.length;E++)p.push(I[E]);else break}p.length>0&&(e.onDeqd(r,p),!l&&e.shouldRedraw(r,p,v,m)&&o())},s=e.priority||Cp;i.beforeRender(a,s(r))}}}},uP=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Xl;yp(this,t),this.idsByKey=new tr,this.keyForId=new tr,this.cachesByLvl=new tr,this.lvls=[],this.getKey=e,this.doesEleInvalidateKey=n}return wp(t,[{key:"getIdsFor",value:function(n){n==null&&pt("Can not get id list for null key");var r=this.idsByKey,i=this.idsByKey.get(n);return i||(i=new Zo,r.set(n,i)),i}},{key:"addIdForKey",value:function(n,r){n!=null&&this.getIdsFor(n).add(r)}},{key:"deleteIdForKey",value:function(n,r){n!=null&&this.getIdsFor(n).delete(r)}},{key:"getNumberOfIdsForKey",value:function(n){return n==null?0:this.getIdsFor(n).size}},{key:"updateKeyMappingFor",value:function(n){var r=n.id(),i=this.keyForId.get(r),o=this.getKey(n);this.deleteIdForKey(i,r),this.addIdForKey(o,r),this.keyForId.set(r,o)}},{key:"deleteKeyMappingFor",value:function(n){var r=n.id(),i=this.keyForId.get(r);this.deleteIdForKey(i,r),this.keyForId.delete(r)}},{key:"keyHasChangedFor",value:function(n){var r=n.id(),i=this.keyForId.get(r),o=this.getKey(n);return i!==o}},{key:"isInvalid",value:function(n){return this.keyHasChangedFor(n)||this.doesEleInvalidateKey(n)}},{key:"getCachesAt",value:function(n){var r=this.cachesByLvl,i=this.lvls,o=r.get(n);return o||(o=new tr,r.set(n,o),i.push(n)),o}},{key:"getCache",value:function(n,r){return this.getCachesAt(r).get(n)}},{key:"get",value:function(n,r){var i=this.getKey(n),o=this.getCache(i,r);return o!=null&&this.updateKeyMappingFor(n),o}},{key:"getForCachedKey",value:function(n,r){var i=this.keyForId.get(n.id()),o=this.getCache(i,r);return o}},{key:"hasCache",value:function(n,r){return this.getCachesAt(r).has(n)}},{key:"has",value:function(n,r){var i=this.getKey(n);return this.hasCache(i,r)}},{key:"setCache",value:function(n,r,i){i.key=n,this.getCachesAt(r).set(n,i)}},{key:"set",value:function(n,r,i){var o=this.getKey(n);this.setCache(o,r,i),this.updateKeyMappingFor(n)}},{key:"deleteCache",value:function(n,r){this.getCachesAt(r).delete(n)}},{key:"delete",value:function(n,r){var i=this.getKey(n);this.deleteCache(i,r)}},{key:"invalidateKey",value:function(n){var r=this;this.lvls.forEach(function(i){return r.deleteCache(n,i)})}},{key:"invalidate",value:function(n){var r=n.id(),i=this.keyForId.get(r);this.deleteKeyMappingFor(n);var o=this.doesEleInvalidateKey(n);return o&&this.invalidateKey(i),o||this.getNumberOfIdsForKey(i)===0}}]),t}(),Xw=25,$l=50,Yl=-4,pp=3,lP=7.99,cP=8,dP=1024,fP=1024,hP=1024,pP=.2,gP=.8,vP=10,mP=.15,yP=.1,wP=.9,bP=.9,DP=100,EP=1,Vo={dequeue:"dequeue",downscale:"downscale",highQuality:"highQuality"},CP=Vt({getKey:null,doesEleInvalidateKey:Xl,drawElement:null,getBoundingBox:null,getRotationPoint:null,getRotationOffset:null,isVisible:Cb,allowEdgeTxrCaching:!0,allowParentTxrCaching:!0}),ps=function(e,n){var r=this;r.renderer=e,r.onDequeues=[];var i=CP(n);ye(r,i),r.lookup=new uP(i.getKey,i.doesEleInvalidateKey),r.setupDequeueing()},xt=ps.prototype;xt.reasons=Vo;xt.getTextureQueue=function(t){var e=this;return e.eleImgCaches=e.eleImgCaches||{},e.eleImgCaches[t]=e.eleImgCaches[t]||[]};xt.getRetiredTextureQueue=function(t){var e=this,n=e.eleImgCaches.retired=e.eleImgCaches.retired||{},r=n[t]=n[t]||[];return r};xt.getElementQueue=function(){var t=this,e=t.eleCacheQueue=t.eleCacheQueue||new Rs(function(n,r){return r.reqs-n.reqs});return e};xt.getElementKeyToQueue=function(){var t=this,e=t.eleKeyToCacheQueue=t.eleKeyToCacheQueue||{};return e};xt.getElement=function(t,e,n,r,i){var o=this,a=this.renderer,s=a.cy.zoom(),u=this.lookup;if(!e||e.w===0||e.h===0||isNaN(e.w)||isNaN(e.h)||!t.visible()||t.removed()||!o.allowEdgeTxrCaching&&t.isEdge()||!o.allowParentTxrCaching&&t.isParent())return null;if(r==null&&(r=Math.ceil(Sp(s*n))),r<Yl)r=Yl;else if(s>=lP||r>pp)return null;var l=Math.pow(2,r),c=e.h*l,d=e.w*l,f=a.eleTextBiggerThanMin(t,l);if(!this.isVisible(t,f))return null;var h=u.get(t,r);if(h&&h.invalidated&&(h.invalidated=!1,h.texture.invalidatedWidth-=h.width),h)return h;var p;if(c<=Xw?p=Xw:c<=$l?p=$l:p=Math.ceil(c/$l)*$l,c>hP||d>fP)return null;var m=o.getTextureQueue(p),v=m[m.length-2],g=function(){return o.recycleTexture(p,d)||o.addTexture(p,d)};v||(v=m[m.length-1]),v||(v=g()),v.width-v.usedWidth<d&&(v=g());for(var y=function(_){return _&&_.scaledLabelShown===f},w=i&&i===Vo.dequeue,b=i&&i===Vo.highQuality,I=i&&i===Vo.downscale,E,D=r+1;D<=pp;D++){var S=u.get(t,D);if(S){E=S;break}}var C=E&&E.level===r+1?E:null,N=function(){v.context.drawImage(C.texture.canvas,C.x,0,C.width,C.height,v.usedWidth,0,d,c)};if(v.context.setTransform(1,0,0,1,0,0),v.context.clearRect(v.usedWidth,0,d,p),y(C))N();else if(y(E))if(b){for(var M=E.level;M>r;M--)C=o.getElement(t,e,n,M,Vo.downscale);N()}else return o.queueElement(t,E.level-1),E;else{var A;if(!w&&!b&&!I)for(var R=r-1;R>=Yl;R--){var T=u.get(t,R);if(T){A=T;break}}if(y(A))return o.queueElement(t,r),A;v.context.translate(v.usedWidth,0),v.context.scale(l,l),this.drawElement(v.context,t,e,f,!1),v.context.scale(1/l,1/l),v.context.translate(-v.usedWidth,0)}return h={x:v.usedWidth,texture:v,level:r,scale:l,width:d,height:c,scaledLabelShown:f},v.usedWidth+=Math.ceil(d+cP),v.eleCaches.push(h),u.set(t,r,h),o.checkTextureFullness(v),h};xt.invalidateElements=function(t){for(var e=0;e<t.length;e++)this.invalidateElement(t[e])};xt.invalidateElement=function(t){var e=this,n=e.lookup,r=[],i=n.isInvalid(t);if(i){for(var o=Yl;o<=pp;o++){var a=n.getForCachedKey(t,o);a&&r.push(a)}var s=n.invalidate(t);if(s)for(var u=0;u<r.length;u++){var l=r[u],c=l.texture;c.invalidatedWidth+=l.width,l.invalidated=!0,e.checkTextureUtility(c)}e.removeFromQueue(t)}};xt.checkTextureUtility=function(t){t.invalidatedWidth>=pP*t.width&&this.retireTexture(t)};xt.checkTextureFullness=function(t){var e=this,n=e.getTextureQueue(t.height);t.usedWidth/t.width>gP&&t.fullnessChecks>=vP?qr(n,t):t.fullnessChecks++};xt.retireTexture=function(t){var e=this,n=t.height,r=e.getTextureQueue(n),i=this.lookup;qr(r,t),t.retired=!0;for(var o=t.eleCaches,a=0;a<o.length;a++){var s=o[a];i.deleteCache(s.key,s.level)}Ip(o);var u=e.getRetiredTextureQueue(n);u.push(t)};xt.addTexture=function(t,e){var n=this,r=n.getTextureQueue(t),i={};return r.push(i),i.eleCaches=[],i.height=t,i.width=Math.max(dP,e),i.usedWidth=0,i.invalidatedWidth=0,i.fullnessChecks=0,i.canvas=n.renderer.makeOffscreenCanvas(i.width,i.height),i.context=i.canvas.getContext("2d"),i};xt.recycleTexture=function(t,e){for(var n=this,r=n.getTextureQueue(t),i=n.getRetiredTextureQueue(t),o=0;o<i.length;o++){var a=i[o];if(a.width>=e)return a.retired=!1,a.usedWidth=0,a.invalidatedWidth=0,a.fullnessChecks=0,Ip(a.eleCaches),a.context.setTransform(1,0,0,1,0,0),a.context.clearRect(0,0,a.width,a.height),qr(i,a),r.push(a),a}};xt.queueElement=function(t,e){var n=this,r=n.getElementQueue(),i=n.getElementKeyToQueue(),o=this.getKey(t),a=i[o];if(a)a.level=Math.max(a.level,e),a.eles.merge(t),a.reqs++,r.updateItem(a);else{var s={eles:t.spawn().merge(t),level:e,reqs:1,key:o};r.push(s),i[o]=s}};xt.dequeue=function(t){for(var e=this,n=e.getElementQueue(),r=e.getElementKeyToQueue(),i=[],o=e.lookup,a=0;a<EP&&n.size()>0;a++){var s=n.pop(),u=s.key,l=s.eles[0],c=o.hasCache(l,s.level);if(r[u]=null,c)continue;i.push(s);var d=e.getBoundingBox(l);e.getElement(l,d,t,s.level,Vo.dequeue)}return i};xt.removeFromQueue=function(t){var e=this,n=e.getElementQueue(),r=e.getElementKeyToQueue(),i=this.getKey(t),o=r[i];o!=null&&(o.eles.length===1?(o.reqs=Ep,n.updateItem(o),n.pop(),r[i]=null):o.eles.unmerge(t))};xt.onDequeue=function(t){this.onDequeues.push(t)};xt.offDequeue=function(t){qr(this.onDequeues,t)};xt.setupDequeueing=_D.setupDequeueing({deqRedrawThreshold:DP,deqCost:mP,deqAvgCost:yP,deqNoDrawCost:wP,deqFastCost:bP,deq:function(e,n,r){return e.dequeue(n,r)},onDeqd:function(e,n){for(var r=0;r<e.onDequeues.length;r++){var i=e.onDequeues[r];i(n)}},shouldRedraw:function(e,n,r,i){for(var o=0;o<n.length;o++)for(var a=n[o].eles,s=0;s<a.length;s++){var u=a[s].boundingBox();if(xp(u,i))return!0}return!1},priority:function(e){return e.renderer.beforeRenderPriorities.eleTxrDeq}});var IP=1,vs=-4,ac=2,SP=3.99,xP=50,TP=50,MP=.15,AP=.1,NP=.9,RP=.9,_P=1,Jw=250,kP=4e3*4e3,eb=32767,OP=!0,kD=function(e){var n=this,r=n.renderer=e,i=r.cy;n.layersByLevel={},n.firstGet=!0,n.lastInvalidationTime=Dr()-2*Jw,n.skipping=!1,n.eleTxrDeqs=i.collection(),n.scheduleElementRefinement=lc(function(){n.refineElementTextures(n.eleTxrDeqs),n.eleTxrDeqs.unmerge(n.eleTxrDeqs)},TP),r.beforeRender(function(a,s){s-n.lastInvalidationTime<=Jw?n.skipping=!0:n.skipping=!1},r.beforeRenderPriorities.lyrTxrSkip);var o=function(s,u){return u.reqs-s.reqs};n.layersQueue=new Rs(o),n.setupDequeueing()},$t=kD.prototype,tb=0,PP=Math.pow(2,53)-1;$t.makeLayer=function(t,e){var n=Math.pow(2,e),r=Math.ceil(t.w*n),i=Math.ceil(t.h*n),o=this.renderer.makeOffscreenCanvas(r,i),a={id:tb=++tb%PP,bb:t,level:e,width:r,height:i,canvas:o,context:o.getContext("2d"),eles:[],elesQueue:[],reqs:0},s=a.context,u=-a.bb.x1,l=-a.bb.y1;return s.scale(n,n),s.translate(u,l),a};$t.getLayers=function(t,e,n){var r=this,i=r.renderer,o=i.cy,a=o.zoom(),s=r.firstGet;if(r.firstGet=!1,n==null){if(n=Math.ceil(Sp(a*e)),n<vs)n=vs;else if(a>=SP||n>ac)return null}r.validateLayersElesOrdering(n,t);var u=r.layersByLevel,l=Math.pow(2,n),c=u[n]=u[n]||[],d,f=r.levelIsComplete(n,t),h,p=function(){var N=function(O){if(r.validateLayersElesOrdering(O,t),r.levelIsComplete(O,t))return h=u[O],!0},M=function(O){if(!h)for(var _=n+O;vs<=_&&_<=ac&&!N(_);_+=O);};M(1),M(-1);for(var A=c.length-1;A>=0;A--){var R=c[A];R.invalid&&qr(c,R)}};if(!f)p();else return c;var m=function(){if(!d){d=rn();for(var N=0;N<t.length;N++)Ab(d,t[N].boundingBox())}return d},v=function(N){N=N||{};var M=N.after;m();var A=Math.ceil(d.w*l),R=Math.ceil(d.h*l);if(A>eb||R>eb)return null;var T=A*R;if(T>kP)return null;var O=r.makeLayer(d,n);if(M!=null){var _=c.indexOf(M)+1;c.splice(_,0,O)}else(N.insert===void 0||N.insert)&&c.unshift(O);return O};if(r.skipping&&!s)return null;for(var g=null,y=t.length/IP,w=!s,b=0;b<t.length;b++){var I=t[b],E=I._private.rscratch,D=E.imgLayerCaches=E.imgLayerCaches||{},S=D[n];if(S){g=S;continue}if((!g||g.eles.length>=y||!Nb(g.bb,I.boundingBox()))&&(g=v({insert:!0,after:g}),!g))return null;h||w?r.queueLayer(g,I):r.drawEleInLayer(g,I,n,e),g.eles.push(I),D[n]=g}return h||(w?null:c)};$t.getEleLevelForLayerLevel=function(t,e){return t};$t.drawEleInLayer=function(t,e,n,r){var i=this,o=this.renderer,a=t.context,s=e.boundingBox();s.w===0||s.h===0||!e.visible()||(n=i.getEleLevelForLayerLevel(n,r),o.setImgSmoothing(a,!1),o.drawCachedElement(a,e,null,null,n,OP),o.setImgSmoothing(a,!0))};$t.levelIsComplete=function(t,e){var n=this,r=n.layersByLevel[t];if(!r||r.length===0)return!1;for(var i=0,o=0;o<r.length;o++){var a=r[o];if(a.reqs>0||a.invalid)return!1;i+=a.eles.length}return i===e.length};$t.validateLayersElesOrdering=function(t,e){var n=this.layersByLevel[t];if(n)for(var r=0;r<n.length;r++){for(var i=n[r],o=-1,a=0;a<e.length;a++)if(i.eles[0]===e[a]){o=a;break}if(o<0){this.invalidateLayer(i);continue}for(var s=o,a=0;a<i.eles.length;a++)if(i.eles[a]!==e[s+a]){this.invalidateLayer(i);break}}};$t.updateElementsInLayers=function(t,e){for(var n=this,r=As(t[0]),i=0;i<t.length;i++)for(var o=r?null:t[i],a=r?t[i]:t[i].ele,s=a._private.rscratch,u=s.imgLayerCaches=s.imgLayerCaches||{},l=vs;l<=ac;l++){var c=u[l];c&&(o&&n.getEleLevelForLayerLevel(c.level)!==o.level||e(c,a,o))}};$t.haveLayers=function(){for(var t=this,e=!1,n=vs;n<=ac;n++){var r=t.layersByLevel[n];if(r&&r.length>0){e=!0;break}}return e};$t.invalidateElements=function(t){var e=this;t.length!==0&&(e.lastInvalidationTime=Dr(),!(t.length===0||!e.haveLayers())&&e.updateElementsInLayers(t,function(r,i,o){e.invalidateLayer(r)}))};$t.invalidateLayer=function(t){if(this.lastInvalidationTime=Dr(),!t.invalid){var e=t.level,n=t.eles,r=this.layersByLevel[e];qr(r,t),t.elesQueue=[],t.invalid=!0,t.replacement&&(t.replacement.invalid=!0);for(var i=0;i<n.length;i++){var o=n[i]._private.rscratch.imgLayerCaches;o&&(o[e]=null)}}};$t.refineElementTextures=function(t){var e=this;e.updateElementsInLayers(t,function(r,i,o){var a=r.replacement;if(a||(a=r.replacement=e.makeLayer(r.bb,r.level),a.replaces=r,a.eles=r.eles),!a.reqs)for(var s=0;s<a.eles.length;s++)e.queueLayer(a,a.eles[s])})};$t.enqueueElementRefinement=function(t){this.eleTxrDeqs.merge(t),this.scheduleElementRefinement()};$t.queueLayer=function(t,e){var n=this,r=n.layersQueue,i=t.elesQueue,o=i.hasId=i.hasId||{};if(!t.replacement){if(e){if(o[e.id()])return;i.push(e),o[e.id()]=!0}t.reqs?(t.reqs++,r.updateItem(t)):(t.reqs=1,r.push(t))}};$t.dequeue=function(t){for(var e=this,n=e.layersQueue,r=[],i=0;i<_P&&n.size()!==0;){var o=n.peek();if(o.replacement){n.pop();continue}if(o.replaces&&o!==o.replaces.replacement){n.pop();continue}if(o.invalid){n.pop();continue}var a=o.elesQueue.shift();a&&(e.drawEleInLayer(o,a,o.level,t),i++),r.length===0&&r.push(!0),o.elesQueue.length===0&&(n.pop(),o.reqs=0,o.replaces&&e.applyLayerReplacement(o),e.requestRedraw())}return r};$t.applyLayerReplacement=function(t){var e=this,n=e.layersByLevel[t.level],r=t.replaces,i=n.indexOf(r);if(!(i<0||r.invalid)){n[i]=t;for(var o=0;o<t.eles.length;o++){var a=t.eles[o]._private,s=a.imgLayerCaches=a.imgLayerCaches||{};s&&(s[t.level]=t)}e.requestRedraw()}};$t.requestRedraw=lc(function(){var t=this.renderer;t.redrawHint("eles",!0),t.redrawHint("drag",!0),t.redraw()},100);$t.setupDequeueing=_D.setupDequeueing({deqRedrawThreshold:xP,deqCost:MP,deqAvgCost:AP,deqNoDrawCost:NP,deqFastCost:RP,deq:function(e,n){return e.dequeue(n)},onDeqd:Cp,shouldRedraw:Cb,priority:function(e){return e.renderer.beforeRenderPriorities.lyrTxrDeq}});var OD={},nb;function LP(t,e){for(var n=0;n<e.length;n++){var r=e[n];t.lineTo(r.x,r.y)}}function FP(t,e,n){for(var r,i=0;i<e.length;i++){var o=e[i];i===0&&(r=o),t.lineTo(o.x,o.y)}t.quadraticCurveTo(n.x,n.y,r.x,r.y)}function rb(t,e,n){t.beginPath&&t.beginPath();for(var r=e,i=0;i<r.length;i++){var o=r[i];t.lineTo(o.x,o.y)}var a=n,s=n[0];t.moveTo(s.x,s.y);for(var i=1;i<a.length;i++){var o=a[i];t.lineTo(o.x,o.y)}t.closePath&&t.closePath()}function BP(t,e,n,r,i){t.beginPath&&t.beginPath(),t.arc(n,r,i,0,Math.PI*2,!1);var o=e,a=o[0];t.moveTo(a.x,a.y);for(var s=0;s<o.length;s++){var u=o[s];t.lineTo(u.x,u.y)}t.closePath&&t.closePath()}function VP(t,e,n,r){t.arc(e,n,r,0,Math.PI*2,!1)}OD.arrowShapeImpl=function(t){return(nb||(nb={polygon:LP,"triangle-backcurve":FP,"triangle-tee":rb,"circle-triangle":BP,"triangle-cross":rb,circle:VP}))[t]};var ir={};ir.drawElement=function(t,e,n,r,i,o){var a=this;e.isNode()?a.drawNode(t,e,n,r,i,o):a.drawEdge(t,e,n,r,i,o)};ir.drawElementOverlay=function(t,e){var n=this;e.isNode()?n.drawNodeOverlay(t,e):n.drawEdgeOverlay(t,e)};ir.drawElementUnderlay=function(t,e){var n=this;e.isNode()?n.drawNodeUnderlay(t,e):n.drawEdgeUnderlay(t,e)};ir.drawCachedElementPortion=function(t,e,n,r,i,o,a,s){var u=this,l=n.getBoundingBox(e);if(!(l.w===0||l.h===0)){var c=n.getElement(e,l,r,i,o);if(c!=null){var d=s(u,e);if(d===0)return;var f=a(u,e),h=l.x1,p=l.y1,m=l.w,v=l.h,g,y,w,b,I;if(f!==0){var E=n.getRotationPoint(e);w=E.x,b=E.y,t.translate(w,b),t.rotate(f),I=u.getImgSmoothing(t),I||u.setImgSmoothing(t,!0);var D=n.getRotationOffset(e);g=D.x,y=D.y}else g=h,y=p;var S;d!==1&&(S=t.globalAlpha,t.globalAlpha=S*d),t.drawImage(c.texture.canvas,c.x,0,c.width,c.height,g,y,m,v),d!==1&&(t.globalAlpha=S),f!==0&&(t.rotate(-f),t.translate(-w,-b),I||u.setImgSmoothing(t,!1))}else n.drawElement(t,e)}};var $P=function(){return 0},jP=function(e,n){return e.getTextAngle(n,null)},HP=function(e,n){return e.getTextAngle(n,"source")},zP=function(e,n){return e.getTextAngle(n,"target")},UP=function(e,n){return n.effectiveOpacity()},ep=function(e,n){return n.pstyle("text-opacity").pfValue*n.effectiveOpacity()};ir.drawCachedElement=function(t,e,n,r,i,o){var a=this,s=a.data,u=s.eleTxrCache,l=s.lblTxrCache,c=s.slbTxrCache,d=s.tlbTxrCache,f=e.boundingBox(),h=o===!0?u.reasons.highQuality:null;if(!(f.w===0||f.h===0||!e.visible())&&(!r||xp(f,r))){var p=e.isEdge(),m=e.element()._private.rscratch.badLine;a.drawElementUnderlay(t,e),a.drawCachedElementPortion(t,e,u,n,i,h,$P,UP),(!p||!m)&&a.drawCachedElementPortion(t,e,l,n,i,h,jP,ep),p&&!m&&(a.drawCachedElementPortion(t,e,c,n,i,h,HP,ep),a.drawCachedElementPortion(t,e,d,n,i,h,zP,ep)),a.drawElementOverlay(t,e)}};ir.drawElements=function(t,e){for(var n=this,r=0;r<e.length;r++){var i=e[r];n.drawElement(t,i)}};ir.drawCachedElements=function(t,e,n,r){for(var i=this,o=0;o<e.length;o++){var a=e[o];i.drawCachedElement(t,a,n,r)}};ir.drawCachedNodes=function(t,e,n,r){for(var i=this,o=0;o<e.length;o++){var a=e[o];a.isNode()&&i.drawCachedElement(t,a,n,r)}};ir.drawLayeredElements=function(t,e,n,r){var i=this,o=i.data.lyrTxrCache.getLayers(e,n);if(o)for(var a=0;a<o.length;a++){var s=o[a],u=s.bb;u.w===0||u.h===0||t.drawImage(s.canvas,u.x1,u.y1,u.w,u.h)}else i.drawCachedElements(t,e,n,r)};var Sr={};Sr.drawEdge=function(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,a=this,s=e._private.rscratch;if(!(o&&!e.visible())&&!(s.badLine||s.allpts==null||isNaN(s.allpts[0]))){var u;n&&(u=n,t.translate(-u.x1,-u.y1));var l=o?e.pstyle("opacity").value:1,c=o?e.pstyle("line-opacity").value:1,d=e.pstyle("curve-style").value,f=e.pstyle("line-style").value,h=e.pstyle("width").pfValue,p=e.pstyle("line-cap").value,m=e.pstyle("line-outline-width").value,v=e.pstyle("line-outline-color").value,g=l*c,y=l*c,w=function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:g;d==="straight-triangle"?(a.eleStrokeStyle(t,e,O),a.drawEdgeTrianglePath(e,t,s.allpts)):(t.lineWidth=h,t.lineCap=p,a.eleStrokeStyle(t,e,O),a.drawEdgePath(e,t,s.allpts,f),t.lineCap="butt")},b=function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:g;if(t.lineWidth=h+m,t.lineCap=p,m>0)a.colorStrokeStyle(t,v[0],v[1],v[2],O);else{t.lineCap="butt";return}d==="straight-triangle"?a.drawEdgeTrianglePath(e,t,s.allpts):(a.drawEdgePath(e,t,s.allpts,f),t.lineCap="butt")},I=function(){i&&a.drawEdgeOverlay(t,e)},E=function(){i&&a.drawEdgeUnderlay(t,e)},D=function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:y;a.drawArrowheads(t,e,O)},S=function(){a.drawElementText(t,e,null,r)};t.lineJoin="round";var C=e.pstyle("ghost").value==="yes";if(C){var N=e.pstyle("ghost-offset-x").pfValue,M=e.pstyle("ghost-offset-y").pfValue,A=e.pstyle("ghost-opacity").value,R=g*A;t.translate(N,M),w(R),D(R),t.translate(-N,-M)}else b();E(),w(),D(),I(),S(),n&&t.translate(u.x1,u.y1)}};var PD=function(e){if(!["overlay","underlay"].includes(e))throw new Error("Invalid state");return function(n,r){if(r.visible()){var i=r.pstyle("".concat(e,"-opacity")).value;if(i!==0){var o=this,a=o.usePaths(),s=r._private.rscratch,u=r.pstyle("".concat(e,"-padding")).pfValue,l=2*u,c=r.pstyle("".concat(e,"-color")).value;n.lineWidth=l,s.edgeType==="self"&&!a?n.lineCap="butt":n.lineCap="round",o.colorStrokeStyle(n,c[0],c[1],c[2],i),o.drawEdgePath(r,n,s.allpts,"solid")}}}};Sr.drawEdgeOverlay=PD("overlay");Sr.drawEdgeUnderlay=PD("underlay");Sr.drawEdgePath=function(t,e,n,r){var i=t._private.rscratch,o=e,a,s=!1,u=this.usePaths(),l=t.pstyle("line-dash-pattern").pfValue,c=t.pstyle("line-dash-offset").pfValue;if(u){var d=n.join("$"),f=i.pathCacheKey&&i.pathCacheKey===d;f?(a=e=i.pathCache,s=!0):(a=e=new Path2D,i.pathCacheKey=d,i.pathCache=a)}if(o.setLineDash)switch(r){case"dotted":o.setLineDash([1,1]);break;case"dashed":o.setLineDash(l),o.lineDashOffset=c;break;case"solid":o.setLineDash([]);break}if(!s&&!i.badLine)switch(e.beginPath&&e.beginPath(),e.moveTo(n[0],n[1]),i.edgeType){case"bezier":case"self":case"compound":case"multibezier":for(var h=2;h+3<n.length;h+=4)e.quadraticCurveTo(n[h],n[h+1],n[h+2],n[h+3]);break;case"straight":case"haystack":for(var p=2;p+1<n.length;p+=2)e.lineTo(n[p],n[p+1]);break;case"segments":if(i.isRound){var m=lb(i.roundCorners),v;try{for(m.s();!(v=m.n()).done;){var g=v.value;ID(e,g)}}catch(w){m.e(w)}finally{m.f()}e.lineTo(n[n.length-2],n[n.length-1])}else for(var y=2;y+1<n.length;y+=2)e.lineTo(n[y],n[y+1]);break}e=o,u?e.stroke(a):e.stroke(),e.setLineDash&&e.setLineDash([])};Sr.drawEdgeTrianglePath=function(t,e,n){e.fillStyle=e.strokeStyle;for(var r=t.pstyle("width").pfValue,i=0;i+1<n.length;i+=2){var o=[n[i+2]-n[i],n[i+3]-n[i+1]],a=Math.sqrt(o[0]*o[0]+o[1]*o[1]),s=[o[1]/a,-o[0]/a],u=[s[0]*r/2,s[1]*r/2];e.beginPath(),e.moveTo(n[i]-u[0],n[i+1]-u[1]),e.lineTo(n[i]+u[0],n[i+1]+u[1]),e.lineTo(n[i+2],n[i+3]),e.closePath(),e.fill()}};Sr.drawArrowheads=function(t,e,n){var r=e._private.rscratch,i=r.edgeType==="haystack";i||this.drawArrowhead(t,e,"source",r.arrowStartX,r.arrowStartY,r.srcArrowAngle,n),this.drawArrowhead(t,e,"mid-target",r.midX,r.midY,r.midtgtArrowAngle,n),this.drawArrowhead(t,e,"mid-source",r.midX,r.midY,r.midsrcArrowAngle,n),i||this.drawArrowhead(t,e,"target",r.arrowEndX,r.arrowEndY,r.tgtArrowAngle,n)};Sr.drawArrowhead=function(t,e,n,r,i,o,a){if(!(isNaN(r)||r==null||isNaN(i)||i==null||isNaN(o)||o==null)){var s=this,u=e.pstyle(n+"-arrow-shape").value;if(u!=="none"){var l=e.pstyle(n+"-arrow-fill").value==="hollow"?"both":"filled",c=e.pstyle(n+"-arrow-fill").value,d=e.pstyle("width").pfValue,f=e.pstyle(n+"-arrow-width"),h=f.value==="match-line"?d:f.pfValue;f.units==="%"&&(h*=d);var p=e.pstyle("opacity").value;a===void 0&&(a=p);var m=t.globalCompositeOperation;(a!==1||c==="hollow")&&(t.globalCompositeOperation="destination-out",s.colorFillStyle(t,255,255,255,1),s.colorStrokeStyle(t,255,255,255,1),s.drawArrowShape(e,t,l,d,u,h,r,i,o),t.globalCompositeOperation=m);var v=e.pstyle(n+"-arrow-color").value;s.colorFillStyle(t,v[0],v[1],v[2],a),s.colorStrokeStyle(t,v[0],v[1],v[2],a),s.drawArrowShape(e,t,c,d,u,h,r,i,o)}}};Sr.drawArrowShape=function(t,e,n,r,i,o,a,s,u){var l=this,c=this.usePaths()&&i!=="triangle-cross",d=!1,f,h=e,p={x:a,y:s},m=t.pstyle("arrow-scale").value,v=this.getArrowWidth(r,m),g=l.arrowShapes[i];if(c){var y=l.arrowPathCache=l.arrowPathCache||[],w=Ri(i),b=y[w];b!=null?(f=e=b,d=!0):(f=e=new Path2D,y[w]=f)}d||(e.beginPath&&e.beginPath(),c?g.draw(e,1,0,{x:0,y:0},1):g.draw(e,v,u,p,r),e.closePath&&e.closePath()),e=h,c&&(e.translate(a,s),e.rotate(u),e.scale(v,v)),(n==="filled"||n==="both")&&(c?e.fill(f):e.fill()),(n==="hollow"||n==="both")&&(e.lineWidth=o/(c?v:1),e.lineJoin="miter",c?e.stroke(f):e.stroke()),c&&(e.scale(1/v,1/v),e.rotate(-u),e.translate(-a,-s))};var jp={};jp.safeDrawImage=function(t,e,n,r,i,o,a,s,u,l){if(!(i<=0||o<=0||u<=0||l<=0))try{t.drawImage(e,n,r,i,o,a,s,u,l)}catch(c){Xe(c)}};jp.drawInscribedImage=function(t,e,n,r,i){var o=this,a=n.position(),s=a.x,u=a.y,l=n.cy().style(),c=l.getIndexedStyle.bind(l),d=c(n,"background-fit","value",r),f=c(n,"background-repeat","value",r),h=n.width(),p=n.height(),m=n.padding()*2,v=h+(c(n,"background-width-relative-to","value",r)==="inner"?0:m),g=p+(c(n,"background-height-relative-to","value",r)==="inner"?0:m),y=n._private.rscratch,w=c(n,"background-clip","value",r),b=w==="node",I=c(n,"background-image-opacity","value",r)*i,E=c(n,"background-image-smoothing","value",r),D=n.pstyle("corner-radius").value;D!=="auto"&&(D=n.pstyle("corner-radius").pfValue);var S=e.width||e.cachedW,C=e.height||e.cachedH;(S==null||C==null)&&(document.body.appendChild(e),S=e.cachedW=e.width||e.offsetWidth,C=e.cachedH=e.height||e.offsetHeight,document.body.removeChild(e));var N=S,M=C;if(c(n,"background-width","value",r)!=="auto"&&(c(n,"background-width","units",r)==="%"?N=c(n,"background-width","pfValue",r)*v:N=c(n,"background-width","pfValue",r)),c(n,"background-height","value",r)!=="auto"&&(c(n,"background-height","units",r)==="%"?M=c(n,"background-height","pfValue",r)*g:M=c(n,"background-height","pfValue",r)),!(N===0||M===0)){if(d==="contain"){var A=Math.min(v/N,g/M);N*=A,M*=A}else if(d==="cover"){var A=Math.max(v/N,g/M);N*=A,M*=A}var R=s-v/2,T=c(n,"background-position-x","units",r),O=c(n,"background-position-x","pfValue",r);T==="%"?R+=(v-N)*O:R+=O;var _=c(n,"background-offset-x","units",r),k=c(n,"background-offset-x","pfValue",r);_==="%"?R+=(v-N)*k:R+=k;var P=u-g/2,V=c(n,"background-position-y","units",r),z=c(n,"background-position-y","pfValue",r);V==="%"?P+=(g-M)*z:P+=z;var B=c(n,"background-offset-y","units",r),$=c(n,"background-offset-y","pfValue",r);B==="%"?P+=(g-M)*$:P+=$,y.pathCache&&(R-=s,P-=u,s=0,u=0);var W=t.globalAlpha;t.globalAlpha=I;var K=o.getImgSmoothing(t),Q=!1;if(E==="no"&&K?(o.setImgSmoothing(t,!1),Q=!0):E==="yes"&&!K&&(o.setImgSmoothing(t,!0),Q=!0),f==="no-repeat")b&&(t.save(),y.pathCache?t.clip(y.pathCache):(o.nodeShapes[o.getNodeShape(n)].draw(t,s,u,v,g,D,y),t.clip())),o.safeDrawImage(t,e,0,0,S,C,R,P,N,M),b&&t.restore();else{var X=t.createPattern(e,f);t.fillStyle=X,o.nodeShapes[o.getNodeShape(n)].draw(t,s,u,v,g,D,y),t.translate(R,P),t.fill(),t.translate(-R,-P)}t.globalAlpha=W,Q&&o.setImgSmoothing(t,K)}};var Bi={};Bi.eleTextBiggerThanMin=function(t,e){if(!e){var n=t.cy().zoom(),r=this.getPixelRatio(),i=Math.ceil(Sp(n*r));e=Math.pow(2,i)}var o=t.pstyle("font-size").pfValue*e,a=t.pstyle("min-zoomed-font-size").pfValue;return!(o<a)};Bi.drawElementText=function(t,e,n,r,i){var o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,a=this;if(r==null){if(o&&!a.eleTextBiggerThanMin(e))return}else if(r===!1)return;if(e.isNode()){var s=e.pstyle("label");if(!s||!s.value)return;var u=a.getLabelJustification(e);t.textAlign=u,t.textBaseline="bottom"}else{var l=e.element()._private.rscratch.badLine,c=e.pstyle("label"),d=e.pstyle("source-label"),f=e.pstyle("target-label");if(l||(!c||!c.value)&&(!d||!d.value)&&(!f||!f.value))return;t.textAlign="center",t.textBaseline="bottom"}var h=!n,p;n&&(p=n,t.translate(-p.x1,-p.y1)),i==null?(a.drawText(t,e,null,h,o),e.isEdge()&&(a.drawText(t,e,"source",h,o),a.drawText(t,e,"target",h,o))):a.drawText(t,e,i,h,o),n&&t.translate(p.x1,p.y1)};Bi.getFontCache=function(t){var e;this.fontCaches=this.fontCaches||[];for(var n=0;n<this.fontCaches.length;n++)if(e=this.fontCaches[n],e.context===t)return e;return e={context:t},this.fontCaches.push(e),e};Bi.setupTextStyle=function(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,r=e.pstyle("font-style").strValue,i=e.pstyle("font-size").pfValue+"px",o=e.pstyle("font-family").strValue,a=e.pstyle("font-weight").strValue,s=n?e.effectiveOpacity()*e.pstyle("text-opacity").value:1,u=e.pstyle("text-outline-opacity").value*s,l=e.pstyle("color").value,c=e.pstyle("text-outline-color").value;t.font=r+" "+a+" "+i+" "+o,t.lineJoin="round",this.colorFillStyle(t,l[0],l[1],l[2],s),this.colorStrokeStyle(t,c[0],c[1],c[2],u)};function tp(t,e,n,r,i){var o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:5,a=arguments.length>6?arguments[6]:void 0;t.beginPath(),t.moveTo(e+o,n),t.lineTo(e+r-o,n),t.quadraticCurveTo(e+r,n,e+r,n+o),t.lineTo(e+r,n+i-o),t.quadraticCurveTo(e+r,n+i,e+r-o,n+i),t.lineTo(e+o,n+i),t.quadraticCurveTo(e,n+i,e,n+i-o),t.lineTo(e,n+o),t.quadraticCurveTo(e,n,e+o,n),t.closePath(),a?t.stroke():t.fill()}Bi.getTextAngle=function(t,e){var n,r=t._private,i=r.rscratch,o=e?e+"-":"",a=t.pstyle(o+"text-rotation"),s=jn(i,"labelAngle",e);return a.strValue==="autorotate"?n=t.isEdge()?s:0:a.strValue==="none"?n=0:n=a.pfValue,n};Bi.drawText=function(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,o=e._private,a=o.rscratch,s=i?e.effectiveOpacity():1;if(!(i&&(s===0||e.pstyle("text-opacity").value===0))){n==="main"&&(n=null);var u=jn(a,"labelX",n),l=jn(a,"labelY",n),c,d,f=this.getLabelText(e,n);if(f!=null&&f!==""&&!isNaN(u)&&!isNaN(l)){this.setupTextStyle(t,e,i);var h=n?n+"-":"",p=jn(a,"labelWidth",n),m=jn(a,"labelHeight",n),v=e.pstyle(h+"text-margin-x").pfValue,g=e.pstyle(h+"text-margin-y").pfValue,y=e.isEdge(),w=e.pstyle("text-halign").value,b=e.pstyle("text-valign").value;y&&(w="center",b="center"),u+=v,l+=g;var I;switch(r?I=this.getTextAngle(e,n):I=0,I!==0&&(c=u,d=l,t.translate(c,d),t.rotate(I),u=0,l=0),b){case"top":break;case"center":l+=m/2;break;case"bottom":l+=m;break}var E=e.pstyle("text-background-opacity").value,D=e.pstyle("text-border-opacity").value,S=e.pstyle("text-border-width").pfValue,C=e.pstyle("text-background-padding").pfValue,N=e.pstyle("text-background-shape").strValue,M=N.indexOf("round")===0,A=2;if(E>0||S>0&&D>0){var R=u-C;switch(w){case"left":R-=p;break;case"center":R-=p/2;break}var T=l-m-C,O=p+2*C,_=m+2*C;if(E>0){var k=t.fillStyle,P=e.pstyle("text-background-color").value;t.fillStyle="rgba("+P[0]+","+P[1]+","+P[2]+","+E*s+")",M?tp(t,R,T,O,_,A):t.fillRect(R,T,O,_),t.fillStyle=k}if(S>0&&D>0){var V=t.strokeStyle,z=t.lineWidth,B=e.pstyle("text-border-color").value,$=e.pstyle("text-border-style").value;if(t.strokeStyle="rgba("+B[0]+","+B[1]+","+B[2]+","+D*s+")",t.lineWidth=S,t.setLineDash)switch($){case"dotted":t.setLineDash([1,1]);break;case"dashed":t.setLineDash([4,2]);break;case"double":t.lineWidth=S/4,t.setLineDash([]);break;case"solid":t.setLineDash([]);break}if(M?tp(t,R,T,O,_,A,"stroke"):t.strokeRect(R,T,O,_),$==="double"){var W=S/2;M?tp(t,R+W,T+W,O-W*2,_-W*2,A,"stroke"):t.strokeRect(R+W,T+W,O-W*2,_-W*2)}t.setLineDash&&t.setLineDash([]),t.lineWidth=z,t.strokeStyle=V}}var K=2*e.pstyle("text-outline-width").pfValue;if(K>0&&(t.lineWidth=K),e.pstyle("text-wrap").value==="wrap"){var Q=jn(a,"labelWrapCachedLines",n),X=jn(a,"labelLineHeight",n),J=p/2,q=this.getLabelJustification(e);switch(q==="auto"||(w==="left"?q==="left"?u+=-p:q==="center"&&(u+=-J):w==="center"?q==="left"?u+=-J:q==="right"&&(u+=J):w==="right"&&(q==="center"?u+=J:q==="right"&&(u+=p))),b){case"top":l-=(Q.length-1)*X;break;case"center":case"bottom":l-=(Q.length-1)*X;break}for(var L=0;L<Q.length;L++)K>0&&t.strokeText(Q[L],u,l),t.fillText(Q[L],u,l),l+=X}else K>0&&t.strokeText(f,u,l),t.fillText(f,u,l);I!==0&&(t.rotate(-I),t.translate(-c,-d))}}};var ra={};ra.drawNode=function(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,a=this,s,u,l=e._private,c=l.rscratch,d=e.position();if(!(!ie(d.x)||!ie(d.y))&&!(o&&!e.visible())){var f=o?e.effectiveOpacity():1,h=a.usePaths(),p,m=!1,v=e.padding();s=e.width()+2*v,u=e.height()+2*v;var g;n&&(g=n,t.translate(-g.x1,-g.y1));for(var y=e.pstyle("background-image"),w=y.value,b=new Array(w.length),I=new Array(w.length),E=0,D=0;D<w.length;D++){var S=w[D],C=b[D]=S!=null&&S!=="none";if(C){var N=e.cy().style().getIndexedStyle(e,"background-image-crossorigin","value",D);E++,I[D]=a.getCachedImage(S,N,function(){l.backgroundTimestamp=Date.now(),e.emitAndNotify("background")})}}var M=e.pstyle("background-blacken").value,A=e.pstyle("border-width").pfValue,R=e.pstyle("background-opacity").value*f,T=e.pstyle("border-color").value,O=e.pstyle("border-style").value,_=e.pstyle("border-join").value,k=e.pstyle("border-cap").value,P=e.pstyle("border-position").value,V=e.pstyle("border-dash-pattern").pfValue,z=e.pstyle("border-dash-offset").pfValue,B=e.pstyle("border-opacity").value*f,$=e.pstyle("outline-width").pfValue,W=e.pstyle("outline-color").value,K=e.pstyle("outline-style").value,Q=e.pstyle("outline-opacity").value*f,X=e.pstyle("outline-offset").value,J=e.pstyle("corner-radius").value;J!=="auto"&&(J=e.pstyle("corner-radius").pfValue);var q=function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:R;a.eleFillStyle(t,e,F)},L=function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:B;a.colorStrokeStyle(t,T[0],T[1],T[2],F)},U=function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Q;a.colorStrokeStyle(t,W[0],W[1],W[2],F)},Z=function(F,H,oe,Y){var ae=a.nodePathCache=a.nodePathCache||[],me=Eb(oe==="polygon"?oe+","+Y.join(","):oe,""+H,""+F,""+J),Se=ae[me],he,Ee=!1;return Se!=null?(he=Se,Ee=!0,c.pathCache=he):(he=new Path2D,ae[me]=c.pathCache=he),{path:he,cacheHit:Ee}},re=e.pstyle("shape").strValue,ve=e.pstyle("shape-polygon-points").pfValue;if(h){t.translate(d.x,d.y);var ne=Z(s,u,re,ve);p=ne.path,m=ne.cacheHit}var te=function(){if(!m){var F=d;h&&(F={x:0,y:0}),a.nodeShapes[a.getNodeShape(e)].draw(p||t,F.x,F.y,s,u,J,c)}h?t.fill(p):t.fill()},de=function(){for(var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:f,H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,oe=l.backgrounding,Y=0,ae=0;ae<I.length;ae++){var me=e.cy().style().getIndexedStyle(e,"background-image-containment","value",ae);if(H&&me==="over"||!H&&me==="inside"){Y++;continue}b[ae]&&I[ae].complete&&!I[ae].error&&(Y++,a.drawInscribedImage(t,I[ae],e,ae,F))}l.backgrounding=Y!==E,oe!==l.backgrounding&&e.updateStyle(!1)},ce=function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:f;a.hasPie(e)&&(a.drawPie(t,e,H),F&&(h||a.nodeShapes[a.getNodeShape(e)].draw(t,d.x,d.y,s,u,J,c)))},se=function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:f,H=(M>0?M:-M)*F,oe=M>0?0:255;M!==0&&(a.colorFillStyle(t,oe,oe,oe,H),h?t.fill(p):t.fill())},ge=function(){if(A>0){if(t.lineWidth=A,t.lineCap=k,t.lineJoin=_,t.setLineDash)switch(O){case"dotted":t.setLineDash([1,1]);break;case"dashed":t.setLineDash(V),t.lineDashOffset=z;break;case"solid":case"double":t.setLineDash([]);break}if(P!=="center"){if(t.save(),t.lineWidth*=2,P==="inside")h?t.clip(p):t.clip();else{var F=new Path2D;F.rect(-s/2-A,-u/2-A,s+2*A,u+2*A),F.addPath(p),t.clip(F,"evenodd")}h?t.stroke(p):t.stroke(),t.restore()}else h?t.stroke(p):t.stroke();if(O==="double"){t.lineWidth=A/3;var H=t.globalCompositeOperation;t.globalCompositeOperation="destination-out",h?t.stroke(p):t.stroke(),t.globalCompositeOperation=H}t.setLineDash&&t.setLineDash([])}},Je=function(){if($>0){if(t.lineWidth=$,t.lineCap="butt",t.setLineDash)switch(K){case"dotted":t.setLineDash([1,1]);break;case"dashed":t.setLineDash([4,2]);break;case"solid":case"double":t.setLineDash([]);break}var F=d;h&&(F={x:0,y:0});var H=a.getNodeShape(e),oe=A;P==="inside"&&(oe=0),P==="outside"&&(oe*=2);var Y=(s+oe+($+X))/s,ae=(u+oe+($+X))/u,me=s*Y,Se=u*ae,he=a.nodeShapes[H].points,Ee;if(h){var Ie=Z(me,Se,H,he);Ee=Ie.path}if(H==="ellipse")a.drawEllipsePath(Ee||t,F.x,F.y,me,Se);else if(["round-diamond","round-heptagon","round-hexagon","round-octagon","round-pentagon","round-polygon","round-triangle","round-tag"].includes(H)){var we=0,at=0,ft=0;H==="round-diamond"?we=(oe+X+$)*1.4:H==="round-heptagon"?(we=(oe+X+$)*1.075,ft=-(oe/2+X+$)/35):H==="round-hexagon"?we=(oe+X+$)*1.12:H==="round-pentagon"?(we=(oe+X+$)*1.13,ft=-(oe/2+X+$)/15):H==="round-tag"?(we=(oe+X+$)*1.12,at=(oe/2+$+X)*.07):H==="round-triangle"&&(we=(oe+X+$)*(Math.PI/2),ft=-(oe+X/2+$)/Math.PI),we!==0&&(Y=(s+we)/s,me=s*Y,["round-hexagon","round-tag"].includes(H)||(ae=(u+we)/u,Se=u*ae)),J=J==="auto"?kb(me,Se):J;for(var on=me/2,an=Se/2,yt=J+(oe+$+X)/2,Tt=new Array(he.length/2),Mt=new Array(he.length/2),Qt=0;Qt<he.length/2;Qt++)Tt[Qt]={x:F.x+at+on*he[Qt*2],y:F.y+ft+an*he[Qt*2+1]};var Xt,zn,mn,Un,or=Tt.length;for(zn=Tt[or-1],Xt=0;Xt<or;Xt++)mn=Tt[Xt%or],Un=Tt[(Xt+1)%or],Mt[Xt]=Vp(zn,mn,Un,yt),zn=mn,mn=Un;a.drawRoundPolygonPath(Ee||t,F.x+at,F.y+ft,s*Y,u*ae,he,Mt)}else if(["roundrectangle","round-rectangle"].includes(H))J=J==="auto"?ki(me,Se):J,a.drawRoundRectanglePath(Ee||t,F.x,F.y,me,Se,J+(oe+$+X)/2);else if(["cutrectangle","cut-rectangle"].includes(H))J=J==="auto"?Tp():J,a.drawCutRectanglePath(Ee||t,F.x,F.y,me,Se,null,J+(oe+$+X)/4);else if(["bottomroundrectangle","bottom-round-rectangle"].includes(H))J=J==="auto"?ki(me,Se):J,a.drawBottomRoundRectanglePath(Ee||t,F.x,F.y,me,Se,J+(oe+$+X)/2);else if(H==="barrel")a.drawBarrelPath(Ee||t,F.x,F.y,me,Se);else if(H.startsWith("polygon")||["rhomboid","right-rhomboid","round-tag","tag","vee"].includes(H)){var ar=(oe+$+X)/s;he=Jl(ec(he,ar)),a.drawPolygonPath(Ee||t,F.x,F.y,s,u,he)}else{var jt=(oe+$+X)/s;he=Jl(ec(he,-jt)),a.drawPolygonPath(Ee||t,F.x,F.y,s,u,he)}if(h?t.stroke(Ee):t.stroke(),K==="double"){t.lineWidth=oe/3;var At=t.globalCompositeOperation;t.globalCompositeOperation="destination-out",h?t.stroke(Ee):t.stroke(),t.globalCompositeOperation=At}t.setLineDash&&t.setLineDash([])}},He=function(){i&&a.drawNodeOverlay(t,e,d,s,u)},_e=function(){i&&a.drawNodeUnderlay(t,e,d,s,u)},et=function(){a.drawElementText(t,e,null,r)},Oe=e.pstyle("ghost").value==="yes";if(Oe){var Ze=e.pstyle("ghost-offset-x").pfValue,ee=e.pstyle("ghost-offset-y").pfValue,x=e.pstyle("ghost-opacity").value,j=x*f;t.translate(Ze,ee),U(),Je(),q(x*R),te(),de(j,!0),L(x*B),ge(),ce(M!==0||A!==0),de(j,!1),se(j),t.translate(-Ze,-ee)}h&&t.translate(-d.x,-d.y),_e(),h&&t.translate(d.x,d.y),U(),Je(),q(),te(),de(f,!0),L(),ge(),ce(M!==0||A!==0),de(f,!1),se(),h&&t.translate(-d.x,-d.y),et(),He(),n&&t.translate(g.x1,g.y1)}};var LD=function(e){if(!["overlay","underlay"].includes(e))throw new Error("Invalid state");return function(n,r,i,o,a){var s=this;if(r.visible()){var u=r.pstyle("".concat(e,"-padding")).pfValue,l=r.pstyle("".concat(e,"-opacity")).value,c=r.pstyle("".concat(e,"-color")).value,d=r.pstyle("".concat(e,"-shape")).value,f=r.pstyle("".concat(e,"-corner-radius")).value;if(l>0){if(i=i||r.position(),o==null||a==null){var h=r.padding();o=r.width()+2*h,a=r.height()+2*h}s.colorFillStyle(n,c[0],c[1],c[2],l),s.nodeShapes[d].draw(n,i.x,i.y,o+u*2,a+u*2,f),n.fill()}}}};ra.drawNodeOverlay=LD("overlay");ra.drawNodeUnderlay=LD("underlay");ra.hasPie=function(t){return t=t[0],t._private.hasPie};ra.drawPie=function(t,e,n,r){e=e[0],r=r||e.position();var i=e.cy().style(),o=e.pstyle("pie-size"),a=r.x,s=r.y,u=e.width(),l=e.height(),c=Math.min(u,l)/2,d=0,f=this.usePaths();f&&(a=0,s=0),o.units==="%"?c=c*o.pfValue:o.pfValue!==void 0&&(c=o.pfValue/2);for(var h=1;h<=i.pieBackgroundN;h++){var p=e.pstyle("pie-"+h+"-background-size").value,m=e.pstyle("pie-"+h+"-background-color").value,v=e.pstyle("pie-"+h+"-background-opacity").value*n,g=p/100;g+d>1&&(g=1-d);var y=1.5*Math.PI+2*Math.PI*d,w=2*Math.PI*g,b=y+w;p===0||d>=1||d+g>1||(t.beginPath(),t.moveTo(a,s),t.arc(a,s,c,y,b),t.closePath(),this.colorFillStyle(t,m[0],m[1],m[2],v),t.fill(),d+=g)}};var vn={},qP=100;vn.getPixelRatio=function(){var t=this.data.contexts[0];if(this.forcedPixelRatio!=null)return this.forcedPixelRatio;var e=this.cy.window(),n=t.backingStorePixelRatio||t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1;return(e.devicePixelRatio||1)/n};vn.paintCache=function(t){for(var e=this.paintCaches=this.paintCaches||[],n=!0,r,i=0;i<e.length;i++)if(r=e[i],r.context===t){n=!1;break}return n&&(r={context:t},e.push(r)),r};vn.createGradientStyleFor=function(t,e,n,r,i){var o,a=this.usePaths(),s=n.pstyle(e+"-gradient-stop-colors").value,u=n.pstyle(e+"-gradient-stop-positions").pfValue;if(r==="radial-gradient")if(n.isEdge()){var l=n.sourceEndpoint(),c=n.targetEndpoint(),d=n.midpoint(),f=_i(l,d),h=_i(c,d);o=t.createRadialGradient(d.x,d.y,0,d.x,d.y,Math.max(f,h))}else{var p=a?{x:0,y:0}:n.position(),m=n.paddedWidth(),v=n.paddedHeight();o=t.createRadialGradient(p.x,p.y,0,p.x,p.y,Math.max(m,v))}else if(n.isEdge()){var g=n.sourceEndpoint(),y=n.targetEndpoint();o=t.createLinearGradient(g.x,g.y,y.x,y.y)}else{var w=a?{x:0,y:0}:n.position(),b=n.paddedWidth(),I=n.paddedHeight(),E=b/2,D=I/2,S=n.pstyle("background-gradient-direction").value;switch(S){case"to-bottom":o=t.createLinearGradient(w.x,w.y-D,w.x,w.y+D);break;case"to-top":o=t.createLinearGradient(w.x,w.y+D,w.x,w.y-D);break;case"to-left":o=t.createLinearGradient(w.x+E,w.y,w.x-E,w.y);break;case"to-right":o=t.createLinearGradient(w.x-E,w.y,w.x+E,w.y);break;case"to-bottom-right":case"to-right-bottom":o=t.createLinearGradient(w.x-E,w.y-D,w.x+E,w.y+D);break;case"to-top-right":case"to-right-top":o=t.createLinearGradient(w.x-E,w.y+D,w.x+E,w.y-D);break;case"to-bottom-left":case"to-left-bottom":o=t.createLinearGradient(w.x+E,w.y-D,w.x-E,w.y+D);break;case"to-top-left":case"to-left-top":o=t.createLinearGradient(w.x+E,w.y+D,w.x-E,w.y-D);break}}if(!o)return null;for(var C=u.length===s.length,N=s.length,M=0;M<N;M++)o.addColorStop(C?u[M]:M/(N-1),"rgba("+s[M][0]+","+s[M][1]+","+s[M][2]+","+i+")");return o};vn.gradientFillStyle=function(t,e,n,r){var i=this.createGradientStyleFor(t,"background",e,n,r);if(!i)return null;t.fillStyle=i};vn.colorFillStyle=function(t,e,n,r,i){t.fillStyle="rgba("+e+","+n+","+r+","+i+")"};vn.eleFillStyle=function(t,e,n){var r=e.pstyle("background-fill").value;if(r==="linear-gradient"||r==="radial-gradient")this.gradientFillStyle(t,e,r,n);else{var i=e.pstyle("background-color").value;this.colorFillStyle(t,i[0],i[1],i[2],n)}};vn.gradientStrokeStyle=function(t,e,n,r){var i=this.createGradientStyleFor(t,"line",e,n,r);if(!i)return null;t.strokeStyle=i};vn.colorStrokeStyle=function(t,e,n,r,i){t.strokeStyle="rgba("+e+","+n+","+r+","+i+")"};vn.eleStrokeStyle=function(t,e,n){var r=e.pstyle("line-fill").value;if(r==="linear-gradient"||r==="radial-gradient")this.gradientStrokeStyle(t,e,r,n);else{var i=e.pstyle("line-color").value;this.colorStrokeStyle(t,i[0],i[1],i[2],n)}};vn.matchCanvasSize=function(t){var e=this,n=e.data,r=e.findContainerClientCoords(),i=r[2],o=r[3],a=e.getPixelRatio(),s=e.motionBlurPxRatio;(t===e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_NODE]||t===e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_DRAG])&&(a=s);var u=i*a,l=o*a,c;if(!(u===e.canvasWidth&&l===e.canvasHeight)){e.fontCaches=null;var d=n.canvasContainer;d.style.width=i+"px",d.style.height=o+"px";for(var f=0;f<e.CANVAS_LAYERS;f++)c=n.canvases[f],c.width=u,c.height=l,c.style.width=i+"px",c.style.height=o+"px";for(var f=0;f<e.BUFFER_COUNT;f++)c=n.bufferCanvases[f],c.width=u,c.height=l,c.style.width=i+"px",c.style.height=o+"px";e.textureMult=1,a<=1&&(c=n.bufferCanvases[e.TEXTURE_BUFFER],e.textureMult=2,c.width=u*e.textureMult,c.height=l*e.textureMult),e.canvasWidth=u,e.canvasHeight=l}};vn.renderTo=function(t,e,n,r){this.render({forcedContext:t,forcedZoom:e,forcedPan:n,drawAllLayers:!0,forcedPxRatio:r})};vn.render=function(t){t=t||xb();var e=t.forcedContext,n=t.drawAllLayers,r=t.drawOnlyNodeLayer,i=t.forcedZoom,o=t.forcedPan,a=this,s=t.forcedPxRatio===void 0?this.getPixelRatio():t.forcedPxRatio,u=a.cy,l=a.data,c=l.canvasNeedsRedraw,d=a.textureOnViewport&&!e&&(a.pinching||a.hoverData.dragging||a.swipePanning||a.data.wheelZooming),f=t.motionBlur!==void 0?t.motionBlur:a.motionBlur,h=a.motionBlurPxRatio,p=u.hasCompoundNodes(),m=a.hoverData.draggingEles,v=!!(a.hoverData.selecting||a.touchData.selecting);f=f&&!e&&a.motionBlurEnabled&&!v;var g=f;e||(a.prevPxRatio!==s&&(a.invalidateContainerClientCoordsCache(),a.matchCanvasSize(a.container),a.redrawHint("eles",!0),a.redrawHint("drag",!0)),a.prevPxRatio=s),!e&&a.motionBlurTimeout&&clearTimeout(a.motionBlurTimeout),f&&(a.mbFrames==null&&(a.mbFrames=0),a.mbFrames++,a.mbFrames<3&&(g=!1),a.mbFrames>a.minMbLowQualFrames&&(a.motionBlurPxRatio=a.mbPxRBlurry)),a.clearingMotionBlur&&(a.motionBlurPxRatio=1),a.textureDrawLastFrame&&!d&&(c[a.NODE]=!0,c[a.SELECT_BOX]=!0);var y=u.style(),w=u.zoom(),b=i!==void 0?i:w,I=u.pan(),E={x:I.x,y:I.y},D={zoom:w,pan:{x:I.x,y:I.y}},S=a.prevViewport,C=S===void 0||D.zoom!==S.zoom||D.pan.x!==S.pan.x||D.pan.y!==S.pan.y;!C&&!(m&&!p)&&(a.motionBlurPxRatio=1),o&&(E=o),b*=s,E.x*=s,E.y*=s;var N=a.getCachedZSortedEles();function M(ne,te,de,ce,se){var ge=ne.globalCompositeOperation;ne.globalCompositeOperation="destination-out",a.colorFillStyle(ne,255,255,255,a.motionBlurTransparency),ne.fillRect(te,de,ce,se),ne.globalCompositeOperation=ge}function A(ne,te){var de,ce,se,ge;!a.clearingMotionBlur&&(ne===l.bufferContexts[a.MOTIONBLUR_BUFFER_NODE]||ne===l.bufferContexts[a.MOTIONBLUR_BUFFER_DRAG])?(de={x:I.x*h,y:I.y*h},ce=w*h,se=a.canvasWidth*h,ge=a.canvasHeight*h):(de=E,ce=b,se=a.canvasWidth,ge=a.canvasHeight),ne.setTransform(1,0,0,1,0,0),te==="motionBlur"?M(ne,0,0,se,ge):!e&&(te===void 0||te)&&ne.clearRect(0,0,se,ge),n||(ne.translate(de.x,de.y),ne.scale(ce,ce)),o&&ne.translate(o.x,o.y),i&&ne.scale(i,i)}if(d||(a.textureDrawLastFrame=!1),d){if(a.textureDrawLastFrame=!0,!a.textureCache){a.textureCache={},a.textureCache.bb=u.mutableElements().boundingBox(),a.textureCache.texture=a.data.bufferCanvases[a.TEXTURE_BUFFER];var R=a.data.bufferContexts[a.TEXTURE_BUFFER];R.setTransform(1,0,0,1,0,0),R.clearRect(0,0,a.canvasWidth*a.textureMult,a.canvasHeight*a.textureMult),a.render({forcedContext:R,drawOnlyNodeLayer:!0,forcedPxRatio:s*a.textureMult});var D=a.textureCache.viewport={zoom:u.zoom(),pan:u.pan(),width:a.canvasWidth,height:a.canvasHeight};D.mpan={x:(0-D.pan.x)/D.zoom,y:(0-D.pan.y)/D.zoom}}c[a.DRAG]=!1,c[a.NODE]=!1;var T=l.contexts[a.NODE],O=a.textureCache.texture,D=a.textureCache.viewport;T.setTransform(1,0,0,1,0,0),f?M(T,0,0,D.width,D.height):T.clearRect(0,0,D.width,D.height);var _=y.core("outside-texture-bg-color").value,k=y.core("outside-texture-bg-opacity").value;a.colorFillStyle(T,_[0],_[1],_[2],k),T.fillRect(0,0,D.width,D.height);var w=u.zoom();A(T,!1),T.clearRect(D.mpan.x,D.mpan.y,D.width/D.zoom/s,D.height/D.zoom/s),T.drawImage(O,D.mpan.x,D.mpan.y,D.width/D.zoom/s,D.height/D.zoom/s)}else a.textureOnViewport&&!e&&(a.textureCache=null);var P=u.extent(),V=a.pinching||a.hoverData.dragging||a.swipePanning||a.data.wheelZooming||a.hoverData.draggingEles||a.cy.animated(),z=a.hideEdgesOnViewport&&V,B=[];if(B[a.NODE]=!c[a.NODE]&&f&&!a.clearedForMotionBlur[a.NODE]||a.clearingMotionBlur,B[a.NODE]&&(a.clearedForMotionBlur[a.NODE]=!0),B[a.DRAG]=!c[a.DRAG]&&f&&!a.clearedForMotionBlur[a.DRAG]||a.clearingMotionBlur,B[a.DRAG]&&(a.clearedForMotionBlur[a.DRAG]=!0),c[a.NODE]||n||r||B[a.NODE]){var $=f&&!B[a.NODE]&&h!==1,T=e||($?a.data.bufferContexts[a.MOTIONBLUR_BUFFER_NODE]:l.contexts[a.NODE]),W=f&&!$?"motionBlur":void 0;A(T,W),z?a.drawCachedNodes(T,N.nondrag,s,P):a.drawLayeredElements(T,N.nondrag,s,P),a.debug&&a.drawDebugPoints(T,N.nondrag),!n&&!f&&(c[a.NODE]=!1)}if(!r&&(c[a.DRAG]||n||B[a.DRAG])){var $=f&&!B[a.DRAG]&&h!==1,T=e||($?a.data.bufferContexts[a.MOTIONBLUR_BUFFER_DRAG]:l.contexts[a.DRAG]);A(T,f&&!$?"motionBlur":void 0),z?a.drawCachedNodes(T,N.drag,s,P):a.drawCachedElements(T,N.drag,s,P),a.debug&&a.drawDebugPoints(T,N.drag),!n&&!f&&(c[a.DRAG]=!1)}if(a.showFps||!r&&c[a.SELECT_BOX]&&!n){var T=e||l.contexts[a.SELECT_BOX];if(A(T),a.selection[4]==1&&(a.hoverData.selecting||a.touchData.selecting)){var w=a.cy.zoom(),K=y.core("selection-box-border-width").value/w;T.lineWidth=K,T.fillStyle="rgba("+y.core("selection-box-color").value[0]+","+y.core("selection-box-color").value[1]+","+y.core("selection-box-color").value[2]+","+y.core("selection-box-opacity").value+")",T.fillRect(a.selection[0],a.selection[1],a.selection[2]-a.selection[0],a.selection[3]-a.selection[1]),K>0&&(T.strokeStyle="rgba("+y.core("selection-box-border-color").value[0]+","+y.core("selection-box-border-color").value[1]+","+y.core("selection-box-border-color").value[2]+","+y.core("selection-box-opacity").value+")",T.strokeRect(a.selection[0],a.selection[1],a.selection[2]-a.selection[0],a.selection[3]-a.selection[1]))}if(l.bgActivePosistion&&!a.hoverData.selecting){var w=a.cy.zoom(),Q=l.bgActivePosistion;T.fillStyle="rgba("+y.core("active-bg-color").value[0]+","+y.core("active-bg-color").value[1]+","+y.core("active-bg-color").value[2]+","+y.core("active-bg-opacity").value+")",T.beginPath(),T.arc(Q.x,Q.y,y.core("active-bg-size").pfValue/w,0,2*Math.PI),T.fill()}var X=a.lastRedrawTime;if(a.showFps&&X){X=Math.round(X);var J=Math.round(1e3/X);T.setTransform(1,0,0,1,0,0),T.fillStyle="rgba(255, 0, 0, 0.75)",T.strokeStyle="rgba(255, 0, 0, 0.75)",T.lineWidth=1,T.fillText("1 frame = "+X+" ms = "+J+" fps",0,20);var q=60;T.strokeRect(0,30,250,20),T.fillRect(0,30,250*Math.min(J/q,1),20)}n||(c[a.SELECT_BOX]=!1)}if(f&&h!==1){var L=l.contexts[a.NODE],U=a.data.bufferCanvases[a.MOTIONBLUR_BUFFER_NODE],Z=l.contexts[a.DRAG],re=a.data.bufferCanvases[a.MOTIONBLUR_BUFFER_DRAG],ve=function(te,de,ce){te.setTransform(1,0,0,1,0,0),ce||!g?te.clearRect(0,0,a.canvasWidth,a.canvasHeight):M(te,0,0,a.canvasWidth,a.canvasHeight);var se=h;te.drawImage(de,0,0,a.canvasWidth*se,a.canvasHeight*se,0,0,a.canvasWidth,a.canvasHeight)};(c[a.NODE]||B[a.NODE])&&(ve(L,U,B[a.NODE]),c[a.NODE]=!1),(c[a.DRAG]||B[a.DRAG])&&(ve(Z,re,B[a.DRAG]),c[a.DRAG]=!1)}a.prevViewport=D,a.clearingMotionBlur&&(a.clearingMotionBlur=!1,a.motionBlurCleared=!0,a.motionBlur=!0),f&&(a.motionBlurTimeout=setTimeout(function(){a.motionBlurTimeout=null,a.clearedForMotionBlur[a.NODE]=!1,a.clearedForMotionBlur[a.DRAG]=!1,a.motionBlur=!1,a.clearingMotionBlur=!d,a.mbFrames=0,c[a.NODE]=!0,c[a.DRAG]=!0,a.redraw()},qP)),e||u.emit("render")};var Qr={};Qr.drawPolygonPath=function(t,e,n,r,i,o){var a=r/2,s=i/2;t.beginPath&&t.beginPath(),t.moveTo(e+a*o[0],n+s*o[1]);for(var u=1;u<o.length/2;u++)t.lineTo(e+a*o[u*2],n+s*o[u*2+1]);t.closePath()};Qr.drawRoundPolygonPath=function(t,e,n,r,i,o,a){a.forEach(function(s){return ID(t,s)}),t.closePath()};Qr.drawRoundRectanglePath=function(t,e,n,r,i,o){var a=r/2,s=i/2,u=o==="auto"?ki(r,i):Math.min(o,s,a);t.beginPath&&t.beginPath(),t.moveTo(e,n-s),t.arcTo(e+a,n-s,e+a,n,u),t.arcTo(e+a,n+s,e,n+s,u),t.arcTo(e-a,n+s,e-a,n,u),t.arcTo(e-a,n-s,e,n-s,u),t.lineTo(e,n-s),t.closePath()};Qr.drawBottomRoundRectanglePath=function(t,e,n,r,i,o){var a=r/2,s=i/2,u=o==="auto"?ki(r,i):o;t.beginPath&&t.beginPath(),t.moveTo(e,n-s),t.lineTo(e+a,n-s),t.lineTo(e+a,n),t.arcTo(e+a,n+s,e,n+s,u),t.arcTo(e-a,n+s,e-a,n,u),t.lineTo(e-a,n-s),t.lineTo(e,n-s),t.closePath()};Qr.drawCutRectanglePath=function(t,e,n,r,i,o,a){var s=r/2,u=i/2,l=a==="auto"?Tp():a;t.beginPath&&t.beginPath(),t.moveTo(e-s+l,n-u),t.lineTo(e+s-l,n-u),t.lineTo(e+s,n-u+l),t.lineTo(e+s,n+u-l),t.lineTo(e+s-l,n+u),t.lineTo(e-s+l,n+u),t.lineTo(e-s,n+u-l),t.lineTo(e-s,n-u+l),t.closePath()};Qr.drawBarrelPath=function(t,e,n,r,i){var o=r/2,a=i/2,s=e-o,u=e+o,l=n-a,c=n+a,d=rp(r,i),f=d.widthOffset,h=d.heightOffset,p=d.ctrlPtOffsetPct*f;t.beginPath&&t.beginPath(),t.moveTo(s,l+h),t.lineTo(s,c-h),t.quadraticCurveTo(s+p,c,s+f,c),t.lineTo(u-f,c),t.quadraticCurveTo(u-p,c,u,c-h),t.lineTo(u,l+h),t.quadraticCurveTo(u-p,l,u-f,l),t.lineTo(s+f,l),t.quadraticCurveTo(s+p,l,s,l+h),t.closePath()};var ib=Math.sin(0),ob=Math.cos(0),gp={},vp={},FD=Math.PI/40;for(Ii=0*Math.PI;Ii<2*Math.PI;Ii+=FD)gp[Ii]=Math.sin(Ii),vp[Ii]=Math.cos(Ii);var Ii;Qr.drawEllipsePath=function(t,e,n,r,i){if(t.beginPath&&t.beginPath(),t.ellipse)t.ellipse(e,n,r/2,i/2,0,0,2*Math.PI);else for(var o,a,s=r/2,u=i/2,l=0*Math.PI;l<2*Math.PI;l+=FD)o=e-s*gp[l]*ib+s*vp[l]*ob,a=n+u*vp[l]*ib+u*gp[l]*ob,l===0?t.moveTo(o,a):t.lineTo(o,a);t.closePath()};var Ls={};Ls.createBuffer=function(t,e){var n=document.createElement("canvas");return n.width=t,n.height=e,[n,n.getContext("2d")]};Ls.bufferCanvasImage=function(t){var e=this.cy,n=e.mutableElements(),r=n.boundingBox(),i=this.findContainerClientCoords(),o=t.full?Math.ceil(r.w):i[2],a=t.full?Math.ceil(r.h):i[3],s=ie(t.maxWidth)||ie(t.maxHeight),u=this.getPixelRatio(),l=1;if(t.scale!==void 0)o*=t.scale,a*=t.scale,l=t.scale;else if(s){var c=1/0,d=1/0;ie(t.maxWidth)&&(c=l*t.maxWidth/o),ie(t.maxHeight)&&(d=l*t.maxHeight/a),l=Math.min(c,d),o*=l,a*=l}s||(o*=u,a*=u,l*=u);var f=document.createElement("canvas");f.width=o,f.height=a,f.style.width=o+"px",f.style.height=a+"px";var h=f.getContext("2d");if(o>0&&a>0){h.clearRect(0,0,o,a),h.globalCompositeOperation="source-over";var p=this.getCachedZSortedEles();if(t.full)h.translate(-r.x1*l,-r.y1*l),h.scale(l,l),this.drawElements(h,p),h.scale(1/l,1/l),h.translate(r.x1*l,r.y1*l);else{var m=e.pan(),v={x:m.x*l,y:m.y*l};l*=e.zoom(),h.translate(v.x,v.y),h.scale(l,l),this.drawElements(h,p),h.scale(1/l,1/l),h.translate(-v.x,-v.y)}t.bg&&(h.globalCompositeOperation="destination-over",h.fillStyle=t.bg,h.rect(0,0,o,a),h.fill())}return f};function GP(t,e){for(var n=atob(t),r=new ArrayBuffer(n.length),i=new Uint8Array(r),o=0;o<n.length;o++)i[o]=n.charCodeAt(o);return new Blob([r],{type:e})}function ab(t){var e=t.indexOf(",");return t.substr(e+1)}function BD(t,e,n){var r=function(){return e.toDataURL(n,t.quality)};switch(t.output){case"blob-promise":return new Yo(function(i,o){try{e.toBlob(function(a){a!=null?i(a):o(new Error("`canvas.toBlob()` sent a null value in its callback"))},n,t.quality)}catch(a){o(a)}});case"blob":return GP(ab(r()),n);case"base64":return ab(r());case"base64uri":default:return r()}}Ls.png=function(t){return BD(t,this.bufferCanvasImage(t),"image/png")};Ls.jpg=function(t){return BD(t,this.bufferCanvasImage(t),"image/jpeg")};var VD={};VD.nodeShapeImpl=function(t,e,n,r,i,o,a,s){switch(t){case"ellipse":return this.drawEllipsePath(e,n,r,i,o);case"polygon":return this.drawPolygonPath(e,n,r,i,o,a);case"round-polygon":return this.drawRoundPolygonPath(e,n,r,i,o,a,s);case"roundrectangle":case"round-rectangle":return this.drawRoundRectanglePath(e,n,r,i,o,s);case"cutrectangle":case"cut-rectangle":return this.drawCutRectanglePath(e,n,r,i,o,a,s);case"bottomroundrectangle":case"bottom-round-rectangle":return this.drawBottomRoundRectanglePath(e,n,r,i,o,s);case"barrel":return this.drawBarrelPath(e,n,r,i,o)}};var WP=$D,qe=$D.prototype;qe.CANVAS_LAYERS=3;qe.SELECT_BOX=0;qe.DRAG=1;qe.NODE=2;qe.BUFFER_COUNT=3;qe.TEXTURE_BUFFER=0;qe.MOTIONBLUR_BUFFER_NODE=1;qe.MOTIONBLUR_BUFFER_DRAG=2;function $D(t){var e=this,n=e.cy.window(),r=n.document;e.data={canvases:new Array(qe.CANVAS_LAYERS),contexts:new Array(qe.CANVAS_LAYERS),canvasNeedsRedraw:new Array(qe.CANVAS_LAYERS),bufferCanvases:new Array(qe.BUFFER_COUNT),bufferContexts:new Array(qe.CANVAS_LAYERS)};var i="-webkit-tap-highlight-color",o="rgba(0,0,0,0)";e.data.canvasContainer=r.createElement("div");var a=e.data.canvasContainer.style;e.data.canvasContainer.style[i]=o,a.position="relative",a.zIndex="0",a.overflow="hidden";var s=t.cy.container();s.appendChild(e.data.canvasContainer),s.style[i]=o;var u={"-webkit-user-select":"none","-moz-user-select":"-moz-none","user-select":"none","-webkit-tap-highlight-color":"rgba(0,0,0,0)","outline-style":"none"};O1()&&(u["-ms-touch-action"]="none",u["touch-action"]="none");for(var l=0;l<qe.CANVAS_LAYERS;l++){var c=e.data.canvases[l]=r.createElement("canvas");e.data.contexts[l]=c.getContext("2d"),Object.keys(u).forEach(function(q){c.style[q]=u[q]}),c.style.position="absolute",c.setAttribute("data-id","layer"+l),c.style.zIndex=String(qe.CANVAS_LAYERS-l),e.data.canvasContainer.appendChild(c),e.data.canvasNeedsRedraw[l]=!1}e.data.topCanvas=e.data.canvases[0],e.data.canvases[qe.NODE].setAttribute("data-id","layer"+qe.NODE+"-node"),e.data.canvases[qe.SELECT_BOX].setAttribute("data-id","layer"+qe.SELECT_BOX+"-selectbox"),e.data.canvases[qe.DRAG].setAttribute("data-id","layer"+qe.DRAG+"-drag");for(var l=0;l<qe.BUFFER_COUNT;l++)e.data.bufferCanvases[l]=r.createElement("canvas"),e.data.bufferContexts[l]=e.data.bufferCanvases[l].getContext("2d"),e.data.bufferCanvases[l].style.position="absolute",e.data.bufferCanvases[l].setAttribute("data-id","buffer"+l),e.data.bufferCanvases[l].style.zIndex=String(-l-1),e.data.bufferCanvases[l].style.visibility="hidden";e.pathsEnabled=!0;var d=rn(),f=function(L){return{x:(L.x1+L.x2)/2,y:(L.y1+L.y2)/2}},h=function(L){return{x:-L.w/2,y:-L.h/2}},p=function(L){var U=L[0]._private,Z=U.oldBackgroundTimestamp===U.backgroundTimestamp;return!Z},m=function(L){return L[0]._private.nodeKey},v=function(L){return L[0]._private.labelStyleKey},g=function(L){return L[0]._private.sourceLabelStyleKey},y=function(L){return L[0]._private.targetLabelStyleKey},w=function(L,U,Z,re,ve){return e.drawElement(L,U,Z,!1,!1,ve)},b=function(L,U,Z,re,ve){return e.drawElementText(L,U,Z,re,"main",ve)},I=function(L,U,Z,re,ve){return e.drawElementText(L,U,Z,re,"source",ve)},E=function(L,U,Z,re,ve){return e.drawElementText(L,U,Z,re,"target",ve)},D=function(L){return L.boundingBox(),L[0]._private.bodyBounds},S=function(L){return L.boundingBox(),L[0]._private.labelBounds.main||d},C=function(L){return L.boundingBox(),L[0]._private.labelBounds.source||d},N=function(L){return L.boundingBox(),L[0]._private.labelBounds.target||d},M=function(L,U){return U},A=function(L){return f(D(L))},R=function(L,U,Z){var re=L?L+"-":"";return{x:U.x+Z.pstyle(re+"text-margin-x").pfValue,y:U.y+Z.pstyle(re+"text-margin-y").pfValue}},T=function(L,U,Z){var re=L[0]._private.rscratch;return{x:re[U],y:re[Z]}},O=function(L){return R("",T(L,"labelX","labelY"),L)},_=function(L){return R("source",T(L,"sourceLabelX","sourceLabelY"),L)},k=function(L){return R("target",T(L,"targetLabelX","targetLabelY"),L)},P=function(L){return h(D(L))},V=function(L){return h(C(L))},z=function(L){return h(N(L))},B=function(L){var U=S(L),Z=h(S(L));if(L.isNode()){switch(L.pstyle("text-halign").value){case"left":Z.x=-U.w-(U.leftPad||0);break;case"right":Z.x=-(U.rightPad||0);break}switch(L.pstyle("text-valign").value){case"top":Z.y=-U.h-(U.topPad||0);break;case"bottom":Z.y=-(U.botPad||0);break}}return Z},$=e.data.eleTxrCache=new ps(e,{getKey:m,doesEleInvalidateKey:p,drawElement:w,getBoundingBox:D,getRotationPoint:A,getRotationOffset:P,allowEdgeTxrCaching:!1,allowParentTxrCaching:!1}),W=e.data.lblTxrCache=new ps(e,{getKey:v,drawElement:b,getBoundingBox:S,getRotationPoint:O,getRotationOffset:B,isVisible:M}),K=e.data.slbTxrCache=new ps(e,{getKey:g,drawElement:I,getBoundingBox:C,getRotationPoint:_,getRotationOffset:V,isVisible:M}),Q=e.data.tlbTxrCache=new ps(e,{getKey:y,drawElement:E,getBoundingBox:N,getRotationPoint:k,getRotationOffset:z,isVisible:M}),X=e.data.lyrTxrCache=new kD(e);e.onUpdateEleCalcs(function(L,U){$.invalidateElements(U),W.invalidateElements(U),K.invalidateElements(U),Q.invalidateElements(U),X.invalidateElements(U);for(var Z=0;Z<U.length;Z++){var re=U[Z]._private;re.oldBackgroundTimestamp=re.backgroundTimestamp}});var J=function(L){for(var U=0;U<L.length;U++)X.enqueueElementRefinement(L[U].ele)};$.onDequeue(J),W.onDequeue(J),K.onDequeue(J),Q.onDequeue(J)}qe.redrawHint=function(t,e){var n=this;switch(t){case"eles":n.data.canvasNeedsRedraw[qe.NODE]=e;break;case"drag":n.data.canvasNeedsRedraw[qe.DRAG]=e;break;case"select":n.data.canvasNeedsRedraw[qe.SELECT_BOX]=e;break}};var ZP=typeof Path2D<"u";qe.path2dEnabled=function(t){if(t===void 0)return this.pathsEnabled;this.pathsEnabled=!!t};qe.usePaths=function(){return ZP&&this.pathsEnabled};qe.setImgSmoothing=function(t,e){t.imageSmoothingEnabled!=null?t.imageSmoothingEnabled=e:(t.webkitImageSmoothingEnabled=e,t.mozImageSmoothingEnabled=e,t.msImageSmoothingEnabled=e)};qe.getImgSmoothing=function(t){return t.imageSmoothingEnabled!=null?t.imageSmoothingEnabled:t.webkitImageSmoothingEnabled||t.mozImageSmoothingEnabled||t.msImageSmoothingEnabled};qe.makeOffscreenCanvas=function(t,e){var n;if((typeof OffscreenCanvas>"u"?"undefined":St(OffscreenCanvas))!=="undefined")n=new OffscreenCanvas(t,e);else{var r=this.cy.window(),i=r.document;n=i.createElement("canvas"),n.width=t,n.height=e}return n};[OD,ir,Sr,jp,Bi,ra,vn,Qr,Ls,VD].forEach(function(t){ye(qe,t)});var YP=[{name:"null",impl:DD},{name:"base",impl:RD},{name:"canvas",impl:WP}],KP=[{type:"layout",extensions:nP},{type:"renderer",extensions:YP}],jD={},HD={};function zD(t,e,n){var r=n,i=function(S){Xe("Can not register `"+e+"` for `"+t+"` since `"+S+"` already exists in the prototype and can not be overridden")};if(t==="core"){if(Ts.prototype[e])return i(e);Ts.prototype[e]=n}else if(t==="collection"){if(Bt.prototype[e])return i(e);Bt.prototype[e]=n}else if(t==="layout"){for(var o=function(S){this.options=S,n.call(this,S),Ue(this._private)||(this._private={}),this._private.cy=S.cy,this._private.listeners=[],this.createEmitter()},a=o.prototype=Object.create(n.prototype),s=[],u=0;u<s.length;u++){var l=s[u];a[l]=a[l]||function(){return this}}a.start&&!a.run?a.run=function(){return this.start(),this}:!a.start&&a.run&&(a.start=function(){return this.run(),this});var c=n.prototype.stop;a.stop=function(){var D=this.options;if(D&&D.animate){var S=this.animations;if(S)for(var C=0;C<S.length;C++)S[C].stop()}return c?c.call(this):this.emit("layoutstop"),this},a.destroy||(a.destroy=function(){return this}),a.cy=function(){return this._private.cy};var d=function(S){return S._private.cy},f={addEventFields:function(S,C){C.layout=S,C.cy=d(S),C.target=S},bubble:function(){return!0},parent:function(S){return d(S)}};ye(a,{createEmitter:function(){return this._private.emitter=new mc(f,this),this},emitter:function(){return this._private.emitter},on:function(S,C){return this.emitter().on(S,C),this},one:function(S,C){return this.emitter().one(S,C),this},once:function(S,C){return this.emitter().one(S,C),this},removeListener:function(S,C){return this.emitter().removeListener(S,C),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},emit:function(S,C){return this.emitter().emit(S,C),this}}),Qe.eventAliasesOn(a),r=o}else if(t==="renderer"&&e!=="null"&&e!=="base"){var h=UD("renderer","base"),p=h.prototype,m=n,v=n.prototype,g=function(){h.apply(this,arguments),m.apply(this,arguments)},y=g.prototype;for(var w in p){var b=p[w],I=v[w]!=null;if(I)return i(w);y[w]=b}for(var E in v)y[E]=v[E];p.clientFunctions.forEach(function(D){y[D]=y[D]||function(){pt("Renderer does not implement `renderer."+D+"()` on its prototype")}}),r=g}else if(t==="__proto__"||t==="constructor"||t==="prototype")return pt(t+" is an illegal type to be registered, possibly lead to prototype pollutions");return gb({map:jD,keys:[t,e],value:r})}function UD(t,e){return vb({map:jD,keys:[t,e]})}function QP(t,e,n,r,i){return gb({map:HD,keys:[t,e,n,r],value:i})}function XP(t,e,n,r){return vb({map:HD,keys:[t,e,n,r]})}var mp=function(){if(arguments.length===2)return UD.apply(null,arguments);if(arguments.length===3)return zD.apply(null,arguments);if(arguments.length===4)return XP.apply(null,arguments);if(arguments.length===5)return QP.apply(null,arguments);pt("Invalid extension access syntax")};Ts.prototype.extension=mp;KP.forEach(function(t){t.extensions.forEach(function(e){zD(t.type,e.name,e.impl)})});var qD=function t(){if(!(this instanceof t))return new t;this.length=0},Li=qD.prototype;Li.instanceString=function(){return"stylesheet"};Li.selector=function(t){var e=this.length++;return this[e]={selector:t,properties:[]},this};Li.css=function(t,e){var n=this.length-1;if(pe(t))this[n].properties.push({name:t,value:e});else if(Ue(t))for(var r=t,i=Object.keys(r),o=0;o<i.length;o++){var a=i[o],s=r[a];if(s!=null){var u=Gt.properties[a]||Gt.properties[sc(a)];if(u!=null){var l=u.name,c=s;this[n].properties.push({name:l,value:c})}}}return this};Li.style=Li.css;Li.generateStyle=function(t){var e=new Gt(t);return this.appendToStyle(e)};Li.appendToStyle=function(t){for(var e=0;e<this.length;e++){var n=this[e],r=n.selector,i=n.properties;t.selector(r);for(var o=0;o<i.length;o++){var a=i[o];t.css(a.name,a.value)}}return t};var JP="3.30.4",Yr=function(e){if(e===void 0&&(e={}),Ue(e))return new Ts(e);if(pe(e))return mp.apply(mp,arguments)};Yr.use=function(t){var e=Array.prototype.slice.call(arguments,1);return e.unshift(Yr),t.apply(null,e),this};Yr.warnings=function(t){return Ib(t)};Yr.version=JP;Yr.stylesheet=Yr.Stylesheet=qD;var eL=["cytoscape"];function tL(t,e){if(t&1&&yo(0),t&2){let n=zf().$implicit;Gf(" ",n.name," ")}}function nL(t,e){t&1&&yo(0," Empty ")}function rL(t,e){if(t&1){let n=Hf();Lr(0,"div",5),pi("click",function(){let i=Ta(n).$index,o=zf();return Ma(o.powerClicked(i))}),$f(1,tL,1,1)(2,nL,1,0),hi()}if(t&2){let n=e.$implicit;Nf(),xy(n?1:2)}}var Sc=class t{title="PathOfAchraGraph";powers=new Array(8).fill(null);cytoscape;cytoscapeContainer;constructor(){this.powers[0]=Hh.find(e=>e.name=="Toxokinesis")}ngAfterViewInit(){this.cytoscape=Yr({container:this.cytoscapeContainer.nativeElement,style:[{selector:"node",style:{label:"data(id)","background-color":"data(color)"}},{selector:"edge",style:{"curve-style":"bezier","source-label":"data(start)","target-label":"data(end)","source-text-offset":100,"target-text-offset":100,"target-arrow-shape":"triangle","target-arrow-color":"red"}}]})}powerClicked(e){this.powers[e]=null}addRandomPower(){let e=this.powers.findIndex(r=>!r),n=Hh.filter(r=>!this.powers.some(i=>i?.name==r.name));if(n.length==0){console.log("No more powers.");return}this.powers[e]=n[Math.floor(Math.random()*n.length)]}randomizeAllPowers(){this.powers.fill(null);for(let e=0;e<this.powers.length;e++)this.addRandomPower()}getElementsFromPowers(){let e=[],n=this.powers.filter(r=>r).map(r=>r);for(let r of n){e.push(r.toNode());for(let i of r.effects)for(let o of n)for(let a of o.effects)a.isTriggeredBy(i)&&e.push(q0(`${r.name}-${o.name}-${i.getTriggerString()}-${i.getEffectsString()}`,r.name,o.name,{start:i.getEffectsString(),end:a.getEffectsString()}))}return e}buildGraph(){this.cytoscape.elements().remove(),this.cytoscape.add(this.getElementsFromPowers()),this.cytoscape.layout({name:"breadthfirst"}).run()}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Xu({type:t,selectors:[["app-root"]],viewQuery:function(n,r){if(n&1&&Ny(eL,5),n&2){let i;Uf(i=qf())&&(r.cytoscapeContainer=i.first)}},decls:11,vars:0,consts:[["cytoscape",""],[1,"d-flex"],[1,"border","text-center","align-content-center",2,"width","100px","height","100px"],[3,"click"],[1,"d-block","border","w-100",2,"height","500px"],[1,"border","text-center","align-content-center",2,"width","100px","height","100px",3,"click"]],template:function(n,r){if(n&1){let i=Hf();Lr(0,"div",1),My(1,rL,3,1,"div",2,Ty),Lr(3,"button",3),pi("click",function(){return Ta(i),Ma(r.addRandomPower())}),yo(4,"Add Random"),hi(),Lr(5,"button",3),pi("click",function(){return Ta(i),Ma(r.randomizeAllPowers())}),yo(6,"All Random"),hi()(),Lr(7,"button",3),pi("click",function(){return Ta(i),Ma(r.buildGraph())}),yo(8,"Build Graph"),hi(),ka(9,"div",4,0)}n&2&&(Nf(),Ay(r.powers))},encapsulation:2})};r0(Sc,z0).catch(t=>console.error(t));
